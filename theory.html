<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />

    <!-- Begin Jekyll SEO tag v2.8.0 -->
    <title>PRISM | Programming really is simple mathematics.</title>
    <meta name="generator" content="Jekyll v4.4.1" />
    <meta property="og:title" content="PRISM" />
    <meta property="og:locale" content="en_US" />
    <meta
      name="description"
      content="Programming really is simple mathematics."
    />
    <meta
      property="og:description"
      content="Programming really is simple mathematics."
    />
    <link rel="canonical" href="https://se.constructor.ch/PRISM/theory.html" />
    <meta
      property="og:url"
      content="https://se.constructor.ch/PRISM/theory.html"
    />
    <meta property="og:site_name" content="PRISM" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="PRISM" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "description": "Programming really is simple mathematics.",
        "headline": "PRISM",
        "url": "https://se.constructor.ch/PRISM/theory.html"
      }
    </script>
    <!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/PRISM/assets/css/main.css" />
  </head>
  <body class="flex">
    <div class="flex-1 flex flex-row-reverse"></div>
    <div class="w-full md:w-[50rem]">
      <header class="mx-auto w-full text-white bg-navy-blue p-2">
        <a href="https://institute.constructor.org/">
          <img
            src="/PRISM/assets/images/C_IT_Logo_White_On_Transparent-cropped-min.svg"
            alt="Constructor Institute of Technology logo"
            class="h-3.5 block"
          />
        </a>

        <div class="mt-2">
          <a href="https://se.constructor.ch" class="text-lg">
            ← Chair of Software Engineering
          </a>
        </div>

        <a href="/PRISM/" class="text-2xl my-2 inline-block"> PRISM </a>
        <ul class="flex items-center gap-6">
          <li>
            <a href="/PRISM/">Home</a>
          </li>

          <li>
            <a href="/PRISM/theory">Theory</a>
          </li>
        </ul>
      </header>

      <div class="p-2">
        <main class="prose mx-auto">
          <h1 id="introduction">Introduction</h1>
          <p>
            This content is automatically generated from the Isabelle theory
            files.
          </p>

          <p>
            All the definitions and theorems in the paper have a corresponding
            theorem or definition here.
          </p>

          <h1 id="definitions">Definitions</h1>

          <h2 id="definitionsthy">Definitions.thy</h2>

          <p>
            <strong>record</strong> :: <em>‘a Program</em> = State :: “‘a set”
            Pre :: “‘a set” post :: “‘a rel”
          </p>

          <p>
            <a id="basic"
              ><strong>basic []</strong> :: <em>‘a CNF ⇒ ‘a Program set</em></a
            >
          </p>

          <p>    basic p ≡ foldl (∪) ({}::’a Program set) (map (set) p)</p>

          <hr />
          <p>
            <a id="S"><strong>S []</strong> :: <em>‘a Program ⇒ ‘a set</em></a>
          </p>

          <p>    S p = State p ∪ Pre p ∪ Field (post p)</p>

          <hr />
          <p>
            <a id="used_states"
              ><strong>used_states []</strong> ::
              <em>‘a Program ⇒ ‘a set</em></a
            >
          </p>

          <p>    used_states p ≡ Pre p ∪ Field (post p)</p>

          <hr />
          <p>
            <a id="is_feasible"
              ><strong>is_feasible []</strong> :: <em>‘a Program ⇒ bool</em></a
            >
          </p>

          <p>    is_feasible p = (Pre p ⊆ Domain (post p))</p>

          <hr />
          <p>
            <a id="all_feasible"
              ><strong>all_feasible []</strong> ::
              <em>(‘a Program) list ⇒ bool</em></a
            >
          </p>

          <p>    all_feasible [ ] = True</p>

          <p>    all_feasible (x # xs) = (all_feasible xs ∧ is_feasible x)</p>

          <hr />
          <p>
            <a id="cnf_feasible"
              ><strong>cnf_feasible []</strong> :: <em>‘a CNF ⇒ bool</em></a
            >
          </p>

          <p>    cnf_feasible [ ] = True</p>

          <p>    cnf_feasible (x # xs) = (all_feasible x ∧ cnf_feasible xs)</p>

          <hr />
          <p>
            <a id="is_valid"
              ><strong>is_valid []</strong> :: <em>‘a Program ⇒ bool</em></a
            >
          </p>

          <p>    is_valid p ≡ S p = State p</p>

          <hr />
          <p>
            <a id="all_valid"
              ><strong>all_valid []</strong> ::
              <em>(‘a Program) list ⇒ bool</em></a
            >
          </p>

          <p>    all_valid [ ] = True</p>

          <p>    all_valid (x#xs) = (all_valid xs ∧ is_valid x)</p>

          <hr />
          <p>
            <a id="is_deterministic"
              ><strong>is_deterministic []</strong> ::
              <em>‘a Program ⇒ bool</em></a
            >
          </p>

          <p>    is_deterministic p = is_function (post p)</p>

          <hr />
          <p>
            <a id="is_functional"
              ><strong>is_functional []</strong> ::
              <em>‘a Program ⇒ bool</em></a
            >
          </p>

          <p>    is_functional p ≡ ∀C⊆(S p). Image (post p) C ∩ C = {}</p>

          <hr />
          <p>
            <a id="is_total"
              ><strong>is_total []</strong> :: <em>‘a Program ⇒ bool</em></a
            >
          </p>

          <p>    is_total p = (Pre p = S p)</p>

          <hr />
          <p>
            <a id="restr_post"
              ><strong>restr_post []</strong> :: <em>‘a Program ⇒ ‘a rel</em></a
            >
          </p>

          <p>    restr_post p = post p / Pre p</p>

          <hr />
          <p>
            <a id="equal"
              ><strong>equal [=]</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                p<sub>1</sub> = p<sub>2</sub> ≡ (Pre p<sub>1</sub> = Pre p<sub
              >2</sub
            >
            ∧ post p<sub>1</sub> = post p<sub>2</sub> ∧ S p<sub>1</sub> = S
            p<sub>2</sub>)
          </p>

          <hr />
          <p>
            <a id="equiv"
              ><strong>equiv [≡]</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                p<sub>1</sub> ≡ p<sub>2</sub> ≡ (Pre p<sub>1</sub> = Pre p<sub
              >2</sub
            >
            ∧ restr_post p<sub>1</sub> = restr_post p<sub>2</sub>)
          </p>

          <hr />
          <p>
            <a id="Range_p"
              ><strong>Range_p []</strong> :: <em>‘a Program ⇒ ‘a set</em></a
            >
          </p>

          <p>    Range_p p = Range (post p / Pre p)</p>

          <hr />
          <p>
            <a id="inverse"
              ><strong>inverse [<sup>-</sup><sup>1</sup>]</strong> ::
              <em>‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                inverse p ≡ 〈State=S p, Pre=Range_p p, post=(restr_post p)⁻¹〉
          </p>

          <hr />
          <p>
            <a id="extends"
              ><strong>extends []</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                extends p<sub>2</sub> p<sub>1</sub> = (S p<sub>1</sub> ⊆ S
            p<sub>2</sub>)
          </p>

          <hr />
          <p>
            <a id="weakens"
              ><strong>weakens []</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                weakens p<sub>2</sub> p<sub>1</sub> = (Pre p<sub>1</sub> ⊆ Pre
            p<sub>2</sub>)
          </p>

          <hr />
          <p>
            <a id="strengthens"
              ><strong>strengthens []</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                strengthens p<sub>2</sub> p<sub>1</sub> ≡ ((post p<sub>2</sub>)
            / Pre p<sub>2</sub>) / (Pre p<sub>1</sub>) ⊆ post p<sub>1</sub>
          </p>

          <hr />
          <p>
            <a id="refines"
              ><strong>refines [⊑]</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                p<sub>1</sub> ⊑ p<sub>2</sub> = (extends p<sub>1</sub> p<sub
              >2</sub
            >
            ∧ weakens p<sub>1</sub> p<sub>2</sub> ∧ strengthens p<sub>1</sub>
            p<sub>2</sub>)
          </p>

          <hr />
          <p>
            <a id="refines_c"
              ><strong>refines_c [⊑]</strong> ::
              <em>‘a Contracted_Program ⇒ ‘a Contracted_Program ⇒ bool</em></a
            >
          </p>

          <p>
                cp<sub>2</sub> ⊑ cp<sub>1</sub> ≡ a_specification cp<sub>2</sub>
            = a_specification cp<sub>1</sub> ∧ a_implementation cp<sub>2</sub> ⊑
            a_implementation cp<sub>1</sub>
          </p>

          <hr />
          <p>
            <a id="specialize"
              ><strong>specialize [⊆]</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                p<sub>1</sub> ⊆ p<sub>2</sub> ≡ extends p<sub>2</sub> p<sub
              >1</sub
            >
            ∧ weakens p<sub>2</sub> p<sub>1</sub> ∧ strengthens p<sub>1</sub>
            p<sub>2</sub>
          </p>

          <hr />
          <p>
            <a id="independent"
              ><strong>independent []</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                independent p<sub>1</sub> p<sub>2</sub> = (Pre p<sub>1</sub> ∩
            Pre p<sub>2</sub> = {})
          </p>

          <hr />
          <p>
            <a id="implements"
              ><strong>implements []</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                implements p<sub>2</sub> p<sub>1</sub> = (p<sub>2</sub> ⊑ p<sub
              >1</sub
            >
            ∧ is_feasible p<sub>2</sub>)
          </p>

          <hr />
          <p>
            <a id="most_abstract_implementation"
              ><strong>most_abstract_implementation []</strong> ::
              <em>‘a Program ⇒ ‘a Contracted_Program</em></a
            >
          </p>

          <p>
                most_abstract_implementation p ≡ 〈a_specification=p,
            a_implementation=p〉
          </p>

          <hr />
          <p>
            <a id="MAI"
              ><strong>MAI []</strong> ::
              <em>‘a Program ⇒ ‘a Contracted_Program</em></a
            >
          </p>

          <p>    MAI ≡ most_abstract_implementation</p>

          <hr />
          <p>
            <a id="is_correct"
              ><strong>is_correct []</strong> ::
              <em>‘a Contracted_Program ⇒ bool</em></a
            >
          </p>

          <p>
                is_correct cp = implements (a_implementation cp)
            (a_specification cp)
          </p>

          <hr />
          <p>
            <a id="strongest_postcondition"
              ><strong>strongest_postcondition [sp]</strong> ::
              <em>‘a Program ⇒ ‘a set ⇒ ‘a rel</em></a
            >
          </p>

          <p>    p sp Pre’ ≡ post (p) / Pre’</p>

          <hr />
          <p>
            <a id="new_behavior"
              ><strong>new_behavior []</strong> ::
              <em>‘a Program ⇒ ‘a rel ⇒ ‘a rel</em></a
            >
          </p>

          <p>    new_behavior p post’ ≡ post p - post’</p>

          <hr />
          <p>
            <a id="weakest_precondition"
              ><strong>weakest_precondition [wp]</strong> ::
              <em>‘a Program ⇒ ‘a rel ⇒ ‘a set</em></a
            >
          </p>

          <p>    p wp post’ ≡ Pre p - Domain (new_behavior p post’)</p>

          <hr />
          <p>
            <a id="choice"
              ><strong>choice [∪]</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                p<sub>1</sub> ∪ p<sub>2</sub> = 〈State= S p<sub>1</sub> ∪ S
            p<sub>2</sub>, Pre = Pre p<sub>1</sub> ∪ Pre p<sub>2</sub>, post =
            restr_post p<sub>1</sub> ∪ restr_post p<sub>2</sub>〉
          </p>

          <hr />
          <p>
            <a id="non_empty"
              ><strong>non_empty []</strong> :: <em>‘a CNF ⇒ ‘a CNF</em></a
            >
          </p>

          <p>    non_empty xs ≡ [t . t ← xs, t ≠ [ ]]</p>

          <hr />
          <p>
            <a id="non_empty2"
              ><strong>non_empty2 []</strong> ::
              <em>‘a CNF list ⇒ ‘a CNF list</em></a
            >
          </p>

          <p>
                non_empty2 xs ≡ [prog2. prog2 ← [non_empty prog. prog ← xs],
            prog2 ≠ [ ]]
          </p>

          <hr />
          <p>
            <a id="choice_cnf"
              ><strong>choice_cnf [∪]</strong> ::
              <em>‘a CNF ⇒ ‘a CNF ⇒ ‘a CNF</em></a
            >
          </p>

          <p>    choice_cnf a b ≡ a @ b</p>

          <hr />
          <p>
            <a id="composition_cnf"
              ><strong>composition_cnf [;]</strong> ::
              <em>‘a CNF ⇒ ‘a CNF ⇒ ‘a CNF</em></a
            >
          </p>

          <p>    composition_cnf a b ≡ [xs @ ys. xs ← a, ys ← b]</p>

          <hr />
          <p>
            <a id="is_prime"
              ><strong>is_prime []</strong> :: <em>‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                is_prime p ≡ card (Pre p) = 1 ∧ card (post p) = 1 ∧ Pre p ∪
            Field (post p) = State p
          </p>

          <hr />
          <p>
            <a id="composition"
              ><strong>composition [;]</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                p<sub>1</sub> ; p<sub>2</sub> = 〈 State = S p<sub>1</sub> ∪ S
            p<sub>2</sub>, Pre = Pre p<sub>1</sub> ∩ Domain (post p<sub>1</sub>
            ∖ Pre p<sub>2</sub>), post = (post p<sub>1</sub>) O (restr_post
            p<sub>2</sub>)〉
          </p>

          <hr />
          <p>
            <a id="commute_programs1"
              ><strong>commute_programs1 []</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                commute_programs1 p<sub>1</sub> p<sub>2</sub> ≡ (p<sub>1</sub> ;
            p<sub>2</sub>) = (p<sub>2</sub> ; p<sub>1</sub>)
          </p>

          <hr />
          <p>
            <a id="commute_programs2"
              ><strong>commute_programs2 []</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                commute_programs2 p<sub>1</sub> p<sub>2</sub> ≡ (p<sub>1</sub> ;
            p<sub>2</sub>) = (p<sub>2</sub> ; p<sub>1</sub>)
          </p>

          <hr />
          <p>
            <a id="commute_programs3"
              ><strong>commute_programs3 []</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                commute_programs3 p<sub>1</sub> p<sub>2</sub> ≡ (p<sub>1</sub> ;
            p<sub>2</sub>) ≡ (p<sub>2</sub> ; p<sub>1</sub>)
          </p>

          <hr />
          <p>
            <a id="unsafe_composition"
              ><strong>unsafe_composition [;]</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                p<sub>1</sub> ; p<sub>2</sub> = 〈 State = S p<sub>1</sub> ∪ S
            p<sub>2</sub>, Pre = Pre p<sub>1</sub>, post = (post p<sub>1</sub>)
            O (restr_post p<sub>2</sub>)〉
          </p>

          <hr />
          <p>
            <a id="unsafe_composition2"
              ><strong>unsafe_composition2 [;<sup>p</sup>]</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                p<sub>1</sub> ;<sup>p</sup> p<sub>2</sub> = 〈 State = S p<sub
              >1</sub
            >
            ∪ S p<sub>2</sub>, Pre = Pre p<sub>1</sub> ∩ Domain (post p<sub
              >1</sub
            >
            ∖ Pre p<sub>2</sub>), post = (post p<sub>1</sub>) O (post
            p<sub>2</sub>)〉
          </p>

          <hr />
          <p>
            <a id="unsafe_composition3"
              ><strong>unsafe_composition3 [;<sub>P</sub>]</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                p<sub>1</sub> ;<sub>P</sub> p<sub>2</sub> = 〈 State = S p<sub
              >1</sub
            >
            ∪ S p<sub>2</sub>, Pre = Pre p<sub>1</sub>, post = (post
            p<sub>1</sub>) O (post p<sub>2</sub>)〉
          </p>

          <hr />
          <p>
            <a id="restrict_p"
              ><strong>restrict_p [/]</strong> ::
              <em>‘a Program ⇒ ‘a set ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                restrict_p p C = 〈State= S p, Pre=Pre p ∩ C, post=post p / C〉
          </p>

          <hr />
          <p>
            <a id="corestrict_p"
              ><strong>corestrict_p [∖]</strong> ::
              <em>‘a Program ⇒ ‘a set ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                corestrict_p p C = 〈State= S p, Pre=Pre p, <br />
            post=post p ∖ C〉
          </p>

          <hr />
          <p>
            <a id="char_rel"
              ><strong>char_rel []</strong> :: <em>‘a Program ⇒ ‘a rel</em></a
            >
          </p>

          <p>    char_rel p = post p / Pre p</p>

          <hr />
          <p>
            <a id="Fail"
              ><strong>Fail []</strong> :: <em>‘a set ⇒ ‘a Program</em></a
            >
          </p>

          <p>    Fail s = 〈 State = s, Pre = {}, post = {}〉</p>

          <hr />
          <p>
            <a id="Havoc"
              ><strong>Havoc []</strong> :: <em>‘a set ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                Havoc s = 〈 State = s, Pre = s, post = {(x,y). x ∈ s ∧ y ∈ s}〉
          </p>

          <hr />
          <p>
            <a id="Skip"
              ><strong>Skip []</strong> :: <em>‘a set ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                Skip s = 〈 State = s, Pre = s, post = {(x,y). x ∈ s ∧ x = y} 〉
          </p>

          <hr />
          <p>
            <a id="Infeas"
              ><strong>Infeas []</strong> :: <em>‘a set ⇒ ‘a Program</em></a
            >
          </p>

          <p>    Infeas s = 〈 State = s, Pre = s, post = {} 〉</p>

          <hr />
          <p>
            <a id="generalized_non_atomic_conc"
              ><strong>generalized_non_atomic_conc [∥<sub>G</sub>]</strong> ::
              <em>(‘a Program) list ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>    [ ] ∥<sub>G</sub> q = q</p>

          <p>
                (x#xs) ∥<sub>G</sub> q = ((xs ∥<sub>G</sub> q) ; x) ∪ (x ; (xs
            ∥<sub>G</sub> q))
          </p>

          <hr />
          <p>
            <a id="if_then_else"
              ><strong>if_then_else []</strong> ::
              <em>‘a set ⇒ ‘a Program ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                if_then_else C p<sub>1</sub> p<sub>2</sub> ≡ (p<sub>1</sub> / C)
            ∪ (p<sub>2</sub> / (-C))
          </p>

          <hr />
          <p>
            <a id="ITE"
              ><strong>ITE []</strong> ::
              <em>‘a set ⇒ ‘a Program ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>    ITE ≡ if_then_else</p>

          <hr />
          <p>
            <a id="if_then"
              ><strong>if_then []</strong> ::
              <em>‘a set ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>    if_then C p ≡ ITE C p (Skip (S p))</p>

          <hr />
          <p>
            <a id="TRUE"
              ><strong>TRUE []</strong> :: <em>‘a set ⇒ ‘a set</em></a
            >
          </p>

          <p>    TRUE s = s</p>

          <hr />
          <p>
            <a id="FALSE"><strong>FALSE []</strong> :: <em>‘a set</em></a>
          </p>

          <p>    FALSE = {}</p>

          <hr />
          <p>
            <a id="ID"><strong>ID []</strong> :: <em>‘a set ⇒ ‘a rel</em></a>
          </p>

          <p>    ID s ≡ {(a,b) . a ∈ s ∧ b ∈ s ∧ a = b}</p>

          <hr />
          <p>
            <a id="fixed_repetition_helper"
              ><strong>fixed_repetition_helper [^<sup>p</sup>]</strong> ::
              <em>‘a Program ⇒ nat ⇒ ‘a Program</em></a
            >
          </p>

          <p>    fixed_repetition_helper p 0 = Skip (S p)</p>

          <p>
                fixed_repetition_helper p (i + 1) = fixed_repetition_helper p i
            ; p
          </p>

          <hr />
          <p>
            <a id="fixed_repetition"
              ><strong>fixed_repetition [<sup>^</sup>]</strong> ::
              <em>‘a Program ⇒ nat ⇒ ‘a Program</em></a
            >
          </p>

          <p>    p<sup>0</sup> = Skip (S p) / (Pre p)</p>

          <p>    p<sup>i + 1</sup> = p<sup>i</sup>;p</p>

          <hr />
          <p>
            <a id="Choice"
              ><strong>Choice [⋃]</strong> ::
              <em>(‘a Program) list ⇒ ‘a Program</em></a
            >
          </p>

          <p>    Choice [ ] = Fail {}</p>

          <p>    Choice [x] = x</p>

          <p>    Choice (x#xs) = foldl (∪) x xs</p>

          <hr />
          <p>
            <a id="Concat"
              ><strong>Concat []</strong> ::
              <em>(‘a Program) list ⇒ ‘a set ⇒ ‘a Program</em></a
            >
          </p>

          <p>    Concat [ ] s = (Skip s)</p>

          <p>    Concat [x] s = x</p>

          <p>    Concat (x#xs) s = foldl (;) x xs</p>

          <hr />
          <p>
            <a id="Choice_set"
              ><strong>Choice_set [⋃<sub>P</sub>]</strong> ::
              <em>(‘a Program) set ⇒ ‘a Program</em></a
            >
          </p>

          <p>    Choice_set P ≡ Finite_Set.fold (∪) (Fail {}) P</p>

          <hr />
          <p>
            <a id="is_minimal"
              ><strong>is_minimal []</strong> :: <em>‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                is_minimal p ≡ (∀a b. (a,b) ∈ post p → a ∈ Pre p) ∧ is_valid p ∧
            (∀ s ∈ State p. s ∈ Field (post p))
          </p>

          <hr />
          <p>
            <a id="guarded_conditional"
              ><strong>guarded_conditional []</strong> ::
              <em>(‘a set × ‘a Program) list ⇒ ‘a Program</em></a
            >
          </p>

          <p>    guarded_conditional xs = ⋃ [snd t / fst t. t ← xs]</p>

          <hr />
          <p>
            <a id="GC"
              ><strong>GC []</strong> ::
              <em>(‘a set × ‘a Program) list ⇒ ‘a Program</em></a
            >
          </p>

          <p>    GC ≡ guarded_conditional</p>

          <hr />
          <p>
            <a id="insert_all"
              ><strong>insert_all []</strong> ::
              <em>‘a ⇒ ‘a list ⇒ ‘a list list</em></a
            >
          </p>

          <p>    insert_all x [ ] = [[x]]</p>

          <p>
                insert_all x (y#ys) = (x#y#ys) # (map (λzs. y#zs) (insert_all x
            ys))
          </p>

          <hr />
          <p>
            <a id="permutations"
              ><strong>permutations []</strong> ::
              <em>‘a list ⇒ ‘a list list</em></a
            >
          </p>

          <p>    permutations [ ] = [[ ]]</p>

          <p>
                permutations (x#xs) = concat (map (insert_all x) (permutations
            xs))
          </p>

          <hr />
          <p>
            <a id="complete_state"
              ><strong>complete_state []</strong> ::
              <em>‘a Program list ⇒ ‘a set</em></a
            >
          </p>

          <p>    complete_state xs ≡ fold (λ p s. S p ∪ s) xs {}</p>

          <hr />
          <p>
            <a id="n_comp"
              ><strong>n_comp []</strong> ::
              <em>‘a Program list ⇒ ‘a Program</em></a
            >
          </p>

          <p>    n_comp [ ] = Fail {}</p>

          <p>    n_comp (x#xs) = x ; (n_comp xs)</p>

          <hr />
          <p>
            <a id="conc_elems"
              ><strong>conc_elems []</strong> ::
              <em>‘a Program list ⇒ ‘a Program list</em></a
            >
          </p>

          <p>
                conc_elems xs ≡ [Concat t (complete_state t). t ← permutations
            xs]
          </p>

          <hr />
          <p>
            <a id="atomic_conc"
              ><strong>atomic_conc []</strong> ::
              <em>‘a Program list ⇒ ‘a Program</em></a
            >
          </p>

          <p>    atomic_conc xs ≡ ⋃ (conc_elems xs)</p>

          <hr />
          <p>
            <a id="non_atomic_conc"
              ><strong>non_atomic_conc [∥<sub>n</sub>]</strong> ::
              <em>‘a Program list ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                xs ∥<sub>n</sub> x ≡ ⋃ [Concat t (complete_state t). t ←
            insert_all x xs]
          </p>

          <hr />
          <p>
            <a id="arbitrary_repetition_set"
              ><strong>arbitrary_repetition_set []</strong> ::
              <em>‘a Program ⇒ ‘a Program set</em></a
            >
          </p>

          <table>
            <tbody>
              <tr>
                <td>    arbitrary_repetition_set p ≡ {p<sup>i</sup></td>
                <td>i . 0&lt;i}</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p>
            <a id="arbitrary_repetition"
              ><strong>arbitrary_repetition []</strong> ::
              <em>‘a Program ⇒ nat ⇒ nat ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                arbitrary_repetition p s 0 = (if s&gt;0 then Fail (S p) else
            p<sup>0</sup>)
          </p>

          <p>
                arbitrary_repetition p s (f + 1) = (if s&gt;(f + 1) then Fail (S
            p) else p<sup>f + 1</sup> ∪ arbitrary_repetition p s f)
          </p>

          <hr />
          <p>
            <a id="loop"
              ><strong>loop []</strong> ::
              <em>‘a Program ⇒ nat ⇒ nat ⇒ ‘a Program</em></a
            >
          </p>

          <p>    loop ≡ arbitrary_repetition</p>

          <hr />
          <p>
            <a id="until_support"
              ><strong>until_support []</strong> ::
              <em
                >‘a Program ⇒ ‘a set ⇒ ‘a Program ⇒ nat ⇒ nat ⇒ ‘a Program</em
              ></a
            >
          </p>

          <p>    until_support a C b s f = a ; (loop (b/(-C)) s f)∖ C</p>

          <hr />
          <p>
            <a id="until_loop"
              ><strong>until_loop []</strong> ::
              <em>‘a Program ⇒ ‘a set ⇒ ‘a Program ⇒ nat ⇒ ‘a Program</em></a
            >
          </p>

          <p>    until_loop a C b n = a ; (loop (b/(-C)) 0 n)∖ C</p>

          <hr />
          <p>
            <a id="is_invariant"
              ><strong>is_invariant []</strong> ::
              <em>‘a set ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>    is_invariant I p ≡ Range_p (p / I) ⊆ I</p>

          <hr />
          <p>
            <a id="is_loop_invariant"
              ><strong>is_loop_invariant []</strong> ::
              <em>‘a set ⇒ ‘a Program ⇒ ‘a set ⇒ ‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                is_loop_invariant I a C b ≡ Range_p a ⊆ I ∧ is_invariant I
            (b/(-C))
          </p>

          <hr />
          <p>
            <a id="markovian"
              ><strong>markovian []</strong> :: <em>‘a rel ⇒ bool</em></a
            >
          </p>

          <p>
                markovian r ≡ ∀s s<sub>1</sub> s<sub>2</sub>. ((s<sub>1</sub>,
            s) ∈ r) = ((s<sub>2</sub>, s) ∈ r)
          </p>

          <hr />
          <p>
            <a id="is_trivial"
              ><strong>is_trivial []</strong> :: <em>‘a rel ⇒ ‘a ⇒ bool</em></a
            >
          </p>

          <p>    is_trivial r s ≡ ∀s<sub>1</sub>. (s, s<sub>1</sub>) ∈ r</p>

          <hr />
          <p>
            <a id="is_irrelevant"
              ><strong>is_irrelevant []</strong> ::
              <em>‘a rel ⇒ ‘a ⇒ bool</em></a
            >
          </p>

          <p>
                is_irrelevant r s ≡ ∀s<sub>1</sub> s<sub>2</sub>. ((s,
            s<sub>1</sub>) ∈ r) = ((s, s<sub>2</sub>) ∈ r)
          </p>

          <hr />
          <p>
            <a id="is_relevant"
              ><strong>is_relevant []</strong> :: <em>‘a rel ⇒ ‘a ⇒ bool</em></a
            >
          </p>

          <p>    is_relevant r s ≡ ¬ is_irrelevant r s</p>

          <hr />
          <p>
            <a id="is_programming_language"
              ><strong>is_programming_language []</strong> ::
              <em>‘a set ⇒ (‘a Program) set ⇒ bool</em></a
            >
          </p>

          <p>
                is_programming_language s P ≡ ∀p ∈ P. is_feasible p ∧ S p ⊆ s
          </p>

          <hr />
          <p>
            <a id="occurs"
              ><strong>occurs []</strong> :: <em>‘a ⇒ ‘a list ⇒ nat</em></a
            >
          </p>

          <p>    occurs _ [ ] = 0</p>

          <p>    occurs x (y # ys) = (if x = y then 1 else 0) + occurs x ys</p>

          <hr />
          <p>
            <a id="inter"
              ><strong>inter [∩]</strong> ::
              <em>‘a Program ⇒ ‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                p ∩ q ≡ 〈State=S p ∩ S q,Pre=Pre p ∩ Pre q,post=post p ∩ post
            q〉
          </p>

          <hr />
          <p>
            <a id="set_to_list"
              ><strong>set_to_list []</strong> :: <em>‘a set ⇒ ‘a list</em></a
            >
          </p>

          <p>
                set_to_list s = (if finite s then SOME l. set l = s ∧ distinct l
            else [ ])
          </p>

          <hr />
          <p>
            <a id="is_atomic"
              ><strong>is_atomic []</strong> :: <em>‘a Program ⇒ bool</em></a
            >
          </p>

          <p>
                is_atomic p ≡ S p = State p ∧ card (post p) = 1 ∧ card (Pre p) =
            1 ∧ State p = (Pre p) ∪ (Field (post p)) ∧ (card (post p) = 1 ∧ card
            (Pre p) = 1 → fst (THE x. x ∈ post p) = (THE x. x ∈ Pre p))
          </p>

          <hr />
          <p>
            <a id="get_atomic"
              ><strong>get_atomic []</strong> ::
              <em>‘a Program ⇒ (‘a Program) set</em></a
            >
          </p>

          <table>
            <tbody>
              <tr>
                <td>
                      get_atomic p = {〈State={a,b}, Pre={a}, post={(a, b)} 〉
                </td>
                <td>a b . (a,b) ∈ post p ∧ a ∈ Pre p}</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p>
            <a id="evaluate"
              ><strong>evaluate []</strong> ::
              <em>‘a CNF ⇒ ‘a set ⇒ ‘a Program</em></a
            >
          </p>

          <p>    evaluate p s ≡ ⋃ (map (λxs. Concat xs s) p)</p>

          <hr />
          <p>
            <a id="interleave"
              ><strong>interleave [⫴]</strong> ::
              <em>‘a list ⇒ ‘a list ⇒ ‘a list list</em></a
            >
          </p>

          <p>    [ ] ⫴ ys = [ys]</p>

          <p>    (xs) ⫴ [ ] = [xs]</p>

          <p>
                (x#xs) ⫴ (y#ys) = map ((#) x) (xs ⫴ (y#ys)) @ map ((#) y)
            ((x#xs) ⫴ ys)
          </p>

          <hr />
          <p>
            <a id="cnf_concurrency"
              ><strong>cnf_concurrency [∥]</strong> ::
              <em>‘a CNF ⇒ ‘a CNF ⇒ ‘a CNF</em></a
            >
          </p>

          <p>
                cnf_concurrency xs ys = concat [path_m ⫴ path_n. path_m ← xs,
            path_n ← ys]
          </p>

          <hr />
          <p>
            <a id="is_rounded"
              ><strong>is_rounded []</strong> :: <em>‘a Program ⇒ bool</em></a
            >
          </p>

          <p>    is_rounded p ≡ Domain (post p) ⊆ Pre p</p>

          <hr />
          <p>
            <a id="is_exact"
              ><strong>is_exact []</strong> :: <em>‘a Program ⇒ bool</em></a
            >
          </p>

          <p>    is_exact p ≡ is_rounded p ∧ is_feasible p</p>

          <hr />
          <p>
            <a id="feasible_version"
              ><strong>feasible_version []</strong> ::
              <em>‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                feasible_version p ≡ 〈State = S p, Pre = Pre p ∩ Domain (post
            p), post = post p〉
          </p>

          <hr />
          <p>
            <a id="rounded_version"
              ><strong>rounded_version []</strong> ::
              <em>‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                rounded_version p ≡ 〈State = S p, Pre = Pre p , post = post p /
            Pre p〉
          </p>

          <hr />
          <p>
            <a id="exact_version"
              ><strong>exact_version []</strong> ::
              <em>‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                exact_version p ≡ 〈State = S p, Pre = Pre p ∩ Domain (post p) ,
            post = post p / Pre p〉
          </p>

          <hr />
          <p>
            <a id="civilized_n"
              ><strong>civilized_n []</strong> ::
              <em>‘a Program ⇒ ‘a Program set ⇒ nat ⇒ bool</em></a
            >
          </p>

          <p>
                civilized_n x B 0 = (((x ∈ B) ∨ x = Fail {} ∨ x = Skip
            (complete_state (set_to_list B))) ∧ finite B)
          </p>

          <p>
                civilized_n x B (n + 1) = (((∃a b. civilized_n a B n ∧
            civilized_n b B n ∧ (a ; b = x ∨ a ∪ b = x)) ∧ finite B) ∨
            civilized_n x B n)
          </p>

          <hr />
          <p>
            <a id="civilized"
              ><strong>civilized []</strong> ::
              <em>‘a Program ⇒ ‘a Program set ⇒ bool</em></a
            >
          </p>

          <p>    civilized x B ≡ (∃n. civilized_n x B n)</p>

          <hr />
          <p>
            <a id="equal_cnf"
              ><strong>equal_cnf []</strong> ::
              <em>‘a CNF ⇒ ‘a CNF ⇒ bool</em></a
            >
          </p>

          <p>
                equal_cnf a b ≡ (set a = set b) ∧ (size a = 1) = (size b = 1)
          </p>

          <hr />
          <p>
            <a id="restrict_path"
              ><strong>restrict_path []</strong> ::
              <em>‘a Program list ⇒ ‘a set ⇒ ‘a Program list</em></a
            >
          </p>

          <p>    restrict_path [ ] C = [ ]</p>

          <p>    restrict_path (x#xs) C = (x / C)#xs</p>

          <hr />
          <p>
            <a id="restriction_cnf"
              ><strong>restriction_cnf [/]</strong> ::
              <em>‘a CNF ⇒ ‘a set ⇒ ‘a CNF</em></a
            >
          </p>

          <p>    restriction_cnf p C ≡ [restrict_path path_p C. path_p ← p]</p>

          <hr />
          <p>
            <a id="corestrict_path"
              ><strong>corestrict_path []</strong> ::
              <em>‘a Program list ⇒ ‘a set ⇒ ‘a Program list</em></a
            >
          </p>

          <p>    corestrict_path [ ] C = [ ]</p>

          <p>    corestrict_path (xs@[x]) C = xs@[x ∖ C]</p>

          <hr />
          <p>
            <a id="corestriction_cnf"
              ><strong>corestriction_cnf [∖]</strong> ::
              <em>‘a CNF ⇒ ‘a set ⇒ ‘a CNF</em></a
            >
          </p>

          <p>
                corestriction_cnf p C ≡ [corestrict_path path_p C. path_p ← p]
          </p>

          <hr />
          <p>
            <a id="complete_cnf_state"
              ><strong>complete_cnf_state []</strong> ::
              <em>‘a CNF ⇒ ‘a set</em></a
            >
          </p>

          <table>
            <tbody>
              <tr>
                <td>    complete_cnf_state p ≡ ⋃ {complete_state tr</td>
                <td>tr. tr ∈ set p }</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p>
            <a id="normal_of"
              ><strong>normal_of []</strong> ::
              <em>‘a CNF ⇒ ‘a Program set ⇒ bool</em></a
            >
          </p>

          <p>
                normal_of p xs ≡ (basic p ⊆ (xs ∪ {Fail {}, Skip (complete_state
            (set_to_list xs))})) ∧ finite xs
          </p>

          <hr />
          <p>
            <a id="feas_of"
              ><strong>feas_of []</strong> ::
              <em>‘a Program ⇒ ‘a Program</em></a
            >
          </p>

          <p>
                feas_of p ≡ 〈State=S p, Pre=Pre p ∩ Domain (post p), post=post
            p〉
          </p>

          <hr />
          <p>
            <a id="set_to_list_r"
              ><strong>set_to_list_r []</strong> :: <em>‘a set ⇒ ‘a list</em></a
            >
          </p>

          <p>    set_to_list_r s = (SOME l. set l = s)</p>

          <hr />
          <p>
            <a id="factorial"
              ><strong>factorial []</strong> :: <em>nat ⇒ nat</em></a
            >
          </p>

          <p>    factorial 0 = 1</p>

          <p>    factorial (n + 1) = (n + 1) * factorial n</p>

          <hr />
          <p>
            <a id="sum"><strong>sum []</strong> :: <em>nat list ⇒ nat</em></a>
          </p>

          <p>    sum [ ] = 0</p>

          <p>    sum (x#xs) = x + sum xs</p>

          <hr />
          <p>
            <a id="nmb_interleavings_pre"
              ><strong>nmb_interleavings_pre []</strong> ::
              <em>nat ⇒ nat ⇒ nat</em></a
            >
          </p>

          <p>
                nmb_interleavings_pre x y ≡ factorial (x + y) div (factorial x *
            factorial y)
          </p>

          <hr />
          <p>
            <a id="nmb_interleavings"
              ><strong>nmb_interleavings []</strong> ::
              <em>‘a list ⇒ ‘a list ⇒ nat</em></a
            >
          </p>

          <p>
                nmb_interleavings xs ys ≡ nmb_interleavings_pre (size xs) (size
            ys)
          </p>

          <hr />
          <p>
            <a id="list_equiv"
              ><strong>list_equiv []</strong> ::
              <em>‘a Program list ⇒ ‘a Program list ⇒ bool</em></a
            >
          </p>

          <p>    list_equiv [ ] [ ] = True</p>

          <p>    list_equiv (x#xs) (y#ys) = ((x ≡ y) ∧ list_equiv xs ys)</p>

          <p>    list_equiv _ _ = False</p>

          <hr />
          <p>
            <a id="cnf_size"
              ><strong>cnf_size []</strong> :: <em>‘a CNF ⇒ nat</em></a
            >
          </p>

          <p>    cnf_size [ ] = 0</p>

          <p>    cnf_size (x#xs) = length x + cnf_size xs + 1</p>

          <hr />
          <p>
            <a id="equiv_list"
              ><strong>equiv_list []</strong> ::
              <em>‘a Program list ⇒ ‘a Program list ⇒ bool</em></a
            >
          </p>

          <p>    equiv_list [ ] [ ] = True</p>

          <p>    equiv_list (x#xs) [ ] = False</p>

          <p>    equiv_list [ ] (y#ys) = False</p>

          <p>    equiv_list (x#xs) (y#ys) = (x ≡ y ∧ equiv_list xs ys)</p>

          <hr />
          <p>
            <a id="cnf_concurrency2"
              ><strong>cnf_concurrency2 []</strong> ::
              <em>‘a CNF ⇒ ‘a CNF ⇒ ‘a set ⇒ ‘a Program</em></a
            >
          </p>

          <p>    cnf_concurrency2 [ ] ys C = Fail {}</p>

          <p>    cnf_concurrency2 xs [ ] C = Fail {}</p>

          <p>
                cnf_concurrency2 (x#xs) (y#ys) C = (case (xs , ys) of ([ ], [ ])
            ⇒ (case (x, y) of ([ ], [ ]) ⇒ Skip C | ([a], [b]) ⇒ a;b ∪ b;a | ([
            ], bs) ⇒ evaluate [bs] C | (as, [ ]) ⇒ evaluate [as] C | (a#as,
            b#bs) ⇒ a; (cnf_concurrency2 [as] [b#bs] C) ∪ b; (cnf_concurrency2
            [a#as] [bs] C)) | (f#fs, [ ]) ⇒ cnf_concurrency2 [x] [y] C ∪
            cnf_concurrency2 (f#fs) [y] C | ([ ], g#gs) ⇒ cnf_concurrency2 [x]
            [y] C ∪ cnf_concurrency2 [x] (g#gs) C | (f#fs, g#gs) ⇒
            cnf_concurrency2 [x] (y#g#gs) C ∪ cnf_concurrency2 (f#fs) (y#g#gs) C
            )
          </p>

          <hr />
          <h2 id="relation_operationsthy">Relation_operations.thy</h2>

          <p>
            <a id="restrict_r"
              ><strong>restrict_r [/]</strong> ::
              <em>‘a rel ⇒ ‘a set ⇒ ‘a rel</em></a
            >
          </p>

          <p>    restrict_r R S = {r ∈ R. fst r ∈ S}</p>

          <hr />
          <p>
            <a id="inv_restrict_r"
              ><strong>inv_restrict_r [/<sub>-</sub>]</strong> ::
              <em>‘a rel ⇒ ‘a set ⇒ ‘a rel</em></a
            >
          </p>

          <p>    inv_restrict_r R S = {r ∈ R. fst r ∉ S}</p>

          <hr />
          <p>
            <a id="corestrict_r"
              ><strong>corestrict_r [∖]</strong> ::
              <em>‘a rel ⇒ ‘a set ⇒ ‘a rel</em></a
            >
          </p>

          <p>    corestrict_r R S = {r ∈ R. snd r ∈ S}</p>

          <hr />
          <p>
            <a id="inv_corestrict_r"
              ><strong>inv_corestrict_r [∖<sub>-</sub>]</strong> ::
              <em>‘a rel ⇒ ‘a set ⇒ ‘a rel</em></a
            >
          </p>

          <p>    inv_corestrict_r R S = {r ∈ R. snd r ∉ S}</p>

          <hr />
          <p>
            <a id="is_function"
              ><strong>is_function []</strong> :: <em>‘a rel ⇒ bool</em></a
            >
          </p>

          <p>
                is_function R = (∀r<sub>1</sub> ∈ R.∀r<sub>2</sub>∈R. fst r<sub
              >1</sub
            >
            = fst r<sub>2</sub> → snd r<sub>1</sub> = snd r<sub>2</sub>)
          </p>

          <hr />
          <h1 id="theorems-and-lemmas">Theorems and Lemmas</h1>

          <h2 id="prismthy">PRISM.thy</h2>

          <p><strong>cond_for_commutative_1</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> p<sub>1</sub> ∩
            Pre p<sub>2</sub> = {} ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> p<sub>2</sub> ∩ Pre
            p<sub>1</sub> = {} ⟹
            <a href="#commute_programs3" title="commute_programs3"
              >commute_programs3</a
            >
            p<sub>1</sub> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>distinct_state_range_dist_from_pre</strong></p>

          <p>
                <a href="#used_states" title="used_states">used_states</a> p<sub
              >1</sub
            >
            ∩ <a href="#used_states" title="used_states">used_states</a> p<sub
              >2</sub
            >
            = {} ⟹ <a href="#Range_p" title="Range_p">Range_p</a> p<sub>1</sub>
            ∩ Pre p<sub>2</sub> = {} ∧
            <a href="#Range_p" title="Range_p">Range_p</a> p<sub>2</sub> ∩ Pre
            p<sub>1</sub> = {}
          </p>

          <hr />
          <p>
                <a href="#used_states" title="used_states">used_states</a> p<sub
              >1</sub
            >
            ∩ <a href="#used_states" title="used_states">used_states</a> p<sub
              >2</sub
            >
            = {} ⟹
            <a href="#commute_programs1" title="commute_programs1"
              >commute_programs1</a
            >
            p<sub>1</sub> p<sub>2</sub>
          </p>

          <hr />
          <p>
                x <a href="#composition" title="composition">;</a>
            <a href="#until_loop" title="until_loop">until_loop</a> a C b n
            <a href="#equiv" title="equiv">≡</a>
            <a href="#until_loop" title="until_loop">until_loop</a> (x
            <a href="#composition" title="composition">;</a> a) C b n
          </p>

          <hr />
          <p>
                p <a href="#composition" title="composition">;</a> q
            <a href="#equiv" title="equiv">≡</a> p
            <a href="#composition" title="composition">;</a> (q
            <a href="#restrict_p" title="restrict_p">/</a> (<a
              href="#Range_p"
              title="Range_p"
              >Range_p</a
            >
            p))
          </p>

          <hr />
          <h2 id="t_03_basic_programsthy">T_03_Basic_programs.thy</h2>

          <p><strong>special_empty1</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> {} =
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>special_empty2</strong></p>

          <p>
                <a href="#Havoc" title="Havoc">Havoc</a> {} =
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>special_empty3</strong></p>

          <p>
                <a href="#Havoc" title="Havoc">Havoc</a> {} =
            <a href="#Infeas" title="Infeas">Infeas</a> {}
          </p>

          <hr />
          <p>
                <a href="#Havoc" title="Havoc">Havoc</a> C = 〈State=C, Pre=TRUE
            C, post=TRUE C 〉
          </p>

          <hr />
          <p>
                <a href="#Skip" title="Skip">Skip</a> C = 〈State=C, Pre=TRUE C,
            post=ID C〉
          </p>

          <hr />
          <p>
                <a href="#Fail" title="Fail">Fail</a> C = 〈State=C, Pre=FALSE,
            post=FALSE〉
          </p>

          <hr />
          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> C = 〈State=C,
            Pre=TRUE C, post=FALSE〉
          </p>

          <hr />
          <p><strong>special_refine1</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> C
            <a href="#refines" title="refines">⊑</a>
            <a href="#Skip" title="Skip">Skip</a> C
          </p>

          <hr />
          <p><strong>special_refine2</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> C
            <a href="#refines" title="refines">⊑</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C
          </p>

          <hr />
          <p><strong>special_refine3</strong></p>

          <p>
                <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#refines" title="refines">⊑</a>
            <a href="#Fail" title="Fail">Fail</a> C
          </p>

          <hr />
          <p><strong>special_refine4</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> C
            <a href="#refines" title="refines">⊑</a>
            <a href="#Fail" title="Fail">Fail</a> C
          </p>

          <hr />
          <p><strong>special_specialize1</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#Infeas" title="Infeas">Infeas</a> C
          </p>

          <hr />
          <p><strong>special_specialize2</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#Skip" title="Skip">Skip</a> C
          </p>

          <hr />
          <p><strong>special_specialize3</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C
          </p>

          <hr />
          <p>
                C ⊆ D ⟹ <a href="#Fail" title="Fail">Fail</a> D
            <a href="#refines" title="refines">⊑</a>
            <a href="#Fail" title="Fail">Fail</a> C
          </p>

          <hr />
          <p>
                C ⊆ D ⟹ <a href="#Fail" title="Fail">Fail</a> C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#Fail" title="Fail">Fail</a> D
          </p>

          <hr />
          <p>
                C ⊆ D ⟹ <a href="#Infeas" title="Infeas">Infeas</a> D
            <a href="#refines" title="refines">⊑</a>
            <a href="#Infeas" title="Infeas">Infeas</a> C
          </p>

          <hr />
          <p>
                C ⊆ D ⟹ <a href="#Infeas" title="Infeas">Infeas</a> C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#Infeas" title="Infeas">Infeas</a> D
          </p>

          <hr />
          <p>
                C ⊆ D ⟹ <a href="#Skip" title="Skip">Skip</a> D
            <a href="#refines" title="refines">⊑</a>
            <a href="#Skip" title="Skip">Skip</a> C
          </p>

          <hr />
          <p>
                C ⊆ D ⟹ <a href="#Skip" title="Skip">Skip</a> C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#Skip" title="Skip">Skip</a> D
          </p>

          <hr />
          <p>
                C ⊆ D ⟹ <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#refines" title="refines">⊑</a>
            <a href="#Havoc" title="Havoc">Havoc</a> D
          </p>

          <hr />
          <p>
                C ⊆ D ⟹ <a href="#Havoc" title="Havoc">Havoc</a> D
            <a href="#refines" title="refines">⊑</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C
          </p>

          <hr />
          <p>
                C ⊆ D ⟹ <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#Havoc" title="Havoc">Havoc</a> D
          </p>

          <hr />
          <h2 id="characteristic_relationthy">Characteristic_relation.thy</h2>

          <p><strong>char_rel_is_unique_in_equality_1</strong></p>

          <p>
                p<sub>1</sub> = p<sub>2</sub> ⟹
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>1</sub> =
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>equal_charrel1</strong></p>

          <p>
                p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub>
            ⟹ <a href="#char_rel" title="char_rel">char_rel</a> p<sub>1</sub> =
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>equiv_charrel1</strong></p>

          <p>
                p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
            ⟹ <a href="#char_rel" title="char_rel">char_rel</a> p<sub>1</sub> =
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>char_rel_is_unique_in_equality_2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹ (<a
              href="#char_rel"
              title="char_rel"
              >char_rel</a
            >
            p<sub>1</sub> =
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>2</sub>) ⟹
            (p<sub>1</sub> = p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>char_rel_is_unique_in_equal_2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹ (<a
              href="#char_rel"
              title="char_rel"
              >char_rel</a
            >
            p<sub>1</sub> =
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>2</sub>) ⟹
            (p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>equiv_charrel2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹ (<a
              href="#char_rel"
              title="char_rel"
              >char_rel</a
            >
            p<sub>1</sub> =
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>2</sub>) =
            (p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>char_rel_choice</strong></p>

          <p>
                <a href="#char_rel" title="char_rel">char_rel</a> (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>) =
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>1</sub> ∪
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>char_rel_composition</strong></p>

          <p>
                <a href="#char_rel" title="char_rel">char_rel</a> (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>) =
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>1</sub> O
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>char_rel_restriction</strong></p>

          <p>
                <a href="#char_rel" title="char_rel">char_rel</a> (p
            <a href="#restrict_p" title="restrict_p">/</a> C) =
            <a href="#char_rel" title="char_rel">char_rel</a> p
            <a href="#restrict_r" title="restrict_r">/</a> C
          </p>

          <hr />
          <p><strong>char_rel_corestriction</strong></p>

          <p>
                <a href="#char_rel" title="char_rel">char_rel</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C) =
            <a href="#char_rel" title="char_rel">char_rel</a> p
            <a href="#corestrict_r" title="corestrict_r">∖</a> C
          </p>

          <hr />
          <p><strong>char_rel_strengthens</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a> p<sub
              >1</sub
            >
            p<sub>2</sub> ⟹
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>1</sub>
            <a href="#restrict_r" title="restrict_r">/</a> Domain (<a
              href="#char_rel"
              title="char_rel"
              >char_rel</a
            >
            p<sub>2</sub>) ⊆
            <a href="#char_rel" title="char_rel">char_rel</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>char_rel_weakens</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >1</sub
            >
            ⟹ <a href="#weakens" title="weakens">weakens</a> p<sub>1</sub> p<sub
              >2</sub
            >
            ⟹ Domain (<a href="#char_rel" title="char_rel">char_rel</a>
            p<sub>2</sub>) ⊆ Domain (<a href="#char_rel" title="char_rel"
              >char_rel</a
            >
            p<sub>1</sub>)
          </p>

          <hr />
          <p><strong>char_rel_prop1</strong></p>

          <p>
                p <a href="#refines" title="refines">⊑</a> q ⟹
            <a href="#char_rel" title="char_rel">char_rel</a> p
            <a href="#restrict_r" title="restrict_r">/</a> (Domain (<a
              href="#char_rel"
              title="char_rel"
              >char_rel</a
            >
            q)) ⊆ <a href="#char_rel" title="char_rel">char_rel</a> q
          </p>

          <hr />
          <p><strong>charrel_strengthen</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p, q] ⟹ <a href="#char_rel" title="char_rel">char_rel</a> p
            <a href="#restrict_r" title="restrict_r">/</a> (Domain (<a
              href="#char_rel"
              title="char_rel"
              >char_rel</a
            >
            q)) ⊆ <a href="#char_rel" title="char_rel">char_rel</a> q =
            <a href="#strengthens" title="strengthens">strengthens</a> p q
          </p>

          <hr />
          <p><strong>charrel_weaken</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p, q] ⟹ Domain (<a href="#char_rel" title="char_rel">char_rel</a>
            q) ⊆ Domain (<a href="#char_rel" title="char_rel">char_rel</a> p) =
            <a href="#weakens" title="weakens">weakens</a> p q
          </p>

          <hr />
          <p><strong>charrel_specialize</strong></p>

          <p>
                q <a href="#specialize" title="specialize">⊆</a> p ⟹
            <a href="#char_rel" title="char_rel">char_rel</a> q &lt;
            <a href="#char_rel" title="char_rel">char_rel</a> p
          </p>

          <hr />
          <p><strong>charrel_refine</strong></p>

          <p>
                q <a href="#refines" title="refines">⊑</a> p ⟹
            <a href="#char_rel" title="char_rel">char_rel</a> q
            <a href="#restrict_r" title="restrict_r">/</a> (Pre p) &lt;
            <a href="#char_rel" title="char_rel">char_rel</a> p
          </p>

          <hr />
          <p><strong>char_rel_prop6</strong></p>

          <p>
                Field (<a href="#char_rel" title="char_rel">char_rel</a> a) ⊆
            <a href="#S" title="S">S</a> a
          </p>

          <hr />
          <h2 id="definitionsthy-1">Definitions.thy</h2>

          <p>
                〈State={}, Pre={1::nat}, post={(1,2)}〉
            <a href="#specialize" title="specialize">⊆</a> 〈State={},
            Pre={1::nat}, post={(1,2)}〉
          </p>

          <hr />
          <p>
                Pre p ⊆ I ∧ <a href="#Range_p" title="Range_p">Range_p</a> p ⊆ I
            ⟹ <a href="#Range_p" title="Range_p">Range_p</a> (p
            <a href="#restrict_p" title="restrict_p">/</a> I) ⊆ I
          </p>

          <hr />
          <p>
                a <a href="#choice" title="choice">∪</a> (a
            <a href="#inter" title="inter">∩</a> b)
            <a href="#equiv" title="equiv">≡</a> a
          </p>

          <hr />
          <p>
                a <a href="#inter" title="inter">∩</a> (a
            <a href="#choice" title="choice">∪</a> b)
            <a href="#equiv" title="equiv">≡</a> a
          </p>

          <hr />
          <p><strong>civ_n_finite</strong></p>

          <p>
                <a href="#civilized_n" title="civilized_n">civilized_n</a> p B n
            ⟹ finite B
          </p>

          <hr />
          <h2 id="equalitiesthy">Equalities.thy</h2>

          <p><strong>equals_equiv_relation_1</strong></p>

          <p>
                p<sub>1</sub> = p<sub>2</sub> ⟹ p<sub>1</sub>
            <a href="#equal" title="equal">=</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>equals_equiv_relation_2</strong></p>

          <p>
                p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub>
            ⟹ p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>equals_equiv_relation_3</strong></p>

          <p>
                p<sub>1</sub> = p<sub>2</sub> ⟹ p<sub>1</sub>
            <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>equal_is_reflexive</strong></p>

          <p>
                p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>1</sub>
          </p>

          <hr />
          <p><strong>equiv_is_reflexive</strong></p>

          <p>
                p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
          </p>

          <hr />
          <p><strong>equal_is_symetric</strong></p>

          <p>
                p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub>
            ⟹ p<sub>2</sub> <a href="#equal" title="equal">=</a> p<sub>1</sub>
          </p>

          <hr />
          <p><strong>equiv_is_symetric</strong></p>

          <p>
                p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
            ⟹ p<sub>2</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
          </p>

          <hr />
          <p><strong>equal_is_transitive</strong></p>

          <p>
                p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub>
            ⟹ p<sub>2</sub> <a href="#equal" title="equal">=</a> p<sub>3</sub> ⟹
            p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>3</sub>
          </p>

          <hr />
          <p><strong>equiv_is_transitive</strong></p>

          <p>
                p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
            ⟹ p<sub>2</sub> <a href="#equiv" title="equiv">≡</a> p<sub>3</sub> ⟹
            p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>3</sub>
          </p>

          <hr />
          <p><strong>inverse_equality_1</strong></p>

          <p>
                ¬ p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub
              >2</sub
            >
            ⟹ ¬ p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>inverse_equality_2</strong></p>

          <p>
                ¬ p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub
              >2</sub
            >
            ⟹ ¬ p<sub>1</sub> = p<sub>2</sub>
          </p>

          <hr />
          <p><strong>inverse_equality_3</strong></p>

          <p>
                ¬ p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub
              >2</sub
            >
            ⟹ ¬ p<sub>1</sub> = p<sub>2</sub>
          </p>

          <hr />
          <p><strong>empty_state_space_equal</strong></p>

          <p>
                <a href="#S" title="S">S</a> a = {} ⟹
            <a href="#S" title="S">S</a> b = {} ⟹ a = b
          </p>

          <hr />
          <h2 id="feasibilitythy">Feasibility.thy</h2>

          <p><strong>equal_maintains_feasiblity</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >1</sub
            >
            ⟹ p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub> ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >2</sub
            >
          </p>

          <hr />
          <p><strong>equiv_maintains_feasiblity</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >1</sub
            >
            ⟹ p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub> ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >2</sub
            >
          </p>

          <hr />
          <h2 id="helperthy">Helper.thy</h2>

          <p><strong>rel_id_prop</strong></p>

          <p>    Field a ⊆ C ⟹ a O Id_on C = a</p>

          <hr />
          <p><strong>list_comp_prop_1</strong></p>

          <p>
                ∀p. [p i. i ← [0..((int (n + 1)))]] = [p i. i ← [0..(int n)]] @
            [p ((int (n + 1)))]
          </p>

          <hr />
          <p><strong>orig_is_permutation_1</strong></p>

          <p>
                List.member (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x xs) (x#xs)
          </p>

          <hr />
          <p><strong>permutation_reflexive</strong></p>

          <p>
                List.member (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) xs
          </p>

          <hr />
          <p><strong>l1</strong></p>

          <p>
                set (<a href="#insert_all" title="insert_all">insert_all</a> x
            (ps)) ≠ {}
          </p>

          <hr />
          <p><strong>l2</strong></p>

          <p>
                x#xs ∈ set (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x xs)
          </p>

          <hr />
          <p><strong>l3</strong></p>

          <p>
                xs@[x] ∈ set (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x xs)
          </p>

          <hr />
          <p><strong>l4</strong></p>

          <p>
                a@x#b ∈ set (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x (a@b))
          </p>

          <hr />
          <p><strong>l5</strong></p>

          <p>
                p ∈ set (<a href="#insert_all" title="insert_all">insert_all</a>
            x (a # xs)) ⟹ (hd p = x) ∨ (hd p = a)
          </p>

          <hr />
          <p><strong>l5_2</strong></p>

          <p>
                p ∈ set (<a href="#insert_all" title="insert_all">insert_all</a>
            x (a # xs)) ⟹ (h_hd p = [x]) ∨ (h_hd p = [a])
          </p>

          <hr />
          <p><strong>l6</strong></p>

          <p>    h_hd p = [x] ⟹ hd p = x</p>

          <hr />
          <p><strong>l7</strong></p>

          <p>    h_tl p = x ≡ tl p = x</p>

          <hr />
          <p><strong>l8</strong></p>

          <p>    (h_hd p)@(h_tl p) = p</p>

          <hr />
          <p><strong>l9</strong></p>

          <p>
                a#p ∈ set (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x (a # xs)) ⟹ p ∈ set (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x xs)
          </p>

          <hr />
          <p><strong>l10</strong></p>

          <p>
                p ∈ set (<a href="#insert_all" title="insert_all">insert_all</a>
            x xs) ⟹ ∃a b. a@x#b=p
          </p>

          <hr />
          <p><strong>l11</strong></p>

          <p>
                p ∈ set (<a href="#insert_all" title="insert_all">insert_all</a>
            x ps) ⟹ x ∈ set p
          </p>

          <hr />
          <p><strong>l12</strong></p>

          <p>
                y ∈ set p ⟹ p ∈ set (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x (a # ps)) ⟹ y ≠ a ⟹ p’ ∈ set (<a
              href="#insert_all"
              title="insert_all"
              >insert_all</a
            >
            x ps) ⟹ y ∈ set p’
          </p>

          <hr />
          <p><strong>l13</strong></p>

          <p>
                y ∈ set p ⟹ p ∈ set (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x ps) ⟹ y ∉ set ps ⟹ y = x
          </p>

          <hr />
          <p><strong>permutation_symmetric_1</strong></p>

          <p>
                List.member (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) p ⟹ List.member p y ⟹ List.member xs y
          </p>

          <hr />
          <p><strong>l14</strong></p>

          <p>
                p ∈ set (<a href="#insert_all" title="insert_all">insert_all</a>
            x ps) ⟹ ∃a b. p = a @ x # b ∧ ps = a @ b
          </p>

          <hr />
          <p><strong>count_invariant</strong></p>

          <p>
                List.member (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) p ⟹ count_list p y = count_list xs y
          </p>

          <hr />
          <p><strong>permutation_split</strong></p>

          <p>
                List.member (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (x#xs)) xs’ ⟹ ∃a b. a@x#b = xs’
          </p>

          <hr />
          <p><strong>permutation_size</strong></p>

          <p>
                List.member (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x1) x2 ⟹ size x2 = size x1
          </p>

          <hr />
          <p><strong>insert_perm_rel</strong></p>

          <p>
                x ∈ set (<a href="#insert_all" title="insert_all">insert_all</a>
            a xs) ⟹ x ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (a#xs))
          </p>

          <hr />
          <p><strong>insert_all_set_equality</strong></p>

          <p>
                p1 ∈ set (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x ps) ⟹ set p1 = insert x (set ps)
          </p>

          <hr />
          <p><strong>permutation_set_equality</strong></p>

          <p>
                p1 ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ set xs = set p1
          </p>

          <hr />
          <p><strong>permutation_set_equality_2</strong></p>

          <p>
                p1 ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ p2 ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ set p1 = set p2
          </p>

          <hr />
          <p><strong>permutation_split_set</strong></p>

          <p>
                x2 ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (a # x1)) ⟹ ∃y z. x2 = y @ a # z ∧ y @ z ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            x1)
          </p>

          <hr />
          <p><strong>insert_4</strong></p>

          <p>
                (xs @ ([x] @ ys)) ∈ set (<a
              href="#insert_all"
              title="insert_all"
              >insert_all</a
            >
            x (xs @ ys))
          </p>

          <hr />
          <p><strong>count_eq_member</strong></p>

          <p>    List.count_list p y &gt; 0 = List.member p y</p>

          <hr />
          <p><strong>member_invariant</strong></p>

          <p>
                p ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ List.member p y ⟹ List.member xs y
          </p>

          <hr />
          <p><strong>length_prop_1</strong></p>

          <p>    List.member xs x ⟹ ∃a b. a@[x]@b = xs</p>

          <hr />
          <p><strong>length_prop_2</strong></p>

          <p>    count_list (a @ [x] @ b) x = Suc (count_list (a @ b) x)</p>

          <hr />
          <p><strong>length_prop_3</strong></p>

          <p>
                x<sub>1</sub>≠x<sub>2</sub> ⟹ xs = a@[x<sub>2</sub>]@b ⟹
            count_list (xs) x<sub>1</sub> = count_list (a@b) x<sub>1</sub>
          </p>

          <hr />
          <p><strong>length_prop_4</strong></p>

          <p>
                x<sub>1</sub>=x<sub>2</sub> ⟹ xs = a@[x<sub>2</sub>]@b ⟹
            count_list (xs) x<sub>1</sub> = Suc (count_list (a@b) x<sub>1</sub>)
          </p>

          <hr />
          <p><strong>length_prop_5</strong></p>

          <p>
                ∀x<sub>1</sub>. count_list (a # xs) x<sub>1</sub> = count_list
            (a # xs’) x<sub>1</sub> ⟹ ∀x<sub>1</sub>. count_list (xs) x<sub
              >1</sub
            >
            = count_list (xs’) x<sub>1</sub>
          </p>

          <hr />
          <p><strong>length_prop_6</strong></p>

          <p>
                ∀x<sub>1</sub>. count_list xs x<sub>1</sub> = count_list xs’
            x<sub>1</sub> ⟹ length xs = length xs’
          </p>

          <hr />
          <p><strong>length_inv</strong></p>

          <p>
                x ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ length x = length xs
          </p>

          <hr />
          <p><strong>perm_inv_2</strong></p>

          <p>
                xb@xe ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x1) ⟹ xb@a#xe ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (a # x1))
          </p>

          <hr />
          <p><strong>singleton_permutation</strong></p>

          <p>
                [x] ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ xs = [x]
          </p>

          <hr />
          <p><strong>count_invariant_2</strong></p>

          <p>
                ∀y. count_list p y = count_list xs y ⟹ List.member (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xs) p
          </p>

          <hr />
          <p><strong>count_invariant_3</strong></p>

          <p>
                x1 ∉ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x2) ⟹ ∃t. count_list x1 t ≠ count_list x2 t
          </p>

          <hr />
          <p><strong>permutations_set_equality</strong></p>

          <p>
                x1 ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x2) ⟹ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x1) = set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x2)
          </p>

          <hr />
          <p><strong>perm_lemma_1</strong></p>

          <p>
                x1 ∉ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x2) ⟹ a # x1 ∉ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (a # x2))
          </p>

          <hr />
          <p><strong>perm_split</strong></p>

          <p>
                a # x1 ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (y @ a # z)) ⟹ x1 ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            (y @ z))
          </p>

          <hr />
          <p><strong>perm_inv_3</strong></p>

          <p>
                x1 ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x2) ⟹ x2 ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x1)
          </p>

          <hr />
          <p><strong>orig_is_permutation_3</strong></p>

          <p>
                List.member (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x1) x2 ⟹ List.member (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x2) x1
          </p>

          <hr />
          <p><strong>complete_state_prop_1</strong></p>

          <p>
                fold (λ p s. <a href="#S" title="S">S</a> p ∪ s) xs C = foldl (λ
            s p. <a href="#S" title="S">S</a> p ∪ s) C xs
          </p>

          <hr />
          <p><strong>complete_state_prop_2</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            xs = fold (∪) (map (λp. <a href="#S" title="S">S</a> p) xs) {}
          </p>

          <hr />
          <p><strong>complete_state_prop_3</strong></p>

          <p>
                fold (λ p s. <a href="#S" title="S">S</a> p ∪ s) xs C = fold (∪)
            (map (λp. <a href="#S" title="S">S</a> p) xs) C
          </p>

          <hr />
          <p><strong>complete_state_prop_4</strong></p>

          <p>    fold (∪) xs C = fold (∪) xs {} ∪ C</p>

          <hr />
          <p><strong>complete_state_prop_5</strong></p>

          <p>
                fold (∪) (map (λp. <a href="#S" title="S">S</a> p) xs) C = fold
            (∪) (map (λp. <a href="#S" title="S">S</a> p) xs) {} ∪ C
          </p>

          <hr />
          <p><strong>complete_state_prop</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            (x # xs) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            xs ∪ <a href="#S" title="S">S</a> x
          </p>

          <hr />
          <p><strong>permutation_complete_state_equality</strong></p>

          <p>
                x1 ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x2) ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            x2 =
            <a href="#complete_state" title="complete_state">complete_state</a>
            x1
          </p>

          <hr />
          <p><strong>permutation_S_equiv</strong></p>

          <p>
                x1 ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            x2) ⟹ fold (∪) (map (λp. <a href="#S" title="S">S</a> p) x1) {} ≡
            fold (∪) (map (λp. <a href="#S" title="S">S</a> p) x2) {}
          </p>

          <hr />
          <p><strong>complete_state_union_1</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            (a # xs) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            (xs) ∪
            <a href="#complete_state" title="complete_state">complete_state</a>
            ([a])
          </p>

          <hr />
          <p><strong>complete_state_union_2</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            (xs) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            (xs) ∪
            <a href="#complete_state" title="complete_state">complete_state</a>
            ([ ])
          </p>

          <hr />
          <p><strong>complete_state_union_3</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            (a @ b) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            a ∪
            <a href="#complete_state" title="complete_state">complete_state</a>
            b
          </p>

          <hr />
          <p><strong>perm_1</strong></p>

          <p>
                x ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ a#x ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (a#xs))
          </p>

          <hr />
          <p><strong>perm_2</strong></p>

          <p>
                set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (a#xs)) = set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (xs@[a]))
          </p>

          <hr />
          <p><strong>perm_3</strong></p>

          <p>
                set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ([a]@st@ed)) = set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (st@[a]@ed))
          </p>

          <hr />
          <p>
                x ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ y ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ys) ⟹ x@y ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (xs@ys))
          </p>

          <hr />
          <p><strong>elements_atomic</strong></p>

          <p>
                x ∈ <a href="#get_atomic" title="get_atomic">get_atomic</a> p ⟹
            <a href="#is_atomic" title="is_atomic">is_atomic</a> x
          </p>

          <hr />
          <p><strong>empty_prop1</strong></p>

          <p>
                finite s ⟹
            <a href="#set_to_list" title="set_to_list">set_to_list</a> s = [ ] ≡
            s = {}
          </p>

          <hr />
          <p><strong>empty_prop2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#get_atomic" title="get_atomic">get_atomic</a> p = {} ⟹ Pre
            p = {}
          </p>

          <hr />
          <p><strong>finite_prop1</strong></p>

          <table>
            <tbody>
              <tr>
                <td>    finite xs ⟹ finite ys ⟹ finite {f a b</td>
                <td>a b . a ∈ xs ∧ b ∈ ys}</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>finite_prop2</strong></p>

          <table>
            <tbody>
              <tr>
                <td>    finite xs ⟹ finite ys ⟹ finite {f a b</td>
                <td>a b . (a, b) ∈ xs ∧ a ∉ ys}</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>finite_relation</strong></p>

          <p>    finite r ≡ finite (Field r)</p>

          <hr />
          <p><strong>decomp_program</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      finite (<a href="#S" title="S">S</a> p) ⟹ x ∉ F ⟹
                  <a href="#S" title="S">S</a> p = insert x F ⟹ q = 〈State={s
                </td>
                <td>s. s ∈ State p ∧ s ∈ F}, Pre={s</td>
                <td>s. s ∈ Pre p ∧ s ∈ F}, post={(a,b)</td>
                <td>a b. a ∈ F ∧ b ∈ F ∧ (a,b) ∈ post p}〉 ⟹ r = 〈State={s</td>
                <td>s. s ∈ State p}, Pre={s</td>
                <td>s. s ∈ Pre p}, post={(a,b)</td>
                <td>
                  a b. (a = x ∨ b = x) ∧ (a,b) ∈ post p}〉 ⟹ p
                  <a href="#equiv" title="equiv">≡</a> q
                  <a href="#choice" title="choice">∪</a> r
                </td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>decomp_program2</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      finite (<a href="#S" title="S">S</a> p) ⟹ x ∉ F ⟹
                  <a href="#S" title="S">S</a> p = insert x F ⟹ finite (<a
                    href="#S"
                    title="S"
                    >S</a
                  >
                  〈State={s
                </td>
                <td>s. s ∈ State p ∧ s ∈ F}, Pre={s</td>
                <td>s. s ∈ Pre p ∧ s ∈ F}, post={(a,b)</td>
                <td>a b. a ∈ F ∧ b ∈ F ∧ (a,b) ∈ post p}〉)</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>decomp_program3</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      finite (<a href="#S" title="S">S</a> p) ⟹ x ∉ F ⟹
                  <a href="#S" title="S">S</a> p = insert x F ⟹ finite (<a
                    href="#S"
                    title="S"
                    >S</a
                  >
                  〈State={s
                </td>
                <td>s. s ∈ State p}, Pre={s</td>
                <td>s. s ∈ Pre p}, post={(a,b)</td>
                <td>a b. (a = x ∨ b = x) ∧ (a,b) ∈ post p}〉)</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>card_prop</strong></p>

          <p>
                finite a ⟹ b ∩ c = {} ⟹ a = b ∪ c ⟹ card a = card b + card c
          </p>

          <hr />
          <p><strong>card_prop2</strong></p>

          <p>
                finite b ⟹ finite c ⟹ b ∩ c = {} ⟹ a = b ∪ c ⟹ card a = card b +
            card c
          </p>

          <hr />
          <p><strong>finite_prop3</strong></p>

          <table>
            <tbody>
              <tr>
                <td>    finite x ⟹ finite {f a</td>
                <td>a . a ∈ x}</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>finite_prop4</strong></p>

          <table>
            <tbody>
              <tr>
                <td>    finite x ⟹ finite {f a b</td>
                <td>a b. (a, b) ∈ x}</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>finite_prop5</strong></p>

          <p>
                finite (<a href="#S" title="S">S</a> p) ⟹ finite (<a
              href="#get_atomic"
              title="get_atomic"
              >get_atomic</a
            >
            p)
          </p>

          <hr />
          <p><strong>atomic_idem</strong></p>

          <p>
                <a href="#is_atomic" title="is_atomic">is_atomic</a> p ⟹ (<a
              href="#get_atomic"
              title="get_atomic"
              >get_atomic</a
            >
            p) ∪ {p} =
            <a href="#get_atomic" title="get_atomic">get_atomic</a> (p
            <a href="#choice" title="choice">∪</a> p)
          </p>

          <hr />
          <p><strong>atomic_state</strong></p>

          <p>
                <a href="#is_atomic" title="is_atomic">is_atomic</a> x ⟹
            <a href="#S" title="S">S</a> x = State x
          </p>

          <hr />
          <p><strong>atomic_prop1</strong></p>

          <p>
                <a href="#is_atomic" title="is_atomic">is_atomic</a> x ⟹ ∃a b.
            〈State={a,b}, Pre={a}, post={(a,b)}〉 = x
          </p>

          <hr />
          <p><strong>atomic_prop2</strong></p>

          <p>
                ∃a b. 〈State={a,b}, Pre={a}, post={(a,b)}〉 = x ⟹
            <a href="#is_atomic" title="is_atomic">is_atomic</a> x
          </p>

          <hr />
          <p><strong>atomic_prop3</strong></p>

          <p>
                ∃a b. 〈State={a,b}, Pre={a}, post={(a,b)}〉 = x ≡
            <a href="#is_atomic" title="is_atomic">is_atomic</a> x
          </p>

          <hr />
          <p><strong>atomic_post</strong></p>

          <p>
                <a href="#is_atomic" title="is_atomic">is_atomic</a> x ⟹
            <a href="#restr_post" title="restr_post">restr_post</a> x = post x
          </p>

          <hr />
          <p><strong>atomic_monotone</strong></p>

          <p>
                <a href="#get_atomic" title="get_atomic">get_atomic</a> p ⊆
            <a href="#get_atomic" title="get_atomic">get_atomic</a> (p
            <a href="#choice" title="choice">∪</a> q)
          </p>

          <hr />
          <p><strong>atomic_split</strong></p>

          <p>
                finite (<a href="#get_atomic" title="get_atomic">get_atomic</a>
            p) ⟹ finite (<a href="#get_atomic" title="get_atomic">get_atomic</a>
            q) ⟹ (<a href="#get_atomic" title="get_atomic">get_atomic</a> p) ∪
            (<a href="#get_atomic" title="get_atomic">get_atomic</a> q) =
            <a href="#get_atomic" title="get_atomic">get_atomic</a> (p
            <a href="#choice" title="choice">∪</a> q)
          </p>

          <hr />
          <p>
                <a href="#is_atomic" title="is_atomic">is_atomic</a> x ⟹ (<a
              href="#get_atomic"
              title="get_atomic"
              >get_atomic</a
            >
            p) ∪ {x} =
            <a href="#get_atomic" title="get_atomic">get_atomic</a> (p
            <a href="#choice" title="choice">∪</a> x)
          </p>

          <hr />
          <p><strong>fail_atomic</strong></p>

          <p>
                <a href="#get_atomic" title="get_atomic">get_atomic</a> (<a
              href="#Fail"
              title="Fail"
              >Fail</a
            >
            {}) = {}
          </p>

          <hr />
          <p><strong>set_list_set</strong></p>

          <p>
                finite xs ⟹ set (<a href="#set_to_list" title="set_to_list"
              >set_to_list</a
            >
            xs) = xs
          </p>

          <hr />
          <p><strong>set_list_prop</strong></p>

          <p>
                finite F ⟹ xs =
            <a href="#set_to_list" title="set_to_list">set_to_list</a> (insert x
            F) ⟹ ∃a b. a@x#b = xs
          </p>

          <hr />
          <p><strong>set_to_list_distinct</strong></p>

          <p>
                xs =
            <a href="#set_to_list" title="set_to_list">set_to_list</a> F ⟹
            distinct xs
          </p>

          <hr />
          <p><strong>set_to_list_size</strong></p>

          <p>
                size (<a href="#set_to_list" title="set_to_list">set_to_list</a>
            F) = card F
          </p>

          <hr />
          <p><strong>set_to_list_one</strong></p>

          <p>
                <a href="#set_to_list" title="set_to_list">set_to_list</a> {x} =
            [x]
          </p>

          <hr />
          <p><strong>atomic_prop_1</strong></p>

          <p>
                <a href="#is_atomic" title="is_atomic">is_atomic</a> x ⟹
            <a href="#get_atomic" title="get_atomic">get_atomic</a> x = {x}
          </p>

          <hr />
          <p><strong>Consistent_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#feasible_version"
              title="feasible_version"
              >feasible_version</a
            >
            p)
          </p>

          <hr />
          <p><strong>Consistent_round</strong></p>

          <p>
                <a href="#is_rounded" title="is_rounded">is_rounded</a> (<a
              href="#rounded_version"
              title="rounded_version"
              >rounded_version</a
            >
            p)
          </p>

          <hr />
          <p><strong>Consistent_exact</strong></p>

          <p>
                <a href="#is_exact" title="is_exact">is_exact</a> (<a
              href="#exact_version"
              title="exact_version"
              >exact_version</a
            >
            p)
          </p>

          <hr />
          <p><strong>Feasible_round</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#rounded_version"
              title="rounded_version"
              >rounded_version</a
            >
            p)
          </p>

          <hr />
          <p><strong>Round_feasible</strong></p>

          <p>
                <a href="#is_rounded" title="is_rounded">is_rounded</a> p ⟹
            <a href="#is_rounded" title="is_rounded">is_rounded</a> (<a
              href="#feasible_version"
              title="feasible_version"
              >feasible_version</a
            >
            p)
          </p>

          <hr />
          <p><strong>Equiv_prog</strong></p>

          <p>
                a <a href="#equiv" title="equiv">≡</a> b ≡ (Pre (<a
              href="#rounded_version"
              title="rounded_version"
              >rounded_version</a
            >
            a) = Pre (<a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            b) ∧ post (<a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            a) = post (<a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            b))
          </p>

          <hr />
          <p><strong>Charrel_restriction</strong></p>

          <p>
                <a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            (p <a href="#restrict_p" title="restrict_p">/</a> C) =
            <a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            p <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>Charrel_choice</strong></p>

          <p>
                <a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            (p <a href="#choice" title="choice">∪</a> q) =
            <a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            p <a href="#choice" title="choice">∪</a>
            <a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            q
          </p>

          <hr />
          <p><strong>Charrel_composition</strong></p>

          <p>
                <a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            (p <a href="#composition" title="composition">;</a> q) =
            <a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            p <a href="#composition" title="composition">;</a>
            <a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            q
          </p>

          <hr />
          <p><strong>Charrel_corestriction</strong></p>

          <p>
                <a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            (p <a href="#corestrict_p" title="corestrict_p">∖</a> C) =
            <a href="#rounded_version" title="rounded_version"
              >rounded_version</a
            >
            p <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>Restrict_rounded</strong></p>

          <p>
                <a href="#is_rounded" title="is_rounded">is_rounded</a> p ⟹
            <a href="#is_rounded" title="is_rounded">is_rounded</a> (p
            <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>Choice_rounded</strong></p>

          <p>
                <a href="#is_rounded" title="is_rounded">is_rounded</a> (p
            <a href="#choice" title="choice">∪</a> q)
          </p>

          <hr />
          <p>
                <a href="#is_rounded" title="is_rounded">is_rounded</a> q ⟹
            <a href="#is_rounded" title="is_rounded">is_rounded</a> p ⟹
            <a href="#is_rounded" title="is_rounded">is_rounded</a> (p
            <a href="#composition" title="composition">;</a> q)
          </p>

          <hr />
          <p><strong>Corestrict_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> ((p
            <a href="#restrict_p" title="restrict_p">/</a> (Pre p ∩ Domain (post
            p <a href="#corestrict_r" title="corestrict_r">∖</a> C)))
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <h2 id="implementationthy">Implementation.thy</h2>

          <p><strong>implementation_1</strong></p>

          <p>
                x ∈ X ⟹ x ∈ Domain (R) ⟹ x ∈ Domain (R
            <a href="#restrict_r" title="restrict_r">/</a> X)
          </p>

          <hr />
          <p><strong>implementation_theorem</strong></p>

          <p>
                <a href="#implements" title="implements">implements</a> p<sub
              >2</sub
            >
            p<sub>1</sub> ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >1</sub
            >
          </p>

          <hr />
          <p><strong>implementation_is_reflexive</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >1</sub
            >
            ⟹ <a href="#implements" title="implements">implements</a> p<sub
              >1</sub
            >
            p<sub>1</sub>
          </p>

          <hr />
          <p><strong>implementation_is_transitive</strong></p>

          <p>
                <a href="#implements" title="implements">implements</a> p<sub
              >1</sub
            >
            p<sub>2</sub> ⟹
            <a href="#implements" title="implements">implements</a> p<sub
              >2</sub
            >
            p<sub>3</sub> ⟹
            <a href="#implements" title="implements">implements</a> p<sub
              >1</sub
            >
            p<sub>3</sub>
          </p>

          <hr />
          <p><strong>implementation_is_antisymetric</strong></p>

          <p>
                <a href="#implements" title="implements">implements</a> p<sub
              >1</sub
            >
            p<sub>2</sub> ⟹
            <a href="#implements" title="implements">implements</a> p<sub
              >2</sub
            >
            p<sub>1</sub> ⟹ p<sub>1</sub>
            <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
          </p>

          <hr />
          <h2 id="independencethy">Independence.thy</h2>

          <p><strong>independent_symetric</strong></p>

          <p>
                <a href="#independent" title="independent">independent</a> p<sub
              >1</sub
            >
            p<sub>2</sub> =
            <a href="#independent" title="independent">independent</a> p<sub
              >2</sub
            >
            p<sub>1</sub>
          </p>

          <hr />
          <p><strong>independent_weakens</strong></p>

          <p>
                <a href="#independent" title="independent">independent</a> p<sub
              >1</sub
            >
            p<sub>2</sub> ⟹ Pre p<sub>2</sub> ≠ {} ⟹ ¬
            <a href="#weakens" title="weakens">weakens</a> p<sub>1</sub> p<sub
              >2</sub
            >
          </p>

          <hr />
          <p><strong>independent_strengthens</strong></p>

          <p>
                <a href="#independent" title="independent">independent</a> p<sub
              >1</sub
            >
            p<sub>2</sub> ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> p<sub
              >1</sub
            >
            p<sub>2</sub>
          </p>

          <hr />
          <h2 id="range_pthy">Range_p.thy</h2>

          <p><strong>same_range_p_3</strong></p>

          <p>
                p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
            ⟹ <a href="#Range_p" title="Range_p">Range_p</a> p<sub>1</sub> =
            <a href="#Range_p" title="Range_p">Range_p</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>same_range_p_2</strong></p>

          <p>
                a <a href="#equal" title="equal">=</a> b ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> a =
            <a href="#Range_p" title="Range_p">Range_p</a> b
          </p>

          <hr />
          <p><strong>range_p_explicit_1</strong></p>

          <p>
                y ∈ <a href="#Range_p" title="Range_p">Range_p</a> a ⟹ ∃x. (x,y)
            ∈ post a ∧ x ∈ Pre a
          </p>

          <hr />
          <p><strong>range_p_explicit_2</strong></p>

          <p>
                (x,y) ∈ post a ∧ x ∈ Pre a ⟹ y ∈
            <a href="#Range_p" title="Range_p">Range_p</a> a
          </p>

          <hr />
          <p><strong>no_range_fail</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> p = {} ⟹ p
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <h2 id="refinementthy">Refinement.thy</h2>

          <p><strong>refines_is_reflexive</strong></p>

          <p>
                p<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >1</sub
            >
          </p>

          <hr />
          <p><strong>refines_is_transitive_e</strong></p>

          <p>
                p<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ p<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >3</sub
            >
            ⟹ <a href="#extends" title="extends">extends</a> p<sub>1</sub> p<sub
              >3</sub
            >
          </p>

          <hr />
          <p><strong>refines_is_transitive_w</strong></p>

          <p>
                p<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ p<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >3</sub
            >
            ⟹ <a href="#weakens" title="weakens">weakens</a> p<sub>1</sub> p<sub
              >3</sub
            >
          </p>

          <hr />
          <p><strong>refines_is_transitive_s</strong></p>

          <p>
                p<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ p<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >3</sub
            >
            ⟹ <a href="#strengthens" title="strengthens">strengthens</a> p<sub
              >1</sub
            >
            p<sub>3</sub>
          </p>

          <hr />
          <p><strong>refines_is_transitive</strong></p>

          <p>
                p<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ p<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >3</sub
            >
            ⟹ p<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >3</sub
            >
          </p>

          <hr />
          <p><strong>refines_is_antisymetric</strong></p>

          <p>
                p<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ p<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >1</sub
            >
            ⟹ p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>refines_is_preorder</strong></p>

          <p>
                p<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >1</sub
            >
            ∧ (p<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >3</sub
            >
            ∧ p<sub>3</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >4</sub
            >
            → p<sub>2</sub>
            <a href="#refines" title="refines">⊑</a> p<sub>4</sub>)
          </p>

          <hr />
          <p><strong>refines_is_order</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#refines" title="refines">⊑</a> p<sub>1</sub>) ∧ (p<sub
              >2</sub
            >
            <a href="#refines" title="refines">⊑</a> p<sub>3</sub> ∧ p<sub
              >3</sub
            >
            <a href="#refines" title="refines">⊑</a> p<sub>4</sub> → p<sub
              >2</sub
            >
            <a href="#refines" title="refines">⊑</a> p<sub>4</sub>) ∧ (p<sub
              >5</sub
            >
            <a href="#refines" title="refines">⊑</a> p<sub>6</sub> ∧ p<sub
              >6</sub
            >
            <a href="#refines" title="refines">⊑</a> p<sub>5</sub> → p<sub
              >5</sub
            >
            <a href="#equiv" title="equiv">≡</a> p<sub>6</sub>)
          </p>

          <hr />
          <p><strong>extends_is_reflexive</strong></p>

          <p>    <a href="#extends" title="extends">extends</a> p p</p>

          <hr />
          <p><strong>extends_is_transitive</strong></p>

          <p>
                <a href="#extends" title="extends">extends</a> p q ⟹
            <a href="#extends" title="extends">extends</a> q r ⟹
            <a href="#extends" title="extends">extends</a> p r
          </p>

          <hr />
          <p><strong>weakens_is_reflexive</strong></p>

          <p>    <a href="#weakens" title="weakens">weakens</a> p p</p>

          <hr />
          <p><strong>weakens_is_transitive</strong></p>

          <p>
                <a href="#weakens" title="weakens">weakens</a> p q ⟹
            <a href="#weakens" title="weakens">weakens</a> q r ⟹
            <a href="#weakens" title="weakens">weakens</a> p r
          </p>

          <hr />
          <p><strong>strengthens_is_reflexive</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a> p p
          </p>

          <hr />
          <p><strong>strengthens_is_transitive_1</strong></p>

          <p>
                <a href="#weakens" title="weakens">weakens</a> p q ⟹
            <a href="#weakens" title="weakens">weakens</a> q r ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> p q ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> q r ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> p r
          </p>

          <hr />
          <p><strong>strengthens_is_transitive_2</strong></p>

          <p>
                <a href="#weakens" title="weakens">weakens</a> q p ⟹
            <a href="#weakens" title="weakens">weakens</a> r q ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> p q ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> q r ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> p r
          </p>

          <hr />
          <h2 id="relation_operationsthy-1">Relation_operations.thy</h2>

          <p><strong>corestriction_restriction_on_relcomp</strong></p>

          <p>
                r<sub>1</sub>
            <a href="#corestrict_r" title="corestrict_r">∖</a> s<sub>1</sub> O
            r<sub>2</sub> = r<sub>1</sub> O r<sub>2</sub>
            <a href="#restrict_r" title="restrict_r">/</a> s<sub>1</sub>
          </p>

          <hr />
          <h2 id="subprogramthy">Subprogram.thy</h2>

          <p><strong>specialize_is_reflexive</strong></p>

          <p>
                p<sub>1</sub>
            <a href="#specialize" title="specialize">⊆</a> p<sub>1</sub>
          </p>

          <hr />
          <p><strong>specialize_is_transitive</strong></p>

          <p>
                p<sub>1</sub>
            <a href="#specialize" title="specialize">⊆</a> p<sub>2</sub> ⟹ p<sub
              >2</sub
            >
            <a href="#specialize" title="specialize">⊆</a> p<sub>3</sub> ⟹ p<sub
              >1</sub
            >
            <a href="#specialize" title="specialize">⊆</a> p<sub>3</sub>
          </p>

          <hr />
          <p><strong>specialize_is_antisymetric</strong></p>

          <p>
                p<sub>1</sub>
            <a href="#specialize" title="specialize">⊆</a> p<sub>2</sub> ⟹ p<sub
              >2</sub
            >
            <a href="#specialize" title="specialize">⊆</a> p<sub>1</sub> ⟹ p<sub
              >1</sub
            >
            <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>specialize_is_preorder</strong></p>

          <p>
                p<sub>1</sub>
            <a href="#specialize" title="specialize">⊆</a> p<sub>1</sub> ∧
            (p<sub>2</sub> <a href="#specialize" title="specialize">⊆</a> p<sub
              >3</sub
            >
            ∧ p<sub>3</sub> <a href="#specialize" title="specialize">⊆</a> p<sub
              >4</sub
            >
            → p<sub>2</sub>
            <a href="#specialize" title="specialize">⊆</a> p<sub>4</sub>)
          </p>

          <hr />
          <p><strong>specialize_is_order</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#specialize" title="specialize">⊆</a> p<sub>1</sub>) ∧
            (p<sub>2</sub> <a href="#specialize" title="specialize">⊆</a> p<sub
              >3</sub
            >
            ∧ p<sub>3</sub> <a href="#specialize" title="specialize">⊆</a> p<sub
              >4</sub
            >
            → p<sub>2</sub>
            <a href="#specialize" title="specialize">⊆</a> p<sub>4</sub>) ∧
            (p<sub>5</sub> <a href="#specialize" title="specialize">⊆</a> p<sub
              >6</sub
            >
            ∧ p<sub>6</sub> <a href="#specialize" title="specialize">⊆</a> p<sub
              >5</sub
            >
            → p<sub>5</sub> <a href="#equiv" title="equiv">≡</a> p<sub>6</sub>)
          </p>

          <hr />
          <p><strong>choice_decomp_1</strong></p>

          <p>
                a <a href="#specialize" title="specialize">⊆</a> c ∧ b
            <a href="#specialize" title="specialize">⊆</a> c ⟹ a
            <a href="#choice" title="choice">∪</a> b
            <a href="#specialize" title="specialize">⊆</a> c
          </p>

          <hr />
          <p><strong>choice_decomp_2</strong></p>

          <p>
                a <a href="#choice" title="choice">∪</a> b
            <a href="#specialize" title="specialize">⊆</a> c ⟹ a
            <a href="#specialize" title="specialize">⊆</a> c ∧ b
            <a href="#specialize" title="specialize">⊆</a> c
          </p>

          <hr />
          <p><strong>choice_decomp</strong></p>

          <p>
                a <a href="#specialize" title="specialize">⊆</a> c ∧ b
            <a href="#specialize" title="specialize">⊆</a> c ≡ a
            <a href="#choice" title="choice">∪</a> b
            <a href="#specialize" title="specialize">⊆</a> c
          </p>

          <hr />
          <p><strong>specialize_equiv</strong></p>

          <p>
                a <a href="#specialize" title="specialize">⊆</a> b ⟹ a
            <a href="#equiv" title="equiv">≡</a> c ⟹ b
            <a href="#equiv" title="equiv">≡</a> d ⟹ c
            <a href="#specialize" title="specialize">⊆</a> d
          </p>

          <hr />
          <p><strong>equiv_specialize_transitivity</strong></p>

          <p>
                <a href="#S" title="S">S</a> a ⊆ <a href="#S" title="S">S</a> b
            ⟹ <a href="#S" title="S">S</a> c ⊆ <a href="#S" title="S">S</a> d ⟹
            a <a href="#equiv" title="equiv">≡</a> b ⟹ b
            <a href="#specialize" title="specialize">⊆</a> c ⟹ c
            <a href="#equiv" title="equiv">≡</a> d ⟹ a
            <a href="#specialize" title="specialize">⊆</a> d
          </p>

          <hr />
          <h2 id="validitythy">Validity.thy</h2>

          <p><strong>valid_generalization</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> p ⟹ prop (<a
              href="#S"
              title="S"
              >S</a
            >
            p) = prop (State p)
          </p>

          <hr />
          <p><strong>pre_in_s</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> p ⟹ Pre p ⊆
            State p
          </p>

          <hr />
          <p><strong>post_in_s</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> p ⟹ (Field
            (post p) ⊆ State p)
          </p>

          <hr />
          <p><strong>validity_inverse</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> p ⟹
            <a href="#is_valid" title="is_valid">is_valid</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>validity_composition</strong></p>

          <p>
                <a href="#all_valid" title="all_valid">all_valid</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹
            <a href="#is_valid" title="is_valid">is_valid</a> (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>validity_choice</strong></p>

          <p>
                <a href="#all_valid" title="all_valid">all_valid</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹
            <a href="#is_valid" title="is_valid">is_valid</a> (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>validity_restriction</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> p ⟹
            <a href="#is_valid" title="is_valid">is_valid</a> (p
            <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>validity_corestriction</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> p ⟹
            <a href="#is_valid" title="is_valid">is_valid</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>validity_equality</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> p ⟹
            <a href="#is_valid" title="is_valid">is_valid</a> q ⟹ p
            <a href="#equal" title="equal">=</a> q ⟹ p = q
          </p>

          <hr />
          <h2 id="choicethy">Choice.thy</h2>

          <p><strong>choice_idem_4</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> {}
            <a href="#choice" title="choice">∪</a> (p
            <a href="#choice" title="choice">∪</a> p) =
            <a href="#Fail" title="Fail">Fail</a> {}
            <a href="#choice" title="choice">∪</a> p
          </p>

          <hr />
          <p><strong>choice_idem_5</strong></p>

          <p>
                q <a href="#choice" title="choice">∪</a> (p
            <a href="#choice" title="choice">∪</a> p) = q
            <a href="#choice" title="choice">∪</a> p
          </p>

          <hr />
          <p><strong>choice_idem_6</strong></p>

          <p>
                (p <a href="#choice" title="choice">∪</a> p)
            <a href="#choice" title="choice">∪</a> q = p
            <a href="#choice" title="choice">∪</a> q
          </p>

          <hr />
          <p><strong>choice_equiv</strong></p>

          <p>
                f<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            ⟹ f<sub>2</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub> ⟹
            f<sub>1</sub> <a href="#choice" title="choice">∪</a> f<sub>2</sub>
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>equality_is_maintained_by_choice</strong></p>

          <p>
                f<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>1</sub>
            ⟹ f<sub>2</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub> ⟹
            f<sub>1</sub> <a href="#choice" title="choice">∪</a> f<sub>2</sub>
            <a href="#equal" title="equal">=</a> p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>choice_feasible</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (p<sub
              >1</sub
            >
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>condition_for_choice_simplification</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> a ∩ Pre y = {} ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> x ∩ Pre b = {} ⟹ a
            <a href="#composition" title="composition">;</a> b
            <a href="#choice" title="choice">∪</a> x
            <a href="#composition" title="composition">;</a> y
            <a href="#equiv" title="equiv">≡</a> (a
            <a href="#choice" title="choice">∪</a> x)
            <a href="#composition" title="composition">;</a> (b
            <a href="#choice" title="choice">∪</a> y)
          </p>

          <hr />
          <p><strong>choice_range</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>) =
            <a href="#Range_p" title="Range_p">Range_p</a> p<sub>1</sub> ∪
            <a href="#Range_p" title="Range_p">Range_p</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>refinement_safety_choice_e</strong></p>

          <p>
                q<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >1</sub
            >
            ⟹ q<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ <a href="#extends" title="extends">extends</a> (q<sub>1</sub>
            <a href="#choice" title="choice">∪</a> q<sub>2</sub>) (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>refinement_safety_choice_w</strong></p>

          <p>
                q<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >1</sub
            >
            ⟹ q<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ <a href="#weakens" title="weakens">weakens</a> (q<sub>1</sub>
            <a href="#choice" title="choice">∪</a> q<sub>2</sub>) (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>refinement_safety_choice_s_1</strong></p>

          <p>
                q<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >1</sub
            >
            ⟹ q<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ <a href="#strengthens" title="strengthens">strengthens</a> (q<sub
              >1</sub
            >
            <a href="#choice" title="choice">∪</a> q<sub>2</sub>) (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>refinement_safety_choice_s_2</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a> q<sub
              >1</sub
            >
            p<sub>2</sub> ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> q<sub
              >2</sub
            >
            p<sub>1</sub> ⟹ q<sub>1</sub>
            <a href="#refines" title="refines">⊑</a> p<sub>1</sub> ⟹ q<sub
              >2</sub
            >
            <a href="#refines" title="refines">⊑</a> p<sub>2</sub> ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> (q<sub
              >1</sub
            >
            <a href="#choice" title="choice">∪</a> q<sub>2</sub>) (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>refinement_safety_choice</strong></p>

          <p>
                q<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >1</sub
            >
            ⟹ q<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ (q<sub>1</sub>
            <a href="#choice" title="choice">∪</a> q<sub>2</sub>)
            <a href="#refines" title="refines">⊑</a> (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>refinement_safety_choice</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a> a c ⟹
            a <a href="#refines" title="refines">⊑</a> b ⟹ (a
            <a href="#choice" title="choice">∪</a> c)
            <a href="#refines" title="refines">⊑</a> (b
            <a href="#choice" title="choice">∪</a> c)
          </p>

          <hr />
          <p><strong>refinement_safety_choice_1</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a> q<sub
              >1</sub
            >
            p<sub>2</sub> ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> q<sub
              >2</sub
            >
            p<sub>1</sub> ⟹ q<sub>1</sub>
            <a href="#refines" title="refines">⊑</a> p<sub>1</sub> ⟹ q<sub
              >2</sub
            >
            <a href="#refines" title="refines">⊑</a> p<sub>2</sub> ⟹ (q<sub
              >1</sub
            >
            <a href="#choice" title="choice">∪</a> q<sub>2</sub>)
            <a href="#refines" title="refines">⊑</a> (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>refinement_safety_choice_2</strong></p>

          <p>
                <a href="#independent" title="independent">independent</a> q<sub
              >1</sub
            >
            p<sub>2</sub> ⟹
            <a href="#independent" title="independent">independent</a> q<sub
              >2</sub
            >
            p<sub>1</sub> ⟹ q<sub>1</sub>
            <a href="#refines" title="refines">⊑</a> p<sub>1</sub> ⟹ q<sub
              >2</sub
            >
            <a href="#refines" title="refines">⊑</a> p<sub>2</sub> ⟹ (q<sub
              >1</sub
            >
            <a href="#choice" title="choice">∪</a> q<sub>2</sub>)
            <a href="#refines" title="refines">⊑</a> (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>choice_safety1</strong></p>

          <p>
                a <a href="#specialize" title="specialize">⊆</a> b ⟹ a
            <a href="#choice" title="choice">∪</a> c
            <a href="#specialize" title="specialize">⊆</a> b
            <a href="#choice" title="choice">∪</a> c
          </p>

          <hr />
          <p><strong>implements_safety_choice</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> c ⟹
            <a href="#implements" title="implements">implements</a> a b ⟹
            <a href="#implements" title="implements">implements</a> (a
            <a href="#choice" title="choice">∪</a> c) (b
            <a href="#choice" title="choice">∪</a> c)
          </p>

          <hr />
          <p><strong>implements_safety_choice</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a> a c ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> c ⟹
            <a href="#implements" title="implements">implements</a> a b ⟹
            <a href="#implements" title="implements">implements</a> (a
            <a href="#choice" title="choice">∪</a> c) (b
            <a href="#choice" title="choice">∪</a> c)
          </p>

          <hr />
          <p><strong>program_is_specialize_of_choice</strong></p>

          <p>
                p<sub>1</sub>
            <a href="#specialize" title="specialize">⊆</a> (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>choice_choice_range</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> p ⊆
            <a href="#Range_p" title="Range_p">Range_p</a> (p
            <a href="#choice" title="choice">∪</a> q)
          </p>

          <hr />
          <p><strong>choice_range_p_prop_2</strong></p>

          <p>
                x ∈ <a href="#Range_p" title="Range_p">Range_p</a> (p
            <a href="#choice" title="choice">∪</a> q) ⟹ x ∉
            <a href="#Range_p" title="Range_p">Range_p</a> p ⟹ x ∈
            <a href="#Range_p" title="Range_p">Range_p</a> q
          </p>

          <hr />
          <p><strong>choice_range_p_prop_3</strong></p>

          <p>
                x ∉ <a href="#Range_p" title="Range_p">Range_p</a> (p
            <a href="#choice" title="choice">∪</a> q) ⟹ x ∉
            <a href="#Range_p" title="Range_p">Range_p</a> p
          </p>

          <hr />
          <p><strong>empty_is_neutral</strong></p>

          <p>
                <a href="#S" title="S">S</a> a = {} ⟹ a
            <a href="#choice" title="choice">∪</a> (b
            <a href="#choice" title="choice">∪</a> c) = b
            <a href="#choice" title="choice">∪</a> c
          </p>

          <hr />
          <p><strong>choice_idem_2</strong></p>

          <p>
                a <a href="#choice" title="choice">∪</a> (a
            <a href="#choice" title="choice">∪</a> b) = a
            <a href="#choice" title="choice">∪</a> b
          </p>

          <hr />
          <p><strong>choice_suprogram_prop</strong></p>

          <p>
                a <a href="#specialize" title="specialize">⊆</a> c ⟹ b
            <a href="#specialize" title="specialize">⊆</a> c ⟹ a
            <a href="#choice" title="choice">∪</a> b
            <a href="#specialize" title="specialize">⊆</a> c
          </p>

          <hr />
          <h2 id="compositionthy">Composition.thy</h2>

          <p><strong>composition_simplification_1</strong></p>

          <p>
                p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub> =
            p<sub>1</sub> <a href="#corestrict_p" title="corestrict_p">∖</a> Pre
            p<sub>2</sub> <a href="#composition" title="composition">;</a> p<sub
              >2</sub
            >
          </p>

          <hr />
          <p><strong>composition_simplification_2</strong></p>

          <p>
                p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub> =
            p<sub>1</sub> <a href="#composition" title="composition">;</a> p<sub
              >2</sub
            >
            <a href="#restrict_p" title="restrict_p">/</a> Pre p<sub>2</sub>
          </p>

          <hr />
          <p><strong>composition_equiv</strong></p>

          <p>
                f<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            ⟹ f<sub>2</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub> ⟹
            f<sub>1</sub> <a href="#composition" title="composition">;</a> f<sub
              >2</sub
            >
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>equality_is_maintained_by_composition</strong></p>

          <p>
                f<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>1</sub>
            ⟹ f<sub>2</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub> ⟹
            f<sub>1</sub> <a href="#composition" title="composition">;</a> f<sub
              >2</sub
            >
            <a href="#equal" title="equal">=</a> p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>compose_feasible_lemma</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹ Domain ((post p<sub>1</sub>)
            <a href="#corestrict_r" title="corestrict_r">∖</a> (Pre
            p<sub>2</sub>)) = Domain ((post p<sub>1</sub>)
            <a href="#corestrict_r" title="corestrict_r">∖</a> (Pre
            p<sub>2</sub>) O post p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>compose_feasible2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (p<sub
              >1</sub
            >
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>composition_removes_dead_code_1</strong></p>

          <p>
                p <a href="#restrict_p" title="restrict_p">/</a> (Pre p)
            <a href="#composition" title="composition">;</a> q
            <a href="#equiv" title="equiv">≡</a> p
            <a href="#composition" title="composition">;</a> q
          </p>

          <hr />
          <p><strong>composition_removes_dead_code_2</strong></p>

          <p>
                p <a href="#composition" title="composition">;</a> q
            <a href="#restrict_p" title="restrict_p">/</a> (Pre q)
            <a href="#equiv" title="equiv">≡</a> p
            <a href="#composition" title="composition">;</a> q
          </p>

          <hr />
          <p><strong>compose_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >2</sub
            >
            ⟹ <a href="#is_feasible" title="is_feasible">is_feasible</a> (p<sub
              >1</sub
            >
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
          </p>

          <hr />
          <p>
                p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
            <a href="#equiv" title="equiv">≡</a> 〈State ={}, Pre=Pre p<sub
              >1</sub
            >
            ∩ Domain (post p<sub>1</sub>
            <a href="#corestrict_r" title="corestrict_r">∖</a> Pre
            p<sub>2</sub>), post=post p<sub>1</sub>〉
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>range_decreases_composition</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> (y
            <a href="#composition" title="composition">;</a> x) ⊆
            <a href="#Range_p" title="Range_p">Range_p</a> x
          </p>

          <hr />
          <p>
                p <a href="#refines" title="refines">⊑</a> q ⟹ p
            <a href="#composition" title="composition">;</a> a
            <a href="#refines" title="refines">⊑</a> q
            <a href="#composition" title="composition">;</a> a
          </p>

          <hr />
          <p><strong>composition_subsafety</strong></p>

          <p>
                a <a href="#specialize" title="specialize">⊆</a> b ⟹ a
            <a href="#composition" title="composition">;</a> c
            <a href="#specialize" title="specialize">⊆</a> b
            <a href="#composition" title="composition">;</a> c
          </p>

          <hr />
          <p><strong>composition_subsafety2</strong></p>

          <p>
                a <a href="#specialize" title="specialize">⊆</a> b ⟹ c
            <a href="#composition" title="composition">;</a> a
            <a href="#specialize" title="specialize">⊆</a> c
            <a href="#composition" title="composition">;</a> b
          </p>

          <hr />
          <p><strong>comp_range_p_prop</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> (q) ⊆ C ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> (p
            <a href="#composition" title="composition">;</a> q) ⊆ C
          </p>

          <hr />
          <p><strong>comp_range_p_prop_2</strong></p>

          <p>
                x ∉ <a href="#Range_p" title="Range_p">Range_p</a> q ⟹ x ∉
            <a href="#Range_p" title="Range_p">Range_p</a> (p
            <a href="#composition" title="composition">;</a> q)
          </p>

          <hr />
          <p><strong>connecting_element</strong></p>

          <p>
                (x,y) ∈ post (a
            <a href="#composition" title="composition">;</a> b) ⟹ ∃z. (x,z) ∈
            post a ∧ (z,y) ∈ post b ∧ z ∈ Pre b
          </p>

          <hr />
          <p><strong>knowing_pre_composition</strong></p>

          <p>
                x ∈ Pre (a) ⟹ (x, y) ∈ post (a
            <a href="#composition" title="composition">;</a> b) ⟹ x ∈ Pre (a
            <a href="#composition" title="composition">;</a> b)
          </p>

          <hr />
          <h2 id="corestrictionthy">Corestriction.thy</h2>

          <p><strong>corestrict_idem</strong></p>

          <p>
                (p <a href="#corestrict_p" title="corestrict_p">∖</a> C)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C = p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>corestrict_prop_1</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> D) ⊆ D
          </p>

          <hr />
          <p><strong>corestrict_prop_2</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> D) ⊆
            <a href="#Range_p" title="Range_p">Range_p</a> p
          </p>

          <hr />
          <p><strong>corestrict_prop_</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> D) ⊆
            <a href="#Range_p" title="Range_p">Range_p</a> p ∩ D
          </p>

          <hr />
          <p><strong>NOT_corestricted_p_refines_p</strong></p>

          <p>
                p <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#refines" title="refines">⊑</a> p
          </p>

          <hr />
          <p><strong>NOT_p_refines_corestricted_p</strong></p>

          <p>
                p <a href="#refines" title="refines">⊑</a> p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>corestricted_refines_unrestricted_1</strong></p>

          <p>
                p <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#refines" title="refines">⊑</a> p
          </p>

          <hr />
          <p><strong>unrestricted_refines_corestricted_1</strong></p>

          <p>
                p <a href="#refines" title="refines">⊑</a> p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>corestricted_refines_unrestricted_2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#refines" title="refines">⊑</a> p
          </p>

          <hr />
          <p><strong>unrestricted_refines_corestricted_2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ p
            <a href="#refines" title="refines">⊑</a> p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>corestrict_subprog</strong></p>

          <p>
                p <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#specialize" title="specialize">⊆</a> p
          </p>

          <hr />
          <p><strong>unrestricted_weakens_corestricted</strong></p>

          <p>
                <a href="#weakens" title="weakens">weakens</a> p (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>corestricted_strengthens_unrestricted</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C) p
          </p>

          <hr />
          <p><strong>corestriction_prop</strong></p>

          <p>
                D ⊆ C ⟹ p <a href="#corestrict_p" title="corestrict_p">∖</a> D
            <a href="#refines" title="refines">⊑</a> p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>corestriction_prop</strong></p>

          <p>
                D ⊆ C ⟹ p <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#refines" title="refines">⊑</a> p
            <a href="#corestrict_p" title="corestrict_p">∖</a> D
          </p>

          <hr />
          <p><strong>corestriction_weakens_prop</strong></p>

          <p>
                D ⊆ C ⟹ <a href="#weakens" title="weakens">weakens</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C) (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> D)
          </p>

          <hr />
          <p><strong>corestriction_strengthens_prop</strong></p>

          <p>
                D ⊆ C ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> D) (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>corestrict_subprogorder1</strong></p>

          <p>
                D ⊆ C ⟹ (p <a href="#corestrict_p" title="corestrict_p">∖</a> D)
            <a href="#specialize" title="specialize">⊆</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>equivalence_is_maintained_by_corestriction</strong></p>

          <p>
                f<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            ⟹ (f<sub>1</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>equality_is_maintained_by_corestriction</strong></p>

          <p>
                f<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>1</sub>
            ⟹ (f<sub>1</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
            <a href="#equal" title="equal">=</a> p<sub>1</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>corestrict_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>corestriction_subsafety</strong></p>

          <p>
                q <a href="#specialize" title="specialize">⊆</a> p ⟹ q
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#specialize" title="specialize">⊆</a> p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>refinement_safety_corestriction</strong></p>

          <p>
                q <a href="#refines" title="refines">⊑</a> p ⟹ q
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#refines" title="refines">⊑</a> p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>implements_safety_corestriction</strong></p>

          <p>
                <a href="#implements" title="implements">implements</a> a b ⟹
            <a href="#implements" title="implements">implements</a> (a
            <a href="#corestrict_p" title="corestrict_p">∖</a> C) (b
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>weakens_corestriction_1</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p, q] ⟹ q <a href="#refines" title="refines">⊑</a> p ⟹
            <a href="#weakens" title="weakens">weakens</a> (q
            <a href="#corestrict_p" title="corestrict_p">∖</a> C) (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>weakens_corestriction_2</strong></p>

          <p>
                q <a href="#refines" title="refines">⊑</a> p ⟹
            <a href="#weakens" title="weakens">weakens</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C) (q
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>strengthens_corestriction_1</strong></p>

          <p>
                q <a href="#refines" title="refines">⊑</a> p ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C) (q
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>strengthens_corestriction_2</strong></p>

          <p>
                q <a href="#refines" title="refines">⊑</a> p ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> (q
            <a href="#corestrict_p" title="corestrict_p">∖</a> C) (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>corestrict_range_prop</strong></p>

          <p>
                x ∈ C ⟹ x ∉ <a href="#Range_p" title="Range_p">Range_p</a> (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C) ⟹ x ∉
            <a href="#Range_p" title="Range_p">Range_p</a> (p)
          </p>

          <hr />
          <p><strong>corestrict_range_prop_2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> a ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> a ⊆ C ⟹ a
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a> a
          </p>

          <hr />
          <p><strong>corestrict_range_prop_3</strong></p>

          <p>
                Range_p(a) ∩ C = {} ⟹ a∖C <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>corestrict_range_porp_4</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ p
            <a href="#corestrict_p" title="corestrict_p">∖</a>
            <a href="#Range_p" title="Range_p">Range_p</a> p
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>corestrict_inter</strong></p>

          <p>
                (p <a href="#corestrict_p" title="corestrict_p">∖</a> C)
            <a href="#corestrict_p" title="corestrict_p">∖</a> D = p∖ (C ∩ D)
          </p>

          <hr />
          <p><strong>corestrict_commute</strong></p>

          <p>
                (p <a href="#corestrict_p" title="corestrict_p">∖</a> C)
            <a href="#corestrict_p" title="corestrict_p">∖</a> D = (p
            <a href="#corestrict_p" title="corestrict_p">∖</a> D)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <h2 id="inversethy">Inverse.thy</h2>

          <p><strong>inverse_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>inverse_of_inverse_is_self</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ p
            <sup>-</sup><sup>1</sup><sup>-</sup><sup>1</sup>
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>pre_of_inverse</strong></p>

          <p>
                <a href="#is_deterministic" title="is_deterministic"
              >is_deterministic</a
            >
            (p <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) ⟹ Pre p = Pre (p
            <a href="#composition" title="composition">;</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >))
          </p>

          <hr />
          <p><strong>pre_is_unchanged</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            Pre (p <a href="#composition" title="composition">;</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)) = Pre p
          </p>

          <hr />
          <p><strong>post_is_identity</strong></p>

          <p>
                <a href="#is_deterministic" title="is_deterministic"
              >is_deterministic</a
            >
            (p <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) ⟹ (x,y)∈
            <a href="#restr_post" title="restr_post">restr_post</a> (p
            <a href="#composition" title="composition">;</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)) ⟹ x = y
          </p>

          <hr />
          <p><strong>post_is_identity_2</strong></p>

          <p>
                <a href="#is_deterministic" title="is_deterministic"
              >is_deterministic</a
            >
            (p <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) ⟹ (x,y)∈
            <a href="#restr_post" title="restr_post">restr_post</a> (p
            <a href="#unsafe_composition" title="unsafe_composition">;</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)) ⟹ x = y
          </p>

          <hr />
          <p><strong>post_of_inverse</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_deterministic" title="is_deterministic"
              >is_deterministic</a
            >
            (p <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) ⟹ <a href="#restr_post" title="restr_post">restr_post</a> (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            (Pre p)) =
            <a href="#restr_post" title="restr_post">restr_post</a> (p
            <a href="#composition" title="composition">;</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >))
          </p>

          <hr />
          <p><strong>inverse_reverses_composition_1</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_deterministic" title="is_deterministic"
              >is_deterministic</a
            >
            (p <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) ⟹ <a href="#Skip" title="Skip">Skip</a> (Pre p)
            <a href="#equiv" title="equiv">≡</a> (p
            <a href="#composition" title="composition">;</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >))
          </p>

          <hr />
          <p><strong>inverse_reverses_composition_2</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#refines" title="refines">⊑</a> (p
            <a href="#composition" title="composition">;</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >))
          </p>

          <hr />
          <p><strong>equivalence_is_maintained_by_inverse</strong></p>

          <p>
                f <a href="#equiv" title="equiv">≡</a> p ⟹ f
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
            <a href="#equiv" title="equiv">≡</a> p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
          </p>

          <hr />
          <p><strong>equality_is_maintained_by_inverse</strong></p>

          <p>
                f <a href="#equal" title="equal">=</a> p ⟹ f
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
            <a href="#equal" title="equal">=</a> p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
          </p>

          <hr />
          <p><strong>refinement_safety_inverse</strong></p>

          <p>
                <a href="#S" title="S">S</a> f = <a href="#S" title="S">S</a> g
            ⟹ <a href="#all_feasible" title="all_feasible">all_feasible</a> [f,
            g] ⟹ f <a href="#refines" title="refines">⊑</a> g ⟹ (g
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) <a href="#refines" title="refines">⊑</a> (f
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>inverse_makes_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <h2 id="operation_interactionsthy">Operation_interactions.thy</h2>

          <p><strong>unsafe_compose_absorb</strong></p>

          <p>
                (p<sub>1</sub> ;p<sub>2</sub>)/C = p<sub>1</sub>/C ;p<sub
              >2</sub
            >
          </p>

          <hr />
          <p><strong>unsafe_compose_absorb_2</strong></p>

          <p>
                (p<sub>1</sub> ;p<sub>2</sub>)/C
            <a href="#equal" title="equal">=</a> p<sub>1</sub>/C ;p<sub>2</sub>
          </p>

          <hr />
          <p><strong>unsafe_compose_absorb_3</strong></p>

          <p>
                (p<sub>1</sub> ;p<sub>2</sub>)/C
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>/C ;p<sub>2</sub>
          </p>

          <hr />
          <p><strong>range_p_unsafe_composition</strong></p>

          <p>
                Range_p(a) ∩ C = {} ⟹ a ;b/(-C)
            <a href="#equiv" title="equiv">≡</a> a ;b
          </p>

          <hr />
          <p><strong>compose_absorb_1</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)/C =
            p<sub>1</sub>/C
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>compose_absorb_2</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)/C
            <a href="#equal" title="equal">=</a> p<sub>1</sub>/C
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>compose_absorb_3</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)/C
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>/C
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>range_p_composition</strong></p>

          <p>
                Range_p(a) ∩ C = {} ⟹ a
            <a href="#composition" title="composition">;</a> b/(-C)
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> b
          </p>

          <hr />
          <p><strong>restrict_distrib_1</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)/C =
            (p<sub>1</sub>/C
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>/C)
          </p>

          <hr />
          <p><strong>restrict_distrib_2</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)/C
            <a href="#equal" title="equal">=</a> (p<sub>1</sub>/C
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>/C)
          </p>

          <hr />
          <p><strong>restrict_distrib_3</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)/C
            <a href="#equiv" title="equiv">≡</a> (p<sub>1</sub>/C
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>/C)
          </p>

          <hr />
          <p><strong>restrict_distrib_4</strong></p>

          <p>
                a <a href="#choice" title="choice">∪</a> (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)/C = a
            <a href="#choice" title="choice">∪</a> (p<sub>1</sub>/C
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>/C)
          </p>

          <hr />
          <p><strong>restriction_absorbed_by_inverse_1</strong></p>

          <p>
                (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)/C = ((p∖C)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>restriction_absorbed_by_inverse_2</strong></p>

          <p>
                (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)/C <a href="#equal" title="equal">=</a> (p∖C)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
          </p>

          <hr />
          <p><strong>restriction_absorbed_by_inverse_3</strong></p>

          <p>
                (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)/C <a href="#equiv" title="equiv">≡</a> (p∖C)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
          </p>

          <hr />
          <p><strong>compose_distrib1_1</strong></p>

          <p>
                q
            <a href="#composition" title="composition">;</a>
            (p<sub>1</sub>∪p<sub>2</sub>) = (q
            <a href="#composition" title="composition">;</a> p<sub>1</sub>)
            <a href="#choice" title="choice">∪</a> (q
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>compose_distrib1_2</strong></p>

          <p>
                q
            <a href="#composition" title="composition">;</a>
            (p<sub>1</sub>∪p<sub>2</sub>)
            <a href="#equal" title="equal">=</a> (q
            <a href="#composition" title="composition">;</a> p<sub>1</sub>)
            <a href="#choice" title="choice">∪</a> (q
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>compose_distrib1_3</strong></p>

          <p>
                q
            <a href="#composition" title="composition">;</a>
            (p<sub>1</sub>∪p<sub>2</sub>)
            <a href="#equiv" title="equiv">≡</a> (q
            <a href="#composition" title="composition">;</a> p<sub>1</sub>)
            <a href="#choice" title="choice">∪</a> (q
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>compose_distrib2_1</strong></p>

          <p>
                (p<sub>1</sub>∪p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> q = (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> q)
            <a href="#choice" title="choice">∪</a> (p<sub>2</sub>
            <a href="#composition" title="composition">;</a> q)
          </p>

          <hr />
          <p><strong>compose_distrib2_2</strong></p>

          <p>
                (p<sub>1</sub>∪p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> q
            <a href="#equal" title="equal">=</a> (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> q)
            <a href="#choice" title="choice">∪</a> (p<sub>2</sub>
            <a href="#composition" title="composition">;</a> q)
          </p>

          <hr />
          <p><strong>compose_distrib2_3</strong></p>

          <p>
                (p<sub>1</sub>∪p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> q
            <a href="#equiv" title="equiv">≡</a> (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> q)
            <a href="#choice" title="choice">∪</a> (p<sub>2</sub>
            <a href="#composition" title="composition">;</a> q)
          </p>

          <hr />
          <p><strong>choice_distributes_over_composition</strong></p>

          <p>
                q∪(p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
            <a href="#equiv" title="equiv">≡</a> (q∪p<sub>1</sub>)
            <a href="#composition" title="composition">;</a> (q∪p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>corestriction_on_composition</strong></p>

          <p>
                p<sub>1</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> s<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub> =
            p<sub>1</sub> <a href="#composition" title="composition">;</a> p<sub
              >2</sub
            >
            <a href="#restrict_p" title="restrict_p">/</a> s<sub>1</sub>
          </p>

          <hr />
          <p><strong>corestrict_compose</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C = p<sub>1</sub>
            <a href="#composition" title="composition">;</a> (p<sub>2</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>unsafe_gets_safe_1</strong></p>

          <p>
                (p<sub>1</sub> ;p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> p<sub>3</sub> =
            (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> p<sub>3</sub>
          </p>

          <hr />
          <p><strong>unsafe_gets_safe_2</strong></p>

          <p>
                (p<sub>1</sub> ;p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> p<sub>3</sub>
            <a href="#equal" title="equal">=</a> (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> p<sub>3</sub>
          </p>

          <hr />
          <p><strong>unsafe_gets_safe_3</strong></p>

          <p>
                (p<sub>1</sub> ;p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> p<sub>3</sub>
            <a href="#equiv" title="equiv">≡</a> (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> p<sub>3</sub>
          </p>

          <hr />
          <p><strong>unsafe_gets_safe_extended</strong></p>

          <p>
                ((p<sub>1</sub> ;p<sub>2</sub>) ;p<sub>3</sub>)
            <a href="#composition" title="composition">;</a> p<sub>4</sub>
            <a href="#equiv" title="equiv">≡</a> ((p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> p<sub>3</sub>)
            <a href="#composition" title="composition">;</a> p<sub>4</sub>
          </p>

          <hr />
          <p><strong>equivalency_of_compositions_1</strong></p>

          <p>
                (p<sub>1</sub>∖Pre p<sub>2</sub>) ;p<sub>2</sub> = p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>equivalency_of_compositions_2</strong></p>

          <p>
                (p<sub>1</sub>∖Pre p<sub>2</sub>) ;p<sub>2</sub>
            <a href="#equal" title="equal">=</a> p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>equivalency_of_compositions_3</strong></p>

          <p>
                (p<sub>1</sub>∖Pre p<sub>2</sub>) ;p<sub>2</sub>
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>composition_inverse_1</strong></p>

          <p>
                (p <a href="#composition" title="composition">;</a> q)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a> = (q
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) <a href="#composition" title="composition">;</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>composition_inverse_2</strong></p>

          <p>
                (p <a href="#composition" title="composition">;</a> q)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
            <a href="#equal" title="equal">=</a> (q
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) <a href="#composition" title="composition">;</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>composition_inverse_3</strong></p>

          <p>
                (p <a href="#composition" title="composition">;</a> q)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
            <a href="#equiv" title="equiv">≡</a> (q
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) <a href="#composition" title="composition">;</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>choice_inverse_1</strong></p>

          <p>
                (p <a href="#choice" title="choice">∪</a> q)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a> = (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) <a href="#choice" title="choice">∪</a> (q
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>choice_inverse_2</strong></p>

          <p>
                (p <a href="#choice" title="choice">∪</a> q)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
            <a href="#equal" title="equal">=</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) <a href="#choice" title="choice">∪</a> (q
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>choice_inverse_3</strong></p>

          <p>
                (p <a href="#choice" title="choice">∪</a> q)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
            <a href="#equiv" title="equiv">≡</a> (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) <a href="#choice" title="choice">∪</a> (q
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p>
            <strong>corestriction_restriction_on_unsafe_composition_1</strong>
          </p>

          <p>
                p<sub>1</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> s<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a> p<sub
              >2</sub
            >
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a> p<sub
              >2</sub
            >
            <a href="#restrict_p" title="restrict_p">/</a> s<sub>1</sub>
          </p>

          <hr />
          <p>
            <strong>corestrict_gets_absorbed_by_unsafe_composition_1</strong>
          </p>

          <p>
                (p<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            p<sub>2</sub>) <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a> (p<sub>1</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
            <a href="#unsafe_composition" title="unsafe_composition">;</a> p<sub
              >2</sub
            >
          </p>

          <hr />
          <p>
            <strong>corestrict_gets_absorbed_by_unsafe_composition_2</strong>
          </p>

          <p>
                (p<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            p<sub>2</sub>) <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            (p<sub>2</sub> <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>corestriction_on_unsafe_composition</strong></p>

          <p>
                p<sub>1</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> s
            <a href="#unsafe_composition" title="unsafe_composition">;</a> p<sub
              >2</sub
            >
            = p<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a> p<sub
              >2</sub
            >
            <a href="#restrict_p" title="restrict_p">/</a> s
          </p>

          <hr />
          <p><strong>corestrict_unsafe_compose</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >1</sub
            >
            ⟹ (p<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            p<sub>2</sub>) <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            (p<sub>2</sub> <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>corestriction_absorbed_by_inverse_1</strong></p>

          <p>
                (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)∖C = ((p/C)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>corestriction_absorbed_by_inverse_2</strong></p>

          <p>
                (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)∖C <a href="#equal" title="equal">=</a> ((p/C)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>corestriction_absorbed_by_inverse_3</strong></p>

          <p>
                (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)∖C <a href="#equiv" title="equiv">≡</a> (p/C)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
          </p>

          <hr />
          <p><strong>unsafe_composition_inverse_1</strong></p>

          <p>
                (p ;q)
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a>
            <a href="#equiv" title="equiv">≡</a> (q
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >) ;(p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>corestrict_choice_1</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C = (p<sub
              >1</sub
            >
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
            <a href="#choice" title="choice">∪</a> (p<sub>2</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>corestrict_choice_2</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equal" title="equal">=</a> (p<sub>1</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
            <a href="#choice" title="choice">∪</a> (p<sub>2</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>corestrict_choice_3</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a> (p<sub>1</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
            <a href="#choice" title="choice">∪</a> (p<sub>2</sub>
            <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>unsafe_compose_distrib1_3_1</strong></p>

          <p>
                q ;(p<sub>1</sub>∪p<sub>2</sub>) = (q ;p<sub>1</sub>)
            <a href="#choice" title="choice">∪</a> (q ;p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>unsafe_compose_distrib1_3_2</strong></p>

          <p>
                q ;(p<sub>1</sub>∪p<sub>2</sub>)
            <a href="#equal" title="equal">=</a> (q ;p<sub>1</sub>)
            <a href="#choice" title="choice">∪</a> (q ;p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>unsafe_compose_distrib1_3_3</strong></p>

          <p>
                q ;(p<sub>1</sub>∪p<sub>2</sub>)
            <a href="#equiv" title="equiv">≡</a> (q ;p<sub>1</sub>)
            <a href="#choice" title="choice">∪</a> (q ;p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>unsafe_compose_distrib2_1</strong></p>

          <p>
                (p<sub>1</sub>∪p<sub>2</sub>) ;q = (p<sub>1</sub> ;q)
            <a href="#choice" title="choice">∪</a> (p<sub>2</sub> ;q)
          </p>

          <hr />
          <p><strong>unsafe_compose_distrib2_2</strong></p>

          <p>
                (p<sub>1</sub>∪p<sub>2</sub>) ;q
            <a href="#equal" title="equal">=</a> (p<sub>1</sub> ;q)
            <a href="#choice" title="choice">∪</a> (p<sub>2</sub> ;q)
          </p>

          <hr />
          <p><strong>unsafe_compose_distrib2_3</strong></p>

          <p>
                (p<sub>1</sub>∪p<sub>2</sub>) ;q
            <a href="#equiv" title="equiv">≡</a> (p<sub>1</sub> ;q)
            <a href="#choice" title="choice">∪</a> (p<sub>2</sub> ;q)
          </p>

          <hr />
          <p><strong>choice_distributes_over_composition_4</strong></p>

          <p>
                q∪(p<sub>1</sub> ;p<sub>2</sub>)
            <a href="#equiv" title="equiv">≡</a> (q∪p<sub>1</sub>)
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            (q∪p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>until_simplification_1</strong></p>

          <p>
                a <a href="#composition" title="composition">;</a> n∖C
            <a href="#choice" title="choice">∪</a> a
            <a href="#composition" title="composition">;</a> m∖C
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> (n
            <a href="#choice" title="choice">∪</a> m)∖C
          </p>

          <hr />
          <p><strong>until_simplification_2</strong></p>

          <p>
                a ;n∖C <a href="#choice" title="choice">∪</a> a ;m∖C
            <a href="#equiv" title="equiv">≡</a> a ;(n
            <a href="#choice" title="choice">∪</a> m)∖C
          </p>

          <hr />
          <h2 id="primethy">Prime.thy</h2>

          <p><strong>finite_Field_implies_finite_relation</strong></p>

          <p>    finite (Field r) ⟹ finite r</p>

          <hr />
          <p>    finite (<a href="#S" title="S">S</a> p) ⟹ finite (Pre p)</p>

          <hr />
          <p><strong>finite_S_implies_finite_post</strong></p>

          <p>    finite (<a href="#S" title="S">S</a> p) ⟹ finite (post p)</p>

          <hr />
          <p><strong>post_cardinality_equals_P_cardinality</strong></p>

          <table>
            <tbody>
              <tr>
                <td>    P = {〈State={a,b}, Pre={a}, post={(a,b)}〉</td>
                <td>a b. (a,b) ∈ (post p)} ⟹ card (post p) = card P</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>same_card_and_finite_impl_finite</strong></p>

          <p>    card a = card b ⟹ finite a ⟹ card a &gt; 0 ⟹ finite b</p>

          <hr />
          <p><strong>fst_in_state</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      <a href="#is_feasible" title="is_feasible">is_feasible</a>
                  p ⟹ <a href="#is_minimal" title="is_minimal">is_minimal</a> p
                  ⟹ P = {〈State={a,b}, Pre={a}, post={(a,b)}〉
                </td>
                <td>a b. (a,b) ∈ post p} ⟹ r ∈ post p ⟹ fst r ∈ State p</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>snd_is_state</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      <a href="#is_feasible" title="is_feasible">is_feasible</a>
                  p ⟹ <a href="#is_minimal" title="is_minimal">is_minimal</a> p
                  ⟹ P = {〈State={a,b}, Pre={a}, post={(a,b)}〉
                </td>
                <td>a b. (a,b) ∈ post p} ⟹ r ∈ post p ⟹ snd r ∈ State p</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_minimal" title="is_minimal">is_minimal</a> p ⟹ P =
            {〈State={a,b}, Pre={a}, post={(a,b)}〉 | a b. (a,b) ∈ post p} ⟹ s ∈
            State p ⟹ ∃r ∈ post p. fst r = s ∨ snd r = s
          </p>

          <hr />
          <p><strong>choice_set_decomp_1</strong></p>

          <p>
                finite F ⟹
            <a href="#Choice_set" title="Choice_set">⋃<sub>P</sub></a> (insert x
            F) = <a href="#Choice_set" title="Choice_set">⋃<sub>P</sub></a> F
            <a href="#choice" title="choice">∪</a> x
          </p>

          <hr />
          <p><strong>choice_set_decomp_1</strong></p>

          <p>
                <a href="#Choice_set" title="Choice_set">⋃<sub>P</sub></a>
            (insert x F) =
            <a href="#Choice_set" title="Choice_set">⋃<sub>P</sub></a> F
            <a href="#choice" title="choice">∪</a> x
          </p>

          <hr />
          <p><strong>choice_set_equality</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      finite (<a href="#S" title="S">S</a> p) ⟹
                  <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
                  <a href="#is_minimal" title="is_minimal">is_minimal</a> p ⟹ P
                  = {〈State={a,b}, Pre={a}, post={(a,b)}〉
                </td>
                <td>
                  a b. (a,b) ∈ post p} ⟹ p<sub>i</sub> ∈ P ⟹
                  <a href="#Choice_set" title="Choice_set">⋃<sub>P</sub></a> P =
                  p
                </td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p>
                finite (<a href="#S" title="S">S</a> p) ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_minimal" title="is_minimal">is_minimal</a> p ⟹ P =
            {〈State={a,b},Pre={a},post={(a,b)}〉 |a b . (a,b) ∈ (post p)} ⟹
            p<sub>i</sub> ∈ P ⟹
            <a href="#is_prime" title="is_prime">is_prime</a> p<sub>i</sub> ∧
            p<sub>i</sub> <a href="#specialize" title="specialize">⊆</a> p ∧
            <a href="#Choice_set" title="Choice_set">⋃<sub>P</sub></a> P = p
          </p>

          <hr />
          <p>
                finite (<a href="#S" title="S">S</a> p) ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_minimal" title="is_minimal">is_minimal</a> p ⟹ ∃ P.
            p<sub>i</sub> ∈ P →
            <a href="#is_prime" title="is_prime">is_prime</a> p<sub>i</sub> ∧
            p<sub>i</sub> <a href="#specialize" title="specialize">⊆</a> p ∧
            <a href="#Choice_set" title="Choice_set">⋃<sub>P</sub></a> P = p
          </p>

          <hr />
          <h2 id="restrictionthy">Restriction.thy</h2>

          <p><strong>restrict_prop_1</strong></p>

          <p>
                Pre (p <a href="#restrict_p" title="restrict_p">/</a> D) ⊆ D
          </p>

          <hr />
          <p><strong>restrict_prop_2</strong></p>

          <p>
                Pre (p <a href="#restrict_p" title="restrict_p">/</a> D) ⊆ Pre p
          </p>

          <hr />
          <p><strong>restrict_prop</strong></p>

          <p>
                Pre (p <a href="#restrict_p" title="restrict_p">/</a> D) ⊆ Pre p
            ∩ D
          </p>

          <hr />
          <p><strong>restrict_idem</strong></p>

          <p>
                (p <a href="#restrict_p" title="restrict_p">/</a> C)
            <a href="#restrict_p" title="restrict_p">/</a> C = p
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>restrict_inter</strong></p>

          <p>
                (p/C<sub>1</sub>)/C<sub>2</sub> = p/(C<sub>1</sub> ∩
            C<sub>2</sub>)
          </p>

          <hr />
          <p><strong>restriction_equiv</strong></p>

          <p>
                f<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            ⟹ (f<sub>1</sub> <a href="#restrict_p" title="restrict_p">/</a> C)
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>equality_is_maintained_by_restriction</strong></p>

          <p>
                f<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>1</sub>
            ⟹ (f<sub>1</sub> <a href="#restrict_p" title="restrict_p">/</a> C)
            <a href="#equal" title="equal">=</a> p<sub>1</sub>
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>restrict_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (p
            <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>restrict_might_make_feasible</strong></p>

          <p>
                C ⊆ Domain (post p) ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (p
            <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>restrict_refine_1</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a> p (p
            <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>restrict_refine_2</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a> (p
            <a href="#restrict_p" title="restrict_p">/</a> C) p
          </p>

          <hr />
          <p><strong>restrict_refine_3</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a> p q ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> (p
            <a href="#restrict_p" title="restrict_p">/</a> C) (q
            <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>restrict_refine_4</strong></p>

          <p>
                <a href="#weakens" title="weakens">weakens</a> p (p
            <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>restrict_refine_5</strong></p>

          <p>
                <a href="#weakens" title="weakens">weakens</a> p q ⟹
            <a href="#weakens" title="weakens">weakens</a> (p
            <a href="#restrict_p" title="restrict_p">/</a> C) (q
            <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>restrict_refine</strong></p>

          <p>
                p <a href="#refines" title="refines">⊑</a> p
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>restrict_refineorder1</strong></p>

          <p>
                D ⊆ C ⟹ p <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#refines" title="refines">⊑</a> p
            <a href="#restrict_p" title="restrict_p">/</a> D
          </p>

          <hr />
          <p><strong>restriction_refsafety</strong></p>

          <p>
                q <a href="#refines" title="refines">⊑</a> p ⟹ q
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#refines" title="refines">⊑</a> p
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>restriction_subsafety</strong></p>

          <p>
                q <a href="#specialize" title="specialize">⊆</a> p ⟹ q
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#specialize" title="specialize">⊆</a> p
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>restriction_refsafety2</strong></p>

          <p>
                q <a href="#refines" title="refines">⊑</a> p ⟹ D ⊆ C ⟹ q
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#refines" title="refines">⊑</a> p
            <a href="#restrict_p" title="restrict_p">/</a> D
          </p>

          <hr />
          <p><strong>implements_safety_restriction</strong></p>

          <p>
                <a href="#implements" title="implements">implements</a> a b ⟹
            <a href="#implements" title="implements">implements</a> (a
            <a href="#restrict_p" title="restrict_p">/</a> C) (b
            <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>restrict_subprogorder1</strong></p>

          <p>
                D ⊆ C ⟹ p <a href="#restrict_p" title="restrict_p">/</a> D
            <a href="#specialize" title="specialize">⊆</a> p
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>restrict_subprog</strong></p>

          <p>
                p <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#specialize" title="specialize">⊆</a> p
          </p>

          <hr />
          <h2 id="unsafe_compositionthy">Unsafe_composition.thy</h2>

          <p>
            <strong>equivalence_is_maintained_by_unsafe_composition</strong>
          </p>

          <p>
                f<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            ⟹ f<sub>2</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub> ⟹
            f<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a> f<sub
              >2</sub
            >
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a> p<sub
              >2</sub
            >
          </p>

          <hr />
          <p><strong>equality_is_maintained_by_unsafe_composition</strong></p>

          <p>
                f<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>1</sub>
            ⟹ f<sub>2</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub> ⟹
            f<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a> f<sub
              >2</sub
            >
            <a href="#equal" title="equal">=</a> p<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a> p<sub
              >2</sub
            >
          </p>

          <hr />
          <p><strong>unsafe_compose_feasible_1</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a>
            (p<sub>1</sub>
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            p<sub>2</sub>) ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >1</sub
            >
          </p>

          <hr />
          <p><strong>unsafe_compose_feasible_2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> p<sub>1</sub> ⊆ Pre
            p<sub>2</sub> ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (p<sub
              >1</sub
            >
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            p<sub>2</sub>)
          </p>

          <hr />
          <h2 id="unsafe_composition2thy">Unsafe_composition2.thy</h2>

          <p>
                Pre (p<sub>1</sub>
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            (p<sub>2</sub>
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            p<sub>3</sub>)) ⊆ Pre ((p<sub>1</sub>
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            p<sub>2</sub>)
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            p<sub>3</sub>)
          </p>

          <hr />
          <p>
                Pre ((p
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            q)
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            r) = Pre (p
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            (q
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            r))
          </p>

          <hr />
          <p>
            <strong>equivalence_is_maintained_by_unsafe_composition</strong>
          </p>

          <p>
                f<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            ⟹ f<sub>2</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub> ⟹
            f<sub>1</sub>
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            f<sub>2</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            p<sub>2</sub>
          </p>

          <hr />
          <p><strong>unsafe_compose_feasible_1</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a>
            (p<sub>1</sub>
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            p<sub>2</sub>) ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >1</sub
            >
          </p>

          <hr />
          <p><strong>unsafe_compose_feasible_2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> p<sub>1</sub> ⊆ Pre
            p<sub>2</sub> ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (p<sub
              >1</sub
            >
            <a href="#unsafe_composition2" title="unsafe_composition2"
              >;<sup>p</sup></a
            >
            p<sub>2</sub>)
          </p>

          <hr />
          <h2 id="unsafe_composition3thy">Unsafe_composition3.thy</h2>

          <p>
            <strong>equivalence_is_maintained_by_unsafe_composition</strong>
          </p>

          <p>
                f<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            ⟹ f<sub>2</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub> ⟹
            f<sub>1</sub>
            <a href="#unsafe_composition3" title="unsafe_composition3"
              >;<sub>P</sub></a
            >
            f<sub>2</sub> <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
            <a href="#unsafe_composition3" title="unsafe_composition3"
              >;<sub>P</sub></a
            >
            p<sub>2</sub>
          </p>

          <hr />
          <p><strong>equality_is_maintained_by_unsafe_composition</strong></p>

          <p>
                f<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>1</sub>
            ⟹ f<sub>2</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub> ⟹
            f<sub>1</sub>
            <a href="#unsafe_composition3" title="unsafe_composition3"
              >;<sub>P</sub></a
            >
            f<sub>2</sub> <a href="#equal" title="equal">=</a> p<sub>1</sub>
            <a href="#unsafe_composition3" title="unsafe_composition3"
              >;<sub>P</sub></a
            >
            p<sub>2</sub>
          </p>

          <hr />
          <p><strong>unsafe_compose_feasible_1</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a>
            (p<sub>1</sub>
            <a href="#unsafe_composition3" title="unsafe_composition3"
              >;<sub>P</sub></a
            >
            p<sub>2</sub>) ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p<sub
              >1</sub
            >
          </p>

          <hr />
          <p><strong>unsafe_compose_feasible_2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> p<sub>1</sub> ⊆ Pre
            p<sub>2</sub> ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (p<sub
              >1</sub
            >
            <a href="#unsafe_composition3" title="unsafe_composition3"
              >;<sub>P</sub></a
            >
            p<sub>2</sub>)
          </p>

          <hr />
          <h2 id="booleanthy">Boolean.thy</h2>

          <p><strong>restrict_true</strong></p>

          <p>
                p <a href="#restrict_p" title="restrict_p">/</a> (<a
              href="#TRUE"
              title="TRUE"
              >TRUE</a
            >
            (<a href="#S" title="S">S</a> p))
            <a href="#equal" title="equal">=</a> p
          </p>

          <hr />
          <p><strong>restrict_false</strong></p>

          <p>
                p <a href="#restrict_p" title="restrict_p">/</a> (<a
              href="#FALSE"
              title="FALSE"
              >FALSE</a
            >) <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p)
          </p>

          <hr />
          <p><strong>cond_false_1</strong></p>

          <p>
                p <a href="#restrict_p" title="restrict_p">/</a>
            <a href="#FALSE" title="FALSE">FALSE</a>
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p)
          </p>

          <hr />
          <p><strong>corestrict_true</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ p
            <a href="#corestrict_p" title="corestrict_p">∖</a> (<a
              href="#TRUE"
              title="TRUE"
              >TRUE</a
            >
            (<a href="#S" title="S">S</a> p))
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>corestrict_false</strong></p>

          <p>
                p <a href="#corestrict_p" title="corestrict_p">∖</a>
            <a href="#FALSE" title="FALSE">FALSE</a> =
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p)
          </p>

          <hr />
          <p><strong>corestrict_false</strong></p>

          <p>
                p <a href="#corestrict_p" title="corestrict_p">∖</a>
            <a href="#FALSE" title="FALSE">FALSE</a>
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Infeas" title="Infeas">Infeas</a> (Pre p)
          </p>

          <hr />
          <p><strong>if_true</strong></p>

          <p>
                <a href="#ITE" title="ITE">ITE</a> (<a href="#TRUE" title="TRUE"
              >TRUE</a
            >
            (<a href="#S" title="S">S</a> p<sub>1</sub> ∪
            <a href="#S" title="S">S</a> p<sub>2</sub>)) p<sub>1</sub> p<sub
              >2</sub
            >
            <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
          </p>

          <hr />
          <p><strong>if_false1</strong></p>

          <p>
                <a href="#ITE" title="ITE">ITE</a> (<a
              href="#FALSE"
              title="FALSE"
              >FALSE</a
            >) p<sub>1</sub> p<sub>2</sub>
            <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>true_selects_first_program_2</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> [(<a href="#TRUE" title="TRUE"
              >TRUE</a
            >
            (<a href="#S" title="S">S</a> p<sub>1</sub> ∪
            <a href="#S" title="S">S</a> p<sub>2</sub>), p<sub>1</sub>), (FALSE,
            p<sub>2</sub>)] <a href="#equiv" title="equiv">≡</a> p<sub>1</sub>
          </p>

          <hr />
          <p><strong>false_selects_second_program_2</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> [(FALSE, p<sub>1</sub>), ((<a
              href="#TRUE"
              title="TRUE"
              >TRUE</a
            >
            (<a href="#S" title="S">S</a> p<sub>1</sub> ∪
            <a href="#S" title="S">S</a> p<sub>2</sub>)), p<sub>2</sub>)]
            <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>restrict_false2</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ <a href="#S" title="S">S</a> q
            ⟹ p <a href="#restrict_p" title="restrict_p">/</a>
            <a href="#FALSE" title="FALSE">FALSE</a>
            <a href="#choice" title="choice">∪</a> q =
            <a href="#Fail" title="Fail">Fail</a> {}
            <a href="#choice" title="choice">∪</a> q
          </p>

          <hr />
          <p><strong>implies_prop</strong></p>

          <p>    (C →<sub>s</sub> D) = UNIV ≡ (C ⊆ D)</p>

          <hr />
          <p><strong>and_prop</strong></p>

          <p>
                A ⊆ X ⟹ B ⊆ X ⟹ A ∧<sub>s</sub> B =
            <a href="#TRUE" title="TRUE">TRUE</a> X ≡ A = X ∧ B = X
          </p>

          <hr />
          <p><strong>or_prop</strong></p>

          <p>
                <a href="#TRUE" title="TRUE">TRUE</a> X ⊆ (A ∨<sub>s</sub> B) ≡
            ∀x∈X. x ∈ A ∨ x ∈ B
          </p>

          <hr />
          <h2 id="failthy">Fail.thy</h2>

          <p><strong>fail_is_valid</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> (<a
              href="#Fail"
              title="Fail"
              >Fail</a
            >
            s)
          </p>

          <hr />
          <p><strong>fail_is_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#Fail"
              title="Fail"
              >Fail</a
            >
            s)
          </p>

          <hr />
          <p><strong>fail_is_total</strong></p>

          <p>
                <a href="#is_total" title="is_total">is_total</a> (<a
              href="#Fail"
              title="Fail"
              >Fail</a
            >
            s)
          </p>

          <hr />
          <p><strong>fail_is_idempondent_composition</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> C
            <a href="#composition" title="composition">;</a>
            <a href="#Fail" title="Fail">Fail</a> C =
            <a href="#Fail" title="Fail">Fail</a> C
          </p>

          <hr />
          <p><strong>fail_is_idempondent_unsafe_composition</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> C
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            <a href="#Fail" title="Fail">Fail</a> C =
            <a href="#Fail" title="Fail">Fail</a> C
          </p>

          <hr />
          <p><strong>fail_equiv</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> D
          </p>

          <hr />
          <p><strong>no_pre_is_fail</strong></p>

          <p>
                Pre p = {} ⟹ <a href="#Fail" title="Fail">Fail</a> s
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>NOT_fail_choice_r</strong></p>

          <p>
                p <a href="#choice" title="choice">∪</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p) <a href="#equal" title="equal">=</a> p
          </p>

          <hr />
          <p><strong>fail_choice_r</strong></p>

          <p>
                p <a href="#choice" title="choice">∪</a>
            <a href="#Fail" title="Fail">Fail</a> C
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>NOT_fail_choice_l</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#choice" title="choice">∪</a> p
            <a href="#equal" title="equal">=</a> p
          </p>

          <hr />
          <p><strong>fail_choice_l</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> C
            <a href="#choice" title="choice">∪</a> p
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>fail_compose_l_2</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#composition" title="composition">;</a> p
            <a href="#equal" title="equal">=</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p)
          </p>

          <hr />
          <p><strong>fail_compose_l</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> C
            <a href="#composition" title="composition">;</a> p
            <a href="#equal" title="equal">=</a>
            <a href="#Fail" title="Fail">Fail</a> (C ∪
            <a href="#S" title="S">S</a> p)
          </p>

          <hr />
          <p><strong>fail_compose_r_2</strong></p>

          <p>
                p <a href="#composition" title="composition">;</a>
            <a href="#Fail" title="Fail">Fail</a> C
            <a href="#equal" title="equal">=</a>
            <a href="#Fail" title="Fail">Fail</a> (C ∪
            <a href="#S" title="S">S</a> p)
          </p>

          <hr />
          <p><strong>fail_compose_r</strong></p>

          <p>
                p <a href="#composition" title="composition">;</a>
            <a href="#Fail" title="Fail">Fail</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> C
          </p>

          <hr />
          <p><strong>only_fail_refines_fail</strong></p>

          <p>
                (p <a href="#refines" title="refines">⊑</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p)) = (p <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p))
          </p>

          <hr />
          <p><strong>refine_fail</strong></p>

          <p>
                p <a href="#refines" title="refines">⊑</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p)
          </p>

          <hr />
          <p><strong>fail_refine_self</strong></p>

          <p>
                (<a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#refines" title="refines">⊑</a> p) = (p
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p))
          </p>

          <hr />
          <p><strong>fail_specialize_self</strong></p>

          <p>
                (p <a href="#specialize" title="specialize">⊆</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p)) = (p <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p))
          </p>

          <hr />
          <p><strong>range_of_fail</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#Fail"
              title="Fail"
              >Fail</a
            >
            C) = {}
          </p>

          <hr />
          <p><strong>choice_fail_implication</strong></p>

          <p>
                (a <a href="#choice" title="choice">∪</a> b
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}) = (a
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ∧ b
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {})
          </p>

          <hr />
          <p><strong>fail_refine</strong></p>

          <p>
                C ⊆ <a href="#S" title="S">S</a> p ⟹ p
            <a href="#refines" title="refines">⊑</a>
            <a href="#Fail" title="Fail">Fail</a> C
          </p>

          <hr />
          <p>
                C ⊆ <a href="#S" title="S">S</a> p ⟹
            <a href="#Fail" title="Fail">Fail</a> C
            <a href="#specialize" title="specialize">⊆</a> p
          </p>

          <hr />
          <p><strong>fail_specialize2</strong></p>

          <p>
                p <a href="#specialize" title="specialize">⊆</a>
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p) ≡ p <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>fail_refine2</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#refines" title="refines">⊑</a> p ≡ p
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>compose_empty_1</strong></p>

          <p>
                <a href="#S" title="S">S</a> a = {} ⟹ b
            <a href="#composition" title="composition">;</a> a =
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            b)
          </p>

          <hr />
          <p><strong>compose_empty_2</strong></p>

          <p>
                <a href="#S" title="S">S</a> a = {} ⟹ a
            <a href="#composition" title="composition">;</a> b =
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            b)
          </p>

          <hr />
          <p><strong>fail_union_1</strong></p>

          <p>
                C ⊆ <a href="#S" title="S">S</a> p ⟹
            <a href="#Fail" title="Fail">Fail</a> C
            <a href="#choice" title="choice">∪</a> (p
            <a href="#choice" title="choice">∪</a> q) = (p
            <a href="#choice" title="choice">∪</a> q)
          </p>

          <hr />
          <p><strong>fail_compose</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#composition" title="composition">;</a> p =
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p)
          </p>

          <hr />
          <p><strong>fail_union_2</strong></p>

          <p>
                C ⊆ <a href="#S" title="S">S</a> a ⟹ a
            <a href="#choice" title="choice">∪</a>
            <a href="#Fail" title="Fail">Fail</a> C = a
            <a href="#choice" title="choice">∪</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>fail_choice_decomp</strong></p>

          <p>
                p <a href="#choice" title="choice">∪</a> q
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ≡ p
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ∧ q
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>fail_specialize</strong></p>

          <p>
                C ⊆ <a href="#S" title="S">S</a> p ⟹
            <a href="#Fail" title="Fail">Fail</a> C
            <a href="#specialize" title="specialize">⊆</a> p
          </p>

          <hr />
          <p><strong>fail_specialize3</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> {}
            <a href="#specialize" title="specialize">⊆</a> p
          </p>

          <hr />
          <h2 id="havocthy">Havoc.thy</h2>

          <p><strong>havoc_is_valid</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> (<a
              href="#Havoc"
              title="Havoc"
              >Havoc</a
            >
            s)
          </p>

          <hr />
          <p><strong>havoc_is_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#Havoc"
              title="Havoc"
              >Havoc</a
            >
            s)
          </p>

          <hr />
          <p><strong>havoc_is_total</strong></p>

          <p>
                <a href="#is_total" title="is_total">is_total</a> (<a
              href="#Havoc"
              title="Havoc"
              >Havoc</a
            >
            s)
          </p>

          <hr />
          <p><strong>havoc_is_idempondent_composition</strong></p>

          <p>
                <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#composition" title="composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C =
            <a href="#Havoc" title="Havoc">Havoc</a> C
          </p>

          <hr />
          <p><strong>havoc_is_idempondent_unsafe_composition</strong></p>

          <p>
                <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C =
            <a href="#Havoc" title="Havoc">Havoc</a> C
          </p>

          <hr />
          <p><strong>havoc_choice_l</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹
            <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#choice" title="choice">∪</a> p =
            <a href="#Havoc" title="Havoc">Havoc</a> C
          </p>

          <hr />
          <p><strong>havoc_choice_r</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹ p
            <a href="#choice" title="choice">∪</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C =
            <a href="#Havoc" title="Havoc">Havoc</a> C
          </p>

          <hr />
          <p><strong>havoc_pre_State</strong></p>

          <p>
                State (p <a href="#composition" title="composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (<a href="#S" title="S"
              >S</a
            >
            p)) = State (<a href="#Havoc" title="Havoc">Havoc</a> (<a
              href="#S"
              title="S"
              >S</a
            >
            p) <a href="#restrict_p" title="restrict_p">/</a> Pre p)
          </p>

          <hr />
          <p><strong>havoc_pre_S</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹
            <a href="#S" title="S">S</a> (p
            <a href="#composition" title="composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C) =
            <a href="#S" title="S">S</a> (<a href="#Havoc" title="Havoc"
              >Havoc</a
            >
            C <a href="#restrict_p" title="restrict_p">/</a> Pre p)
          </p>

          <hr />
          <p><strong>NOT_havoc_pre_Pre</strong></p>

          <p>
                Pre (p <a href="#composition" title="composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (<a href="#S" title="S"
              >S</a
            >
            p)) = Pre (<a href="#Havoc" title="Havoc">Havoc</a> (<a
              href="#S"
              title="S"
              >S</a
            >
            p) <a href="#restrict_p" title="restrict_p">/</a> Pre p)
          </p>

          <hr />
          <p><strong>havoc_pre_Pre</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹is_feasible p ⟹ Pre (p
            <a href="#composition" title="composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C) = Pre (<a
              href="#Havoc"
              title="Havoc"
              >Havoc</a
            >
            C <a href="#restrict_p" title="restrict_p">/</a> Pre p)
          </p>

          <hr />
          <p><strong>NOT_havoc_pre_post_1</strong></p>

          <p>
                post (p <a href="#composition" title="composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (<a href="#S" title="S"
              >S</a
            >
            p)) = post (<a href="#Havoc" title="Havoc">Havoc</a> (<a
              href="#S"
              title="S"
              >S</a
            >
            p) <a href="#restrict_p" title="restrict_p">/</a> Pre p)
          </p>

          <hr />
          <p><strong>NOT_havoc_pre_post_1</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            post (p <a href="#composition" title="composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (<a href="#S" title="S"
              >S</a
            >
            p)) = post (<a href="#Havoc" title="Havoc">Havoc</a> (<a
              href="#S"
              title="S"
              >S</a
            >
            p) <a href="#restrict_p" title="restrict_p">/</a> Pre p)
          </p>

          <hr />
          <p><strong>havoc_pre_post</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹is_feasible p ⟹
            <a href="#restr_post" title="restr_post">restr_post</a> (p
            <a href="#composition" title="composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C)/ Pre p =
            <a href="#restr_post" title="restr_post">restr_post</a> (<a
              href="#Havoc"
              title="Havoc"
              >Havoc</a
            >
            C <a href="#restrict_p" title="restrict_p">/</a> Pre p)
          </p>

          <hr />
          <p><strong>NOT_havoc_pre</strong></p>

          <p>
                p <a href="#composition" title="composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#equiv" title="equiv">≡</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#restrict_p" title="restrict_p">/</a> Pre p
          </p>

          <hr />
          <p><strong>havoc_pre</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹is_feasible p ⟹ (p
            <a href="#composition" title="composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C)
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#restrict_p" title="restrict_p">/</a> Pre p
          </p>

          <hr />
          <p><strong>havoc_pre_unsafe</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹ (p
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C)
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#restrict_p" title="restrict_p">/</a> Pre p
          </p>

          <hr />
          <p><strong>havoc_co_restricted</strong></p>

          <p>
                (<a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#restrict_p" title="restrict_p">/</a> D)
            <a href="#corestrict_p" title="corestrict_p">∖</a> D
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (C ∩ D)
          </p>

          <hr />
          <p><strong>havoc_from_left_S</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#S" title="S">S</a> (<a href="#Havoc" title="Havoc"
              >Havoc</a
            >
            C <a href="#composition" title="composition">;</a> p) = S(<a
              href="#Havoc"
              title="Havoc"
              >Havoc</a
            >
            C <a href="#corestrict_p" title="corestrict_p">∖</a>
            <a href="#Range_p" title="Range_p">Range_p</a> (p))
          </p>

          <hr />
          <p><strong>havoc_from_left_Pre</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ ¬ p
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> C ⟹ Pre (<a
              href="#Havoc"
              title="Havoc"
              >Havoc</a
            >
            C <a href="#composition" title="composition">;</a> p) = C
          </p>

          <hr />
          <p><strong>havoc_from_left_post</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ post
            (<a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#composition" title="composition">;</a> p) = post (<a
              href="#Havoc"
              title="Havoc"
              >Havoc</a
            >
            C <a href="#corestrict_p" title="corestrict_p">∖</a>
            <a href="#Range_p" title="Range_p">Range_p</a> (p))
          </p>

          <hr />
          <p><strong>havoc_from_left</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ ¬ p
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> C ⟹
            <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#composition" title="composition">;</a> p
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#corestrict_p" title="corestrict_p">∖</a>
            <a href="#Range_p" title="Range_p">Range_p</a> p
          </p>

          <hr />
          <p><strong>refine_havoc</strong></p>

          <p>
                p <a href="#refines" title="refines">⊑</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#restrict_p" title="restrict_p">/</a> Pre p
          </p>

          <hr />
          <p><strong>specialize_havoc</strong></p>

          <p>
                p <a href="#specialize" title="specialize">⊆</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#restrict_p" title="restrict_p">/</a> Pre p
          </p>

          <hr />
          <p><strong>refine_havoc2</strong></p>

          <p>
                <a href="#is_total" title="is_total">is_total</a> p ⟹ p
            <a href="#refines" title="refines">⊑</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (<a href="#S" title="S"
              >S</a
            >
            p)
          </p>

          <hr />
          <p><strong>specialize_havoc2</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹ p
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#Havoc" title="Havoc">Havoc</a> (C)
          </p>

          <hr />
          <h2 id="infeasthy">Infeas.thy</h2>

          <p><strong>infeas_is_valid</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> (<a
              href="#Infeas"
              title="Infeas"
              >Infeas</a
            >
            s)
          </p>

          <hr />
          <p><strong>infeas_is_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#Infeas"
              title="Infeas"
              >Infeas</a
            >
            s)
          </p>

          <hr />
          <p><strong>infeas_is_total</strong></p>

          <p>
                <a href="#is_total" title="is_total">is_total</a> (<a
              href="#Infeas"
              title="Infeas"
              >Infeas</a
            >
            s)
          </p>

          <hr />
          <p><strong>infeas_is_idempondent_composition</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> C
            <a href="#composition" title="composition">;</a>
            <a href="#Infeas" title="Infeas">Infeas</a> C =
            <a href="#Infeas" title="Infeas">Infeas</a> C
          </p>

          <hr />
          <p><strong>infeas_is_idempondent_unsafe_composition</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> C
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            <a href="#Infeas" title="Infeas">Infeas</a> C =
            <a href="#Infeas" title="Infeas">Infeas</a> C
          </p>

          <hr />
          <p><strong>fail_equiv</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Infeas" title="Infeas">Infeas</a> D
          </p>

          <hr />
          <p><strong>not_total_infeas_makes_infeasible</strong></p>

          <p>
                ¬ <a href="#is_total" title="is_total">is_total</a> p ⟹ ¬
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (p
            <a href="#choice" title="choice">∪</a>
            <a href="#Infeas" title="Infeas">Infeas</a> (<a href="#S" title="S"
              >S</a
            >
            p))
          </p>

          <hr />
          <p><strong>infeas_makes_total</strong></p>

          <p>
                <a href="#is_total" title="is_total">is_total</a> (p
            <a href="#choice" title="choice">∪</a>
            <a href="#Infeas" title="Infeas">Infeas</a> (<a href="#S" title="S"
              >S</a
            >
            p))
          </p>

          <hr />
          <p><strong>infeas_to_smaller_self</strong></p>

          <p>
                p <a href="#composition" title="composition">;</a>
            <a href="#Infeas" title="Infeas">Infeas</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#equiv" title="equiv">≡</a>
            <a href="#Infeas" title="Infeas">Infeas</a> (Pre p ∩ Domain (post
            p))
          </p>

          <hr />
          <p><strong>infeas_composition</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> (<a
              href="#S"
              title="S"
              >S</a
            >
            p) <a href="#composition" title="composition">;</a> p =
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p)
          </p>

          <hr />
          <p><strong>infeas_unsafe_composition_1</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> (<a
              href="#S"
              title="S"
              >S</a
            >
            p) <a href="#unsafe_composition" title="unsafe_composition">;</a> p
            = <a href="#Infeas" title="Infeas">Infeas</a> (<a
              href="#S"
              title="S"
              >S</a
            >
            p)
          </p>

          <hr />
          <p><strong>infeas_unsafe_composition_2</strong></p>

          <p>
                p
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            <a href="#Infeas" title="Infeas">Infeas</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#equiv" title="equiv">≡</a>
            <a href="#Infeas" title="Infeas">Infeas</a> (Pre p)
          </p>

          <hr />
          <p><strong>infeas_restriction</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> (C)
            <a href="#restrict_p" title="restrict_p">/</a> D
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Infeas" title="Infeas">Infeas</a> (C ∩ D)
          </p>

          <hr />
          <p><strong>infeas_corestriction</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> (C)
            <a href="#corestrict_p" title="corestrict_p">∖</a> D =
            <a href="#Fail" title="Fail">Fail</a> (C)
          </p>

          <hr />
          <p><strong>infeas_corestriction2</strong></p>

          <p>
                <a href="#Infeas" title="Infeas">Infeas</a> (C)
            <a href="#corestrict_p" title="corestrict_p">∖</a> D =
            <a href="#Infeas" title="Infeas">Infeas</a> (C)
          </p>

          <hr />
          <h2 id="skipthy">Skip.thy</h2>

          <p><strong>skip_is_valid</strong></p>

          <p>
                <a href="#is_valid" title="is_valid">is_valid</a> (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            s)
          </p>

          <hr />
          <p><strong>skip_is_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            s)
          </p>

          <hr />
          <p><strong>skip_is_total</strong></p>

          <p>
                <a href="#is_total" title="is_total">is_total</a> (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            s)
          </p>

          <hr />
          <p><strong>skip_is_idempondent_composition</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> C
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> C =
            <a href="#Skip" title="Skip">Skip</a> C
          </p>

          <hr />
          <p><strong>skip_is_idempondent_unsafe_composition</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> C
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> C =
            <a href="#Skip" title="Skip">Skip</a> C
          </p>

          <hr />
          <p><strong>skip_unsafe_compose_r_1</strong></p>

          <p>
                p
            <a href="#unsafe_composition" title="unsafe_composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#equal" title="equal">=</a> p
          </p>

          <hr />
          <p><strong>skip_compose_r_post</strong></p>

          <p>
                post (p <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p)) = post p
          </p>

          <hr />
          <p><strong>skip_compose_r_Pre_1</strong></p>

          <p>
                Pre (p <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p)) = (Pre p ∩ Domain (post p))
          </p>

          <hr />
          <p><strong>skip_compose_r_S</strong></p>

          <p>
                <a href="#S" title="S">S</a> (p
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p)) = <a href="#S" title="S">S</a> p
          </p>

          <hr />
          <p><strong>Skip_compleft</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ p
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#equal" title="equal">=</a> p
          </p>

          <hr />
          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#composition" title="composition">;</a> p
            <a href="#equal" title="equal">=</a> p
          </p>

          <hr />
          <p><strong>skip_compose2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ p
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>skip_compose_r_range2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ p
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (Range (post p))
            <a href="#equal" title="equal">=</a> p
          </p>

          <hr />
          <p><strong>skip_compose_r_range</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹ p
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a
              href="#Range_p"
              title="Range_p"
              >Range_p</a
            >
            p) <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>skip_compose4</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#Skip" title="Skip">Skip</a> (Pre p)
            <a href="#composition" title="composition">;</a> p
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>skip_compose_r_3</strong></p>

          <p>
                p <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#equiv" title="equiv">≡</a> p
            <a href="#restrict_p" title="restrict_p">/</a> Domain (post p)
          </p>

          <hr />
          <p><strong>skip_makes_feasible</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> (p
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p))
          </p>

          <hr />
          <p><strong>skip_compose_l_S</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a href="#Skip" title="Skip"
              >Skip</a
            >
            (<a href="#S" title="S">S</a> p)
            <a href="#composition" title="composition">;</a> p) =
            <a href="#S" title="S">S</a> p
          </p>

          <hr />
          <p><strong>skip_compose_l_Pre</strong></p>

          <p>
                Pre (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#S"
              title="S"
              >S</a
            >
            p) <a href="#composition" title="composition">;</a> p) = Pre p
          </p>

          <hr />
          <p><strong>skip_compose_l_post</strong></p>

          <p>
                post (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#S"
              title="S"
              >S</a
            >
            p) <a href="#composition" title="composition">;</a> p) = post p
            <a href="#restrict_r" title="restrict_r">/</a> Pre p
          </p>

          <hr />
          <p><strong>skip_compose_l_1</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#composition" title="composition">;</a> p
            <a href="#equal" title="equal">=</a> 〈 State =
            <a href="#S" title="S">S</a> p, Pre = Pre p, post = post p
            <a href="#restrict_r" title="restrict_r">/</a> Pre p〉
          </p>

          <hr />
          <p><strong>skip_compose3</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#composition" title="composition">;</a> p
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>skip_unsafe_compose_r_2</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#unsafe_composition" title="unsafe_composition">;</a> p
            <a href="#equal" title="equal">=</a> 〈State=S p, Pre=S p, post =
            <a href="#restr_post" title="restr_post">restr_post</a> p 〉
          </p>

          <hr />
          <p><strong>corestriction_prop</strong></p>

          <p>
                p <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a> p
            <a href="#composition" title="composition">;</a> (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            (<a href="#S" title="S">S</a> p)
            <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>skip_prop</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> C
            <a href="#choice" title="choice">∪</a>
            <a href="#Skip" title="Skip">Skip</a> D
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Skip" title="Skip">Skip</a> (C ∪ D)
          </p>

          <hr />
          <p><strong>skip_prop_2</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S"
              >S</a
            >
            p) <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#composition" title="composition">;</a> p
            <a href="#equiv" title="equiv">≡</a> p
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p>
                <a href="#Skip" title="Skip">Skip</a> (C)
            <a href="#composition" title="composition">;</a> p
            <a href="#equal" title="equal">=</a> p
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>Skip_comprestrict</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> (C)
            <a href="#composition" title="composition">;</a> p
            <a href="#equiv" title="equiv">≡</a> p
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>skip_prop_4</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> D
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Skip" title="Skip">Skip</a> (D ∩ C)
          </p>

          <hr />
          <p><strong>skip_prop_5</strong></p>

          <p>
                C ⊆ D ⟹ <a href="#Skip" title="Skip">Skip</a> D
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Skip" title="Skip">Skip</a> C
          </p>

          <hr />
          <p><strong>skip_prop_6</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹
            <a href="#Skip" title="Skip">Skip</a> C
            <a href="#composition" title="composition">;</a> p
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>corestrict_skip</strong></p>

          <p>
                p <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (C)
            <a href="#equiv" title="equiv">≡</a> p
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>skip_prop_8</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> D
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Skip" title="Skip">Skip</a> (D ∩ C)
          </p>

          <hr />
          <p><strong>skip_prop_9</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a href="#Skip" title="Skip"
              >Skip</a
            >
            (C)) = C
          </p>

          <hr />
          <p><strong>skip_prop_10</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> x
            <a href="#choice" title="choice">∪</a>
            <a href="#Skip" title="Skip">Skip</a> y =
            <a href="#Skip" title="Skip">Skip</a> (x ∪ y)
          </p>

          <hr />
          <p><strong>skip_prop_11</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> {}
            <a href="#choice" title="choice">∪</a> p
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>skip_prop_12</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> {}
            <a href="#choice" title="choice">∪</a> (p
            <a href="#choice" title="choice">∪</a> q) = p
            <a href="#choice" title="choice">∪</a> q
          </p>

          <hr />
          <p><strong>skip_prop_13</strong></p>

          <p>
                (a <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            a ∪ <a href="#S" title="S">S</a> b) )
            <a href="#composition" title="composition">;</a> b = a
            <a href="#composition" title="composition">;</a> b
          </p>

          <hr />
          <p><strong>skip_prop_14</strong></p>

          <p>
                (a <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            a) ) <a href="#composition" title="composition">;</a> b = a
            <a href="#composition" title="composition">;</a> b
          </p>

          <hr />
          <p><strong>skip_prop_15</strong></p>

          <p>
                (a <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            b) ) <a href="#composition" title="composition">;</a> b = a
            <a href="#composition" title="composition">;</a> b
          </p>

          <hr />
          <p><strong>skip_prop_16</strong></p>

          <p>
                <a href="#S" title="S">S</a> a ⊆ C ⟹ post ((a
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> C)
            <a href="#composition" title="composition">;</a> b) = post (a
            <a href="#composition" title="composition">;</a> b)
          </p>

          <hr />
          <p><strong>skip_prop_17</strong></p>

          <p>
                <a href="#S" title="S">S</a> b ⊆ C ⟹ post ((a
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> C)
            <a href="#composition" title="composition">;</a> b) = post (a
            <a href="#composition" title="composition">;</a> b)
          </p>

          <hr />
          <p><strong>skip_prop_18</strong></p>

          <p>
                <a href="#S" title="S">S</a> a ⊆ C ⟹
            <a href="#Skip" title="Skip">Skip</a> C
            <a href="#composition" title="composition">;</a> (a
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> C) = (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            (<a href="#S" title="S">S</a> a)
            <a href="#composition" title="composition">;</a> a)
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> C
          </p>

          <hr />
          <h2 id="arbitrary_repetitionthy">Arbitrary_repetition.thy</h2>

          <p><strong>loop_l1</strong></p>

          <p>
                s=0 ⟹ f=0 ⟹ <a href="#loop" title="loop">loop</a> p s f =
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#restrict_p" title="restrict_p">/</a> (Pre p)
          </p>

          <hr />
          <p><strong>loop_l2</strong></p>

          <p>
                s=0 ⟹ f=1 ⟹ <a href="#loop" title="loop">loop</a> p s f =
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#restrict_p" title="restrict_p">/</a> (Pre p)
            <a href="#choice" title="choice">∪</a> (<a href="#Skip" title="Skip"
              >Skip</a
            >
            (<a href="#S" title="S">S</a> p)
            <a href="#restrict_p" title="restrict_p">/</a> (Pre p)
            <a href="#composition" title="composition">;</a> p)
          </p>

          <hr />
          <p><strong>loop_l2_01</strong></p>

          <p>
                <a href="#loop" title="loop">loop</a> p (f + 1) f =
            <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S">S</a>
            p)
          </p>

          <hr />
          <p><strong>loop_l2_02</strong></p>

          <p>
                <a href="#loop" title="loop">loop</a> p 0 f
            <a href="#composition" title="composition">;</a> p =
            <a href="#loop" title="loop">loop</a> p (0 + 1) (f + 1)
          </p>

          <hr />
          <p><strong>loop_l2_03</strong></p>

          <p>
                <a href="#loop" title="loop">loop</a> p s s
            <a href="#composition" title="composition">;</a> p =
            <a href="#loop" title="loop">loop</a> p (s + 1) (s + 1)
          </p>

          <hr />
          <p><strong>loop_l2_04</strong></p>

          <p>
                s&lt;f ⟹ <a href="#loop" title="loop">loop</a> p s f
            <a href="#composition" title="composition">;</a> p =
            <a href="#loop" title="loop">loop</a> p (s + 1) (f + 1)
          </p>

          <hr />
          <p><strong>loop_l2_05</strong></p>

          <p>
                0&lt;s ⟹ <a href="#loop" title="loop">loop</a> p s s = p<sup
              >s</sup
            >
            <a href="#choice" title="choice">∪</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>loop_l2_1</strong></p>

          <p>
                s=f ⟹ <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a> p<sup>s</sup>
          </p>

          <hr />
          <p><strong>loop_l2_2</strong></p>

          <p>
                <a href="#loop" title="loop">loop</a> p s (s + 1) = p<sup
              >s</sup
            >
            <a href="#choice" title="choice">∪</a> p<sup>s + 1</sup>
          </p>

          <hr />
          <p><strong>loop_l3</strong></p>

          <p>
                s&lt;f ⟹ <a href="#loop" title="loop">loop</a> p s (f + 1)
            <a href="#equiv" title="equiv">≡</a> (p<sup>f + 1</sup>)
            <a href="#choice" title="choice">∪</a> (<a href="#loop" title="loop"
              >loop</a
            >
            p s f)
          </p>

          <hr />
          <p><strong>loop_l4</strong></p>

          <p>
                s&lt;f ⟹ <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a> (p<sup>s</sup>)
            <a href="#choice" title="choice">∪</a> (<a href="#loop" title="loop"
              >loop</a
            >
            p (s + 1) f)
          </p>

          <hr />
          <p><strong>loop_l6</strong></p>

          <p>
                s=0 ⟹ s&lt;f ⟹ <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a> (<a href="#Skip" title="Skip"
              >Skip</a
            >
            (<a href="#S" title="S">S</a> p)
            <a href="#restrict_p" title="restrict_p">/</a> (Pre p))
            <a href="#choice" title="choice">∪</a> (<a href="#loop" title="loop"
              >loop</a
            >
            p 1 f)
          </p>

          <hr />
          <p>
                0&lt;s ⟹ s&lt;f ⟹ <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a> p<sup>s</sup>
            <a href="#choice" title="choice">∪</a>
            <a href="#loop" title="loop">loop</a> p (s + 1) f
          </p>

          <hr />
          <p><strong>loop_l5</strong></p>

          <p>
                s&lt;f ⟹ s &lt; k ⟹ k &lt; f ⟹
            <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a> (<a href="#loop" title="loop"
              >loop</a
            >
            p s k) <a href="#choice" title="choice">∪</a> (<a
              href="#loop"
              title="loop"
              >loop</a
            >
            p (k + 1) f)
          </p>

          <hr />
          <p><strong>loop_simplification</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [x,y] ⟹ <a href="#Range_p" title="Range_p">Range_p</a> x ∩ Pre y =
            {} ⟹ <a href="#Range_p" title="Range_p">Range_p</a> y ∩ Pre x = {} ⟹
            (<a href="#loop" title="loop">loop</a> x s f)
            <a href="#choice" title="choice">∪</a> (<a href="#loop" title="loop"
              >loop</a
            >
            y s f) <a href="#equiv" title="equiv">≡</a>
            <a href="#loop" title="loop">loop</a> (x
            <a href="#choice" title="choice">∪</a> y) s f
          </p>

          <hr />
          <p><strong>equiv_is_maintained_by_arbitrary_repetition_1</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹ p<sub>1</sub>
            <a href="#equiv" title="equiv">≡</a> p<sub>2</sub> ⟹
            <a href="#S" title="S">S</a> p<sub>1</sub> =
            <a href="#S" title="S">S</a> p<sub>2</sub> ⟹
            <a href="#loop" title="loop">loop</a> p<sub>1</sub> s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#loop" title="loop">loop</a> p<sub>2</sub> s f
          </p>

          <hr />
          <p><strong>equiv_is_maintained_by_arbitrary_repetition_2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹ p<sub>1</sub>
            <a href="#equiv" title="equiv">≡</a> p<sub>2</sub> ⟹ 0&lt;s ⟹
            <a href="#loop" title="loop">loop</a> p<sub>1</sub> s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#loop" title="loop">loop</a> p<sub>2</sub> s f
          </p>

          <hr />
          <p><strong>arbitrary_rep_feasibility_l1</strong></p>

          <p>
                s &gt; f ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#loop"
              title="loop"
              >loop</a
            >
            p s f)
          </p>

          <hr />
          <p><strong>arbitrary_rep_feasibility_l2</strong></p>

          <p>
                s &lt; f ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#loop"
              title="loop"
              >loop</a
            >
            p s f)
          </p>

          <hr />
          <p><strong>arbitrary_rep_feasibility</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#loop"
              title="loop"
              >loop</a
            >
            p s f)
          </p>

          <hr />
          <p><strong>skip_compose_l_of_loop_1</strong></p>

          <p>
                s &lt; f ⟹ s=0 ⟹ <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#restrict_p" title="restrict_p">/</a> (Pre p)
            <a href="#choice" title="choice">∪</a>
            <a href="#loop" title="loop">loop</a> p s f
          </p>

          <hr />
          <p><strong>skip_compose_r_of_loop_2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#loop" title="loop">loop</a> p s f
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p)
          </p>

          <hr />
          <p><strong>skip_compose_l_of_loop_3</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#composition" title="composition">;</a>
            <a href="#loop" title="loop">loop</a> p s f
          </p>

          <hr />
          <p><strong>range_fixed_rep</strong></p>

          <p>
                s&lt;m ⟹ m&lt;f ⟹ x ∉
            <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#loop"
              title="loop"
              >loop</a
            >
            p s f) ⟹ x ∉
            <a href="#Range_p" title="Range_p">Range_p</a> (p<sup>m</sup>)
          </p>

          <hr />
          <p><strong>pre_is_known_arbitrary_rep_1</strong></p>

          <p>
                ∀x y. x ∈ Pre a ∧ (x, y) ∈ post (a
            <a href="#composition" title="composition">;</a> (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))<sup>n</sup>) →
            x ∈ Pre (a <a href="#composition" title="composition">;</a> (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))<sup>n</sup>)
          </p>

          <hr />
          <p><strong>pre_is_known_arbitrary_rep_2</strong></p>

          <p>
                x ∈ Pre a ⟹ (x, y) ∈ post (a
            <a href="#composition" title="composition">;</a> (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))<sup>n</sup>) ⟹
            x ∈ Pre (a <a href="#composition" title="composition">;</a> (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))<sup>n</sup>)
          </p>

          <hr />
          <p><strong>bad_index_is_fail_arbitrary</strong></p>

          <p>
                f&lt;s ⟹ <a href="#loop" title="loop">loop</a> a s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>fail_stays_fail_arbitrary</strong></p>

          <p>
                s&lt;f ⟹ <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ⟹
            <a href="#loop" title="loop">loop</a> p s (f + 1)
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>fail_stays_fail_arbitrary_2</strong></p>

          <p>
                s&lt;f ⟹ <a href="#loop" title="loop">loop</a> p s (f + 1)
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ⟹
            <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>fail_stays_fail_arbitrary_3</strong></p>

          <p>
                s&lt;f ⟹ <a href="#loop" title="loop">loop</a> p s (f + 1)
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ≡
            <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>fail_stays_fail_arbitrary_4</strong></p>

          <p>
                s&lt;f ⟹ <a href="#loop" title="loop">loop</a> p s s
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ≡
            <a href="#loop" title="loop">loop</a> p s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>fail_arbitrary_implies_fixed</strong></p>

          <p>
                k &lt; n ⟹ <a href="#loop" title="loop">loop</a> (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C)) 0 n
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ⟹ (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))
            <a href="#fixed_repetition" title="fixed_repetition"
              ><sup
                >«/sup&gt;/a&gt; k <a href="#equiv" title="equiv">≡</a>
                <a href="#Fail" title="Fail">Fail</a> {}</sup
              ></a
            >
          </p>

          <hr />
          <p><strong>extract_fixed_from_arbitrary</strong></p>

          <p>
                k&lt;n ⟹ a <a href="#composition" title="composition">;</a>
            <a href="#loop" title="loop">loop</a> (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C)) 0 n
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a>
            <a href="#loop" title="loop">loop</a> (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C)) 0 n
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#choice" title="choice">∪</a> a
            <a href="#composition" title="composition">;</a> ((b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))
            <a href="#fixed_repetition" title="fixed_repetition"
              ><sup
                >«/sup&gt;/a&gt; k)
                <a href="#corestrict_p" title="corestrict_p">∖</a> C</sup
              ></a
            >
          </p>

          <hr />
          <p><strong>fail_arbitrary_implies_fixed_2</strong></p>

          <p>
                k &lt; n ⟹ a <a href="#composition" title="composition">;</a>
            <a href="#loop" title="loop">loop</a> (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C)) 0 n
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ⟹ a
            <a href="#composition" title="composition">;</a> ((b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))
            <a href="#fixed_repetition" title="fixed_repetition"
              ><sup
                >«/sup&gt;/a&gt; k)
                <a href="#corestrict_p" title="corestrict_p">∖</a> C
                <a href="#equiv" title="equiv">≡</a>
                <a href="#Fail" title="Fail">Fail</a> {}</sup
              ></a
            >
          </p>

          <hr />
          <p>
                <a href="#Fail" title="Fail">Fail</a> (<a href="#S" title="S"
              >S</a
            >
            x) <a href="#choice" title="choice">∪</a> x
            <a href="#fixed_repetition" title="fixed_repetition"
              ><sup
                >«/sup&gt;/a&gt; 0 = x
                <a href="#fixed_repetition" title="fixed_repetition"
                  ><sup>«/sup&gt;/a&gt; 0</sup></a
                ></sup
              ></a
            >
          </p>

          <hr />
          <p><strong>fixed_prop</strong></p>

          <p>
                0&lt;f ⟹ <a href="#Fail" title="Fail">Fail</a> (<a
              href="#S"
              title="S"
              >S</a
            >
            x) <a href="#choice" title="choice">∪</a> x
            <a href="#fixed_repetition" title="fixed_repetition"
              ><sup
                >«/sup&gt;/a&gt; f = x
                <a href="#fixed_repetition" title="fixed_repetition"
                  ><sup>«/sup&gt;/a&gt; f</sup></a
                ></sup
              ></a
            >
          </p>

          <hr />
          <p><strong>loop_choice3</strong></p>

          <p>
                0&lt;s ⟹ 0&lt;f ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a> [x,y]
            ⟹ <a href="#Range_p" title="Range_p">Range_p</a> x ∩ Pre y = {} ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> y ∩ Pre x = {} ⟹ (<a
              href="#loop"
              title="loop"
              >loop</a
            >
            x s f) <a href="#choice" title="choice">∪</a> (<a
              href="#loop"
              title="loop"
              >loop</a
            >
            y s f) = <a href="#loop" title="loop">loop</a> (x
            <a href="#choice" title="choice">∪</a> y) s f
          </p>

          <hr />
          <p><strong>Loop_fail</strong></p>

          <p>
                <a href="#loop" title="loop">loop</a> p 0 n
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ⟹
            <a href="#loop" title="loop">loop</a> p 0 m
            <a href="#equiv" title="equiv">≡</a> Fail{}
          </p>

          <hr />
          <h2 id="atomic_concurrencythy">Atomic_concurrency.thy</h2>

          <p>
                foldl (f::’a Program ⇒ ‘a Program ⇒ ‘a Program) (f a x) xs = f a
            (foldl f x xs)
          </p>

          <hr />
          <p><strong>complete_state_subset_fold_composition</strong></p>

          <p>
                x ∈
            <a href="#complete_state" title="complete_state">complete_state</a>
            xs ⟹ x ∈ <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            xs)) xs)
          </p>

          <hr />
          <p><strong>fold_choice_inv_1</strong></p>

          <p>
                foldl (<a href="#choice" title="choice">∪</a>) (<a
              href="#Fail"
              title="Fail"
              >Fail</a
            >
            {}) (a # xs) = a <a href="#choice" title="choice">∪</a> foldl (<a
              href="#choice"
              title="choice"
              >∪</a
            >) (<a href="#Fail" title="Fail">Fail</a> {}) (xs)
          </p>

          <hr />
          <p><strong>fold_choice_inv_2</strong></p>

          <p>
                <a href="#S" title="S">S</a> (foldl (<a
              href="#choice"
              title="choice"
              >∪</a
            >) (<a href="#Fail" title="Fail">Fail</a> {}) xs ) = ⋃ (set (map (<a
              href="#S"
              title="S"
              >S</a
            >) xs))
          </p>

          <hr />
          <p><strong>conc_elems_state</strong></p>

          <p>
                x ∈ set (<a href="#conc_elems" title="conc_elems">conc_elems</a>
            xs) ⟹ <a href="#S" title="S">S</a> x =
            <a href="#complete_state" title="complete_state">complete_state</a>
            xs
          </p>

          <hr />
          <p><strong>atomic_conc_complete_state</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a
              href="#atomic_conc"
              title="atomic_conc"
              >atomic_conc</a
            >
            xs) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            xs
          </p>

          <hr />
          <p><strong>atomic_conc_equivalence</strong></p>

          <p>
                xs ≠ [ ] ⟹ <a href="#S" title="S">S</a> (<a
              href="#Concat"
              title="Concat"
              >Concat</a
            >
            xs C) = <a href="#S" title="S">S</a> (<a
              href="#atomic_conc"
              title="atomic_conc"
              >atomic_conc</a
            >
            xs)
          </p>

          <hr />
          <p><strong>pre_zero</strong></p>

          <p>
                Pre (<a href="#atomic_conc" title="atomic_conc">atomic_conc</a>
            [ ]) = {}
          </p>

          <hr />
          <p><strong>pre_one</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> x ⟹
            Pre (<a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [x])
            = Pre x
          </p>

          <hr />
          <p><strong>lemma_pre_1</strong></p>

          <p>
                Pre (<a href="#atomic_conc" title="atomic_conc">atomic_conc</a>
            (a#[b])) ⊆ Pre a ∪ Pre b
          </p>

          <hr />
          <p><strong>list_equiv_reflexive</strong></p>

          <p>
                <a href="#list_equiv" title="list_equiv">list_equiv</a> xs xs
          </p>

          <hr />
          <p><strong>list_equiv_comp_equiv</strong></p>

          <p>
                <a href="#list_equiv" title="list_equiv">list_equiv</a> xs ys ⟹
            b <a href="#equiv" title="equiv">≡</a> b’ ⟹ fold (<a
              href="#composition"
              title="composition"
              >;</a
            >) xs b <a href="#equiv" title="equiv">≡</a> fold (<a
              href="#composition"
              title="composition"
              >;</a
            >) ys b’
          </p>

          <hr />
          <p><strong>skip_prop_1</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> a ⟹
            <a href="#S" title="S">S</a> a ⊆ C ⟹ a
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> C
            <a href="#equiv" title="equiv">≡</a> a
          </p>

          <hr />
          <p><strong>skip_prop_2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> a ⟹a
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (a # xs)) <a href="#equiv" title="equiv">≡</a> a
          </p>

          <hr />
          <p><strong>skip_restrict</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> a ⟹
            fold (<a href="#composition" title="composition">;</a>) xs (a
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (a # xs))) <a href="#equiv" title="equiv">≡</a> fold (<a
              href="#composition"
              title="composition"
              >;</a
            >) xs a
          </p>

          <hr />
          <p><strong>feas_of_prop</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#feas_of"
              title="feas_of"
              >feas_of</a
            >
            p)
          </p>

          <hr />
          <p><strong>feas_of_prop2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#feas_of" title="feas_of">feas_of</a> p
            <a href="#equal" title="equal">=</a> p
          </p>

          <hr />
          <p><strong>skip_prop_4</strong></p>

          <p>
                a <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            a) <a href="#equiv" title="equiv">≡</a>
            <a href="#feas_of" title="feas_of">feas_of</a> a
          </p>

          <hr />
          <p><strong>skip_prop_5</strong></p>

          <p>
                fold (<a href="#composition" title="composition">;</a>) xs (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            (<a href="#complete_state" title="complete_state">complete_state</a>
            (a # xs)) <a href="#composition" title="composition">;</a> a)
            <a href="#equiv" title="equiv">≡</a> fold (<a
              href="#composition"
              title="composition"
              >;</a
            >) xs a
          </p>

          <hr />
          <p><strong>get_trace</strong></p>

          <p>
                xs ≠ [ ] ⟹ x ∈ set (<a href="#conc_elems" title="conc_elems"
              >conc_elems</a
            >
            xs) ⟹ ∃tr. tr ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ∧ x = <a href="#Concat" title="Concat">Concat</a> tr C
          </p>

          <hr />
          <p><strong>skip_prop_6</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S"
              >S</a
            >
            p ∪ x) <a href="#composition" title="composition">;</a> p
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#composition" title="composition">;</a> p
          </p>

          <hr />
          <p><strong>no_right_neutral</strong></p>

          <p>
                ∃t. p <a href="#composition" title="composition">;</a> t
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>corestrict_skip</strong></p>

          <p>
                (a <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            a ∪ <a href="#S" title="S">S</a> b))
            <a href="#composition" title="composition">;</a> b
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> b
          </p>

          <hr />
          <p><strong>skip_prop_8</strong></p>

          <p>
                (a <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            a)) <a href="#composition" title="composition">;</a> b
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> b
          </p>

          <hr />
          <p><strong>skip_prop_9</strong></p>

          <p>
                (a <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            b)) <a href="#composition" title="composition">;</a> b
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> b
          </p>

          <hr />
          <p><strong>fold_decomp</strong></p>

          <p>
                xs ≠ [ ] ⟹ (foldl (<a href="#composition" title="composition"
              >;</a
            >) (a) (xs)) <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            xs)) (xs))
          </p>

          <hr />
          <p><strong>fold_decomp2</strong></p>

          <p>
                xs ≠ [ ] ⟹ (foldl (<a href="#composition" title="composition"
              >;</a
            >) (a) (xs)) <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) (<a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S"
              >S</a
            >
            a)) (xs))
          </p>

          <hr />
          <p><strong>fold_equiv_maintained</strong></p>

          <p>
                a <a href="#equiv" title="equiv">≡</a> b ⟹ foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) a xs <a href="#equiv" title="equiv">≡</a> foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) b xs
          </p>

          <hr />
          <p><strong>fold_compress_1</strong></p>

          <p>
                ys ≠ [ ] ⟹ ∃e’. (a)
            <a href="#composition" title="composition">;</a> e’
            <a href="#equiv" title="equiv">≡</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            ([a]@ys))) ([a]@ys))
          </p>

          <hr />
          <p><strong>fold_compress_2</strong></p>

          <p>
                ∃e’. e’ <a href="#composition" title="composition">;</a> a
            <a href="#equiv" title="equiv">≡</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (ys@[a]))) (ys@[a]))
          </p>

          <hr />
          <p><strong>fold_compress_3</strong></p>

          <p>
                ∃s’ e’. (s’ <a href="#composition" title="composition">;</a> a)
            <a href="#composition" title="composition">;</a> e’
            <a href="#equiv" title="equiv">≡</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (xs@[a]@ys))) (xs@[a]@ys)) ∨ s’
            <a href="#composition" title="composition">;</a> a=(foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (xs@[a]@ys))) (xs@[a]@ys))
          </p>

          <hr />
          <p><strong>conc_elems_dec</strong></p>

          <p>
                x ∈ set (<a href="#conc_elems" title="conc_elems">conc_elems</a>
            (a # xs)) ⟹ ∃s’ e’. (s’
            <a href="#composition" title="composition">;</a> a)
            <a href="#composition" title="composition">;</a> e’ = x ∨ s’
            <a href="#composition" title="composition">;</a> a=x ∨ a = x∨ a
            <a href="#composition" title="composition">;</a> e’ = x
          </p>

          <hr />
          <p><strong>concat_prop_1</strong></p>

          <p>
                xs ≠ [ ] ⟹ tr ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xs) ⟹ <a href="#Concat" title="Concat">Concat</a> tr (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            xs) ∈ set (<a href="#conc_elems" title="conc_elems">conc_elems</a>
            xs)
          </p>

          <hr />
          <p><strong>fold_choice_inv</strong></p>

          <p>
                t ∈ set (xs) ⟹ foldl (<a href="#choice" title="choice">∪</a>)
            (x) (xs) = t <a href="#choice" title="choice">∪</a> (foldl (<a
              href="#choice"
              title="choice"
              >∪</a
            >) (x) (xs))
          </p>

          <hr />
          <p><strong>atomic_conc_inv</strong></p>

          <p>
                tr ∈ set (<a href="#conc_elems" title="conc_elems"
              >conc_elems</a
            >
            xs) ⟹ tr <a href="#choice" title="choice">∪</a>
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> xs
            <a href="#equiv" title="equiv">≡</a>
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> xs
          </p>

          <hr />
          <p><strong>atomic_conc_inv2</strong></p>

          <p>
                x ∈ set (<a href="#conc_elems" title="conc_elems">conc_elems</a>
            xs) ⟹ x <a href="#specialize" title="specialize">⊆</a>
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> xs
          </p>

          <hr />
          <p><strong>atomic_conc_inv3</strong></p>

          <p>
                xs ≠ [ ] ⟹ <a href="#Concat" title="Concat">Concat</a> xs (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            xs) <a href="#specialize" title="specialize">⊆</a>
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> xs
          </p>

          <hr />
          <p><strong>perm_prop</strong></p>

          <p>
                set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (a@b)) = set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (b@a))
          </p>

          <hr />
          <p><strong>perm_prop2</strong></p>

          <p>
                x ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            y) ⟹ set (<a href="#conc_elems" title="conc_elems">conc_elems</a>
            (y)) = set (<a href="#conc_elems" title="conc_elems">conc_elems</a>
            (x))
          </p>

          <hr />
          <p><strong>perm_prop3</strong></p>

          <p>
                set (<a href="#conc_elems" title="conc_elems">conc_elems</a>
            (a@b)) = set (<a href="#conc_elems" title="conc_elems"
              >conc_elems</a
            >
            (b@a))
          </p>

          <hr />
          <p><strong>perm_prop4</strong></p>

          <p>
                size (<a href="#insert_all" title="insert_all">insert_all</a> x
            xs) = size xs + 1
          </p>

          <hr />
          <p><strong>perm_prop5</strong></p>

          <p>    size (concat [ ]) = 0</p>

          <hr />
          <p><strong>perm_prop6</strong></p>

          <p>    size (concat (x#xs)) = size x + size (concat (xs))</p>

          <hr />
          <p><strong>perm_prop7</strong></p>

          <p>    size (concat xs) = foldl (λa b. a + (size b)) 0 xs</p>

          <hr />
          <p><strong>perm_prop8</strong></p>

          <p>
                a ∈ set (map (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x) (<a href="#permutations" title="permutations">permutations</a>
            xs)) ⟹ b ∈ set a ⟹ size b = size xs + 1
          </p>

          <hr />
          <p><strong>perm_prop9</strong></p>

          <p>
                a ∈ set (map (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x) (<a href="#permutations" title="permutations">permutations</a>
            xs)) ⟹ size a = size xs + 1
          </p>

          <hr />
          <p><strong>size_concat</strong></p>

          <p>    size (concat xss) = sum_list (map size xss)</p>

          <hr />
          <p><strong>insert_all_prop</strong></p>

          <p>
                size (concat (map (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x) xss)) = sum_list (map (λy. Suc (size y)) xss)
          </p>

          <hr />
          <p>
                x ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ y ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ size x = size y
          </p>

          <hr />
          <p><strong>sum_list_simp</strong></p>

          <p>
                (∀x ∈ set xss. ∀ y ∈ set xss. size x = size y) ⟹ sum_list (map
            size xss) = size xss * size (hd xss)
          </p>

          <hr />
          <p><strong>size_lemma</strong></p>

          <p>    ∀x ∈ set xs. size x = n ⟹ size (concat xs) = size xs * n</p>

          <hr />
          <p><strong>length_concat_insert_all</strong></p>

          <p>
                length (concat (map (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x) (<a href="#permutations" title="permutations">permutations</a>
            xs))) = (length xs + 1) * length (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xs)
          </p>

          <hr />
          <p><strong>size_permutations_fact</strong></p>

          <p>
                length (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) = fact (length xs)
          </p>

          <hr />
          <p><strong>perm_size_eq</strong></p>

          <p>
                size xs = size ys ⟹ size (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xs) = size (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ys)
          </p>

          <hr />
          <p><strong>perm_prop10</strong></p>

          <p>
                size (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (x#xs)) = size (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (xs)) * size (x#xs)
          </p>

          <hr />
          <p><strong>fold_choice_prop1</strong></p>

          <p>
                <a href="#permutations" title="permutations">permutations</a> a
            = <a href="#permutations" title="permutations">permutations</a> b ⟹
            set (<a href="#conc_elems" title="conc_elems">conc_elems</a> a) =
            set (<a href="#conc_elems" title="conc_elems">conc_elems</a> b)
          </p>

          <hr />
          <p>
                size xs &gt; 0⟹ size (<a href="#conc_elems" title="conc_elems"
              >conc_elems</a
            >
            xs) &gt; 0
          </p>

          <hr />
          <p><strong>fold_choice_prop2</strong></p>

          <p>
                a ∈ set xs ⟹ foldl (<a href="#choice" title="choice">∪</a>) a xs
            = foldl (<a href="#choice" title="choice">∪</a>) (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            {}) xs
          </p>

          <hr />
          <p><strong>fold_choice_prop3</strong></p>

          <p>
                a ∈ set (<a href="#conc_elems" title="conc_elems">conc_elems</a>
            (xs)) ⟹ foldl (<a href="#choice" title="choice">∪</a>) (a) (<a
              href="#conc_elems"
              title="conc_elems"
              >conc_elems</a
            >
            (xs)) = foldl (<a href="#choice" title="choice">∪</a>) (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            {}) (<a href="#conc_elems" title="conc_elems">conc_elems</a> (xs))
          </p>

          <hr />
          <p><strong>fold_choice_prop5</strong></p>

          <p>
                foldl (<a href="#choice" title="choice">∪</a>) x (x’#xs) = foldl
            (<a href="#choice" title="choice">∪</a>) (<a
              href="#Fail"
              title="Fail"
              >Fail</a
            >
            {}) (x#x’#xs)
          </p>

          <hr />
          <p><strong>atomic_prop2</strong></p>

          <p>
                xs ≠ [ ] ⟹ ys ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xs) ⟹ <a href="#Concat" title="Concat">Concat</a> ys (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            xs) <a href="#specialize" title="specialize">⊆</a>
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> xs
          </p>

          <hr />
          <p><strong>atomic_prop3</strong></p>

          <p>
                <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [a,b]
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> b
            <a href="#choice" title="choice">∪</a> b
            <a href="#composition" title="composition">;</a> a
          </p>

          <hr />
          <p><strong>equiv_to_equal</strong></p>

          <p>
                <a href="#S" title="S">S</a> a = <a href="#S" title="S">S</a> b
            ⟹ post a = post b ⟹ a <a href="#equiv" title="equiv">≡</a> b ⟹ a
            <a href="#equal" title="equal">=</a> b
          </p>

          <hr />
          <p><strong>atomic_prop4</strong></p>

          <p>
                <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [a, b
            <a href="#choice" title="choice">∪</a> c]
            <a href="#equiv" title="equiv">≡</a>
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [a,b]
            <a href="#choice" title="choice">∪</a>
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [a,c]
          </p>

          <hr />
          <p><strong>atomic_prop5</strong></p>

          <p>
                <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [a
            <a href="#choice" title="choice">∪</a> b] =
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [a]
            <a href="#choice" title="choice">∪</a>
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [b]
          </p>

          <hr />
          <p><strong>set_to_list_set</strong></p>

          <p>
                finite xs ⟹ set (<a href="#set_to_list" title="set_to_list"
              >set_to_list</a
            >
            xs) = xs
          </p>

          <hr />
          <p><strong>specialize_prop</strong></p>

          <p>
                a <a href="#equal" title="equal">=</a> b ⟹ b
            <a href="#specialize" title="specialize">⊆</a> a ∧ a
            <a href="#specialize" title="specialize">⊆</a> b
          </p>

          <hr />
          <p><strong>atomic_prop6</strong></p>

          <p>
                <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [a
            <a href="#choice" title="choice">∪</a> b, c]
            <a href="#equiv" title="equiv">≡</a>
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [a,c]
            <a href="#choice" title="choice">∪</a>
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [b,c]
          </p>

          <hr />
          <p><strong>commute_compose</strong></p>

          <p>
                <a href="#commute_programs3" title="commute_programs3"
              >commute_programs3</a
            >
            a b ⟹
            <a href="#atomic_conc" title="atomic_conc">atomic_conc</a> [a,b]
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> b
          </p>

          <hr />
          <h2 id="big_choicethy">Big_choice.thy</h2>

          <p><strong>fold_compose</strong></p>

          <p>
                foldl (<a href="#composition" title="composition">;</a>) (a
            <a href="#composition" title="composition">;</a> b) xs = a
            <a href="#composition" title="composition">;</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) b xs)
          </p>

          <hr />
          <p><strong>fold_choice</strong></p>

          <p>
                foldl (<a href="#choice" title="choice">∪</a>) (a
            <a href="#choice" title="choice">∪</a> b) xs = a
            <a href="#choice" title="choice">∪</a> (foldl (<a
              href="#choice"
              title="choice"
              >∪</a
            >) b xs)
          </p>

          <hr />
          <p><strong>Choice_prop_1_2</strong></p>

          <p>
                xs ≠ [ ] ⟹ <a href="#Choice" title="Choice">⋃</a> (x#xs) = x
            <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> xs
          </p>

          <hr />
          <p><strong>Choice_prop_1_3</strong></p>

          <p>
                a@b ≠ [ ] ⟹ <a href="#Choice" title="Choice">⋃</a> (a@x#b) = x
            <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> (a@b)
          </p>

          <hr />
          <p><strong>Choice_prop_1_1</strong></p>

          <p>
                ys ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ <a href="#Choice" title="Choice">⋃</a> xs =
            <a href="#Choice" title="Choice">⋃</a> ys
          </p>

          <hr />
          <p><strong>Choice_prop_1</strong></p>

          <p>
                xs ≠ [ ] ⟹ <a href="#Choice" title="Choice">⋃</a> (xs@[x]) = x
            <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> xs
          </p>

          <hr />
          <p><strong>Choice_prop_1_4</strong></p>

          <p>
                xs ≠ [ ] ⟹ foldl (<a href="#choice" title="choice">∪</a>) x xs =
            x <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">Choice</a> xs
          </p>

          <hr />
          <p><strong>Choice_prop_2</strong></p>

          <p>
                <a href="#Choice" title="Choice">⋃</a> [a
            <a href="#composition" title="composition">;</a> t. t ← xs]
            <a href="#equiv" title="equiv">≡</a> a ;⋃ [t. t ← xs]
          </p>

          <hr />
          <p><strong>Choice_prop_3</strong></p>

          <p>
                xs ≠ [ ] ⟹ <a href="#Choice" title="Choice">⋃</a> (xs@[x]) =
            <a href="#Choice" title="Choice">⋃</a> (xs)
            <a href="#choice" title="choice">∪</a> x
          </p>

          <hr />
          <p><strong>Choice_prop_4</strong></p>

          <p>
                <a href="#Choice" title="Choice">⋃</a> [t
            <a href="#composition" title="composition">;</a> a. t ← xs]
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> [t. t ← xs]
            <a href="#composition" title="composition">;</a> a
          </p>

          <hr />
          <p><strong>Choice_state</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      <a href="#S" title="S">S</a> (<a
                    href="#Choice"
                    title="Choice"
                    >⋃</a
                  >
                  (xs)) = ⋃ {S x
                </td>
                <td>x . x ∈ set xs}</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>Union_prop_1</strong></p>

          <table>
            <tbody>
              <tr>
                <td>    xs ≠ {} ⟹ ⋃ {t</td>
                <td>x . x ∈ xs} = t</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>Choice_prop_5</strong></p>

          <p>
                size xs = 1 ⟹ set (xs) = {x} ⟹ (<a href="#Choice" title="Choice"
              >⋃</a
            >
            xs = x)
          </p>

          <hr />
          <p><strong>Choice_prop_6</strong></p>

          <p>
                size xs &gt; 1 ⟹ set (xs) = {x} ⟹ (<a
              href="#Choice"
              title="Choice"
              >⋃</a
            >
            xs = x <a href="#choice" title="choice">∪</a> x)
          </p>

          <hr />
          <p><strong>Choice_prop_7</strong></p>

          <p>
                a ≠ [ ] ⟹ b ≠ [ ] ⟹ <a href="#Choice" title="Choice">⋃</a> a
            <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> b =
            <a href="#Choice" title="Choice">⋃</a> (a@b)
          </p>

          <hr />
          <p><strong>Choice_prop_8</strong></p>

          <p>
                ∃x ∈ set xs. p x ⟹ ∃x ∈ set xs. ¬ p x ⟹
            <a href="#Choice" title="Choice">⋃</a> (filter (λx. p x) xs)
            <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> (filter (λx. ¬ p x) xs) =
            <a href="#Choice" title="Choice">⋃</a> xs
          </p>

          <hr />
          <p><strong>Choice_prop_9</strong></p>

          <p>
                size xs&gt;1 ⟹ size ys&gt;1 ⟹ set xs = set ys ⟹
            <a href="#Choice" title="Choice">⋃</a> (xs) =
            <a href="#Choice" title="Choice">⋃</a> (ys)
          </p>

          <hr />
          <p><strong>Choice_prop_10</strong></p>

          <p>
                size xs=1 ⟹ size ys=1 ⟹ set xs = set ys ⟹
            <a href="#Choice" title="Choice">⋃</a> (xs) =
            <a href="#Choice" title="Choice">⋃</a> (ys)
          </p>

          <hr />
          <p><strong>Choice_prop11</strong></p>

          <p>
                size xs &gt; 1 ⟹ <a href="#Choice" title="Choice">⋃</a> (filter
            (λt. P t) xs) <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> (filter (λt. ¬ P t) xs) =
            <a href="#Choice" title="Choice">⋃</a> xs
          </p>

          <hr />
          <p><strong>Choice_prop12</strong></p>

          <p>
                x ∈ set xs ⟹ <a href="#Choice" title="Choice">⋃</a> (filter ((=)
            x) (x#xs)) = x <a href="#choice" title="choice">∪</a> x
          </p>

          <hr />
          <p><strong>Choice_state_1</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            xs = <a href="#S" title="S">S</a> (<a href="#Choice" title="Choice"
              >Choice</a
            >
            xs)
          </p>

          <hr />
          <p><strong>Concat_prop_1</strong></p>

          <p>
                xs ≠ [ ] ⟹ foldl (<a href="#composition" title="composition"
              >;</a
            >) x xs = x <a href="#composition" title="composition">;</a>
            <a href="#Concat" title="Concat">Concat</a> xs s
          </p>

          <hr />
          <p><strong>Concat_state</strong></p>

          <p>
                xs ≠ [ ] ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            xs = <a href="#S" title="S">S</a> (<a href="#Concat" title="Concat"
              >Concat</a
            >
            xs s)
          </p>

          <hr />
          <p><strong>Choice_prop_13</strong></p>

          <p>
                size xs &gt; 0 ⟹ <a href="#Choice" title="Choice">⋃</a> [a
            <a href="#composition" title="composition">;</a> (<a
              href="#Concat"
              title="Concat"
              >Concat</a
            >
            t s). t ← xs] <a href="#equiv" title="equiv">≡</a> a ;⋃ [(<a
              href="#Concat"
              title="Concat"
              >Concat</a
            >
            t s). t ← xs]
          </p>

          <hr />
          <p><strong>Choice_prop_14</strong></p>

          <p>
                <a href="#Choice" title="Choice">⋃</a> [t
            <a href="#restrict_p" title="restrict_p">/</a> C . t ← xs]
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> [t . t ← xs]/ C
          </p>

          <hr />
          <p>
                <a href="#Choice" title="Choice">⋃</a> [t
            <a href="#restrict_p" title="restrict_p">/</a> C . t ← xs] =
            <a href="#Choice" title="Choice">⋃</a> [t . t ← xs]/ C
          </p>

          <hr />
          <p><strong>Choice_prop_15</strong></p>

          <p>
                <a href="#Choice" title="Choice">⋃</a> [t
            <a href="#corestrict_p" title="corestrict_p">∖</a> C . t ← xs] =
            <a href="#Choice" title="Choice">⋃</a> [t . t ← xs]∖ C
          </p>

          <hr />
          <p><strong>Concat_prop_2</strong></p>

          <p>
                xs ≠ [ ] ⟹ <a href="#Concat" title="Concat">Concat</a> (xs@[x])
            s = <a href="#Concat" title="Concat">Concat</a> xs s
            <a href="#composition" title="composition">;</a> x
          </p>

          <hr />
          <p><strong>Concat_prop_3</strong></p>

          <p>
                xs ≠ [ ] ⟹ <a href="#Concat" title="Concat">Concat</a> xs s
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Concat" title="Concat">Concat</a> (hd xs
            <a href="#restrict_p" title="restrict_p">/</a> C # tl xs) s
          </p>

          <hr />
          <p><strong>Concat_prop_4</strong></p>

          <p>
                xs ≠ [ ] ⟹ <a href="#Concat" title="Concat">Concat</a> xs s
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Concat" title="Concat">Concat</a> (butlast xs @ [(last
            xs)∖ C]) s
          </p>

          <hr />
          <p><strong>Choice_prop_16</strong></p>

          <p>
                x ∈ set xs ⟹ <a href="#Choice" title="Choice">⋃</a> xs
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> xs
            <a href="#choice" title="choice">∪</a> x
          </p>

          <hr />
          <p><strong>Choice_prop_17</strong></p>

          <p>
                size xs &gt; 1 ⟹ x ∈ set xs ⟹
            <a href="#Choice" title="Choice">⋃</a> xs =
            <a href="#Choice" title="Choice">⋃</a> xs
            <a href="#choice" title="choice">∪</a> x
          </p>

          <hr />
          <p><strong>Concat_prop_5</strong></p>

          <p>
                xs ≠ [ ] ⟹ ys ≠ [ ] ⟹
            <a href="#Concat" title="Concat">Concat</a> (xs@ys) s =
            <a href="#Concat" title="Concat">Concat</a> xs s
            <a href="#composition" title="composition">;</a>
            <a href="#Concat" title="Concat">Concat</a> ys s
          </p>

          <hr />
          <p><strong>Concat_prop_6</strong></p>

          <p>
                <a href="#Concat" title="Concat">Concat</a> (a
            <a href="#choice" title="choice">∪</a> b # xs) s =
            <a href="#Concat" title="Concat">Concat</a> (a # xs) s
            <a href="#choice" title="choice">∪</a>
            <a href="#Concat" title="Concat">Concat</a> (b # xs) s
          </p>

          <hr />
          <p><strong>Concat_prop_7</strong></p>

          <p>
                <a href="#Concat" title="Concat">Concat</a> (xs@[a
            <a href="#choice" title="choice">∪</a> b]) s
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Concat" title="Concat">Concat</a> (xs@[a]) s
            <a href="#choice" title="choice">∪</a>
            <a href="#Concat" title="Concat">Concat</a> (xs@[b]) s
          </p>

          <hr />
          <p><strong>Concat_prop_8</strong></p>

          <p>
                e ≠ [ ] ⟹ <a href="#Concat" title="Concat">Concat</a> (s@(a
            <a href="#choice" title="choice">∪</a> b)#e) s’
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Concat" title="Concat">Concat</a> (s@a#e) s’
            <a href="#choice" title="choice">∪</a>
            <a href="#Concat" title="Concat">Concat</a> (s@b#e) s’
          </p>

          <hr />
          <p><strong>Choice_prop_18</strong></p>

          <p>
                size b &gt; 1 ⟹ <a href="#Choice" title="Choice">⋃</a> b =
            <a href="#Choice" title="Choice">⋃</a> b
            <a href="#choice" title="choice">∪</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>Choice_prop_19</strong></p>

          <p>
                size (a@b) &gt; 1 ⟹ <a href="#Choice" title="Choice">⋃</a> a
            <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> b =
            <a href="#Choice" title="Choice">⋃</a> (a@b)
          </p>

          <hr />
          <p><strong>Choice_prop_20</strong></p>

          <p>
                size (a@b) &gt; 0 ⟹ <a href="#Choice" title="Choice">⋃</a> a
            <a href="#choice" title="choice">∪</a> (x
            <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> b) =
            <a href="#Choice" title="Choice">⋃</a> (a@x#b)
          </p>

          <hr />
          <p><strong>Choice_prop_21</strong></p>

          <p>
                <a href="#S" title="S">S</a> x ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            (a@b) ⟹ <a href="#Choice" title="Choice">⋃</a> a
            <a href="#choice" title="choice">∪</a> (x
            <a href="#restrict_p" title="restrict_p">/</a>
            <a href="#FALSE" title="FALSE">FALSE</a>
            <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> b) =
            <a href="#Choice" title="Choice">⋃</a> a
            <a href="#choice" title="choice">∪</a> (<a href="#Fail" title="Fail"
              >Fail</a
            >
            {} <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> b)
          </p>

          <hr />
          <p><strong>list_prop</strong></p>

          <p>
                1 &lt; i ⟹ i &lt; n ⟹ [p . t ← [1 .. int n]] = [p . t ← [1 ..
            int i]] @ [p . t ← [int (i + 1) .. int n]]
          </p>

          <hr />
          <p><strong>list_prop2</strong></p>

          <p>    [p . t ← [1 .. int (n + 1)]] = [p . t ← [1 .. int n]]@[p]</p>

          <hr />
          <p><strong>list_prop3</strong></p>

          <p>    size x = size y ⟹ [p. t ← x] = [p. t ← y]</p>

          <hr />
          <p><strong>list_prop4</strong></p>

          <p>    [p . t ← [1 .. int (n + 1)]] = p#[p . t ← [1 .. int n]]</p>

          <hr />
          <p><strong>Concat_prop_9</strong></p>

          <p>
                0&lt;n ⟹ <a href="#Concat" title="Concat">Concat</a> [p . t ← [1
            .. int n]] s <a href="#composition" title="composition">;</a> p =
            <a href="#Concat" title="Concat">Concat</a> [p . t ← [1 .. int (n +
            1)]] s
          </p>

          <hr />
          <p><strong>Concat_prop_10</strong></p>

          <p>
                xs ≠ [ ] ⟹ <a href="#Concat" title="Concat">Concat</a> (x#xs) s
            = x <a href="#composition" title="composition">;</a>
            <a href="#Concat" title="Concat">Concat</a> xs s
          </p>

          <hr />
          <p><strong>Concat_prop_11</strong></p>

          <p>
                0&lt;n ⟹ p <a href="#composition" title="composition">;</a>
            <a href="#Concat" title="Concat">Concat</a> [p . t ← [1 .. int n]] s
            = <a href="#Concat" title="Concat">Concat</a> [p . t ← [1 .. int (n
            + 1)]] s
          </p>

          <hr />
          <p><strong>Choice_prop_22</strong></p>

          <p>
                a <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> (x#xs) = a
            <a href="#choice" title="choice">∪</a> (x
            <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> xs)
          </p>

          <hr />
          <p><strong>Choice_prop_23</strong></p>

          <p>
                ∀x ∈ set xs. x = y ⟹ <a href="#Choice" title="Choice">⋃</a> xs =
            <a href="#Fail" title="Fail">Fail</a> {} ∨
            <a href="#Choice" title="Choice">⋃</a> xs = y ∨
            <a href="#Choice" title="Choice">⋃</a> xs = y
            <a href="#choice" title="choice">∪</a> y
          </p>

          <hr />
          <p><strong>Choice_prop_24</strong></p>

          <p>
                distinct xs ⟹ distinct ys ⟹ set xs = set ys ⟹ size xs = size ys
            ⟹ <a href="#Choice" title="Choice">⋃</a> xs =
            <a href="#Choice" title="Choice">⋃</a> ys
          </p>

          <hr />
          <p><strong>atomic_prop_1</strong></p>

          <p>
                finite F ⟹ ∀x ∈ F.
            <a href="#is_atomic" title="is_atomic">is_atomic</a> x ⟹
            <a href="#get_atomic" title="get_atomic">get_atomic</a> (<a
              href="#Choice"
              title="Choice"
              >⋃</a
            >
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> F)) = F
          </p>

          <hr />
          <p><strong>decomp_programs</strong></p>

          <p>
                Pre a = Pre p - {y} ⟹ post b = {t. t ∈ post p ∧ (fst t=y ∨ snd
            t=y)} ⟹ Pre b = Pre p ∩ ({y} ∪ Domain (post p
            <a href="#corestrict_r" title="corestrict_r">∖</a> {y})) ⟹ post a =
            {t. t ∈ post p ∧ (fst t ≠ y ∧ snd t ≠ y)} ⟹ a
            <a href="#choice" title="choice">∪</a> b
            <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            finite (<a href="#S" title="S">S</a> p) ⟹ ∃xs.
            <a href="#Choice" title="Choice">⋃</a> xs
            <a href="#equiv" title="equiv">≡</a> p ∧ (∀x ∈ set xs.
            <a href="#is_atomic" title="is_atomic">is_atomic</a> x)
          </p>

          <hr />
          <p><strong>civilized_finite</strong></p>

          <p>
                <a href="#civilized_n" title="civilized_n">civilized_n</a> x B n
            ⟹ finite B
          </p>

          <hr />
          <p><strong>civilized_ind</strong></p>

          <p>
                <a href="#civilized_n" title="civilized_n">civilized_n</a> x B n
            ⟹ <a href="#civilized_n" title="civilized_n">civilized_n</a> x B (n
            + 1)
          </p>

          <hr />
          <p><strong>civilized_ind2</strong></p>

          <p>
                ⋀m. n&lt;m ⟹
            <a href="#civilized_n" title="civilized_n">civilized_n</a> x B n ⟹
            <a href="#civilized_n" title="civilized_n">civilized_n</a> x B m
          </p>

          <hr />
          <p><strong>civilized_generic</strong></p>

          <p>
                <a href="#civilized_n" title="civilized_n">civilized_n</a> x B n
            = ((∃a b m m’. m&lt;n ∧ m’&lt;n ∧
            <a href="#civilized_n" title="civilized_n">civilized_n</a> a B m ∧
            <a href="#civilized_n" title="civilized_n">civilized_n</a> b B m’ ∧
            (a <a href="#composition" title="composition">;</a> b = x ∨ a
            <a href="#choice" title="choice">∪</a> b = x)) ∧ finite B) ∨
            <a href="#civilized_n" title="civilized_n">civilized_n</a> x B 0
          </p>

          <hr />
          <p><strong>civ_prop_1</strong></p>

          <p>
                <a href="#civilized_n" title="civilized_n">civilized_n</a> p B n
            ⟹ <a href="#civilized" title="civilized">civilized</a> p B
          </p>

          <hr />
          <p><strong>civ_prop_2</strong></p>

          <p>
                <a href="#civilized" title="civilized">civilized</a> p B ⟹
            <a href="#civilized" title="civilized">civilized</a> q B ⟹
            <a href="#civilized" title="civilized">civilized</a> (p
            <a href="#composition" title="composition">;</a> q) B
          </p>

          <hr />
          <p><strong>civ_prop_3</strong></p>

          <p>
                <a href="#civilized" title="civilized">civilized</a> p B ⟹
            <a href="#civilized" title="civilized">civilized</a> q B ⟹
            <a href="#civilized" title="civilized">civilized</a> (p
            <a href="#choice" title="choice">∪</a> q) B
          </p>

          <hr />
          <p><strong>fold_prop</strong></p>

          <p>    foldl (∪) {} xs = {} ⟹ t ∈ set xs ⟹ t = {}</p>

          <hr />
          <p><strong>fold_prop2</strong></p>

          <p>    x ∈ tr ⟹ tr ∈ set xs ⟹ foldl (∪) {} xs ⊆ B ⟹ x ∈ B</p>

          <hr />
          <p><strong>normal_prop1</strong></p>

          <p>    set x ⊆ {p} ⟹ ∃n. x = replicate n p</p>

          <hr />
          <p><strong>basic_normal</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> a =
            <a href="#basic" title="basic">basic</a> b ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> a B =
            <a href="#normal_of" title="normal_of">normal_of</a> b B
          </p>

          <hr />
          <p><strong>basic_normal2</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> a = insert (<a
              href="#Fail"
              title="Fail"
              >Fail</a
            >
            {}) (<a href="#basic" title="basic">basic</a> b) ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> a B =
            <a href="#normal_of" title="normal_of">normal_of</a> b B
          </p>

          <hr />
          <p><strong>normal_prop2</strong></p>

          <p>
                finite B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> [[ ]] B
          </p>

          <hr />
          <p><strong>normal_prop3</strong></p>

          <p>
                finite B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> [[〈State = {},
            Pre = {}, post = {}〉]] B
          </p>

          <hr />
          <p><strong>normal_prop4</strong></p>

          <p>
                infinite B ⟹ ¬
            <a href="#normal_of" title="normal_of">normal_of</a> xs B
          </p>

          <hr />
          <p><strong>normal_prop5</strong></p>

          <p>
                finite B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> xs B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> ([ ]#xs) B
          </p>

          <hr />
          <p><strong>normal_prop6</strong></p>

          <p>
                finite B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> ([ ]#xs) B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> xs B
          </p>

          <hr />
          <p><strong>normal_prop7</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> [x#xs] B =
            (<a href="#normal_of" title="normal_of">normal_of</a> [[x]] B ∧
            <a href="#normal_of" title="normal_of">normal_of</a> [xs] B)
          </p>

          <hr />
          <p><strong>basic_prop0</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> [[x]] ∪
            <a href="#basic" title="basic">basic</a> [xs] =
            <a href="#basic" title="basic">basic</a> [x#xs]
          </p>

          <hr />
          <p><strong>basic_prop1</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> [x] ∪
            <a href="#basic" title="basic">basic</a> xs =
            <a href="#basic" title="basic">basic</a> (x#xs)
          </p>

          <hr />
          <p><strong>basic_prop2</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> xs ∪
            <a href="#basic" title="basic">basic</a> ys =
            <a href="#basic" title="basic">basic</a> (xs@ys)
          </p>

          <hr />
          <p><strong>normal_prop8</strong></p>

          <p>
                trace ∈ set xs ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> xs B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> [trace] B
          </p>

          <hr />
          <p><strong>normal_prop9</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> ((a # x) #
            xs) B ⟹ <a href="#normal_of" title="normal_of">normal_of</a> [[a]] B
          </p>

          <hr />
          <p><strong>basic_prop3</strong></p>

          <p>
                trace ∈ set xs ⟹
            <a href="#basic" title="basic">basic</a> [trace] ⊆
            <a href="#basic" title="basic">basic</a> xs
          </p>

          <hr />
          <p><strong>basic_prop4</strong></p>

          <p>
                x ∈ set trace ⟹ <a href="#basic" title="basic">basic</a> [[x]] ⊆
            <a href="#basic" title="basic">basic</a> [trace]
          </p>

          <hr />
          <p><strong>normal_prop10</strong></p>

          <p>
                x ∈ set trace ⟹ trace ∈ set xs ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> xs B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> [[x]] B
          </p>

          <hr />
          <p><strong>normal_prop11</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> ((a#x)#xs)
            B = (<a href="#normal_of" title="normal_of">normal_of</a> [[a]] B ∧
            <a href="#normal_of" title="normal_of">normal_of</a> (x#xs) B)
          </p>

          <hr />
          <p><strong>normal_prop12</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> (x#xs) B =
            (<a href="#normal_of" title="normal_of">normal_of</a> [x] B ∧
            <a href="#normal_of" title="normal_of">normal_of</a> xs B)
          </p>

          <hr />
          <p><strong>normal_prop13</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> (a#p) B =
            <a href="#normal_of" title="normal_of">normal_of</a> ((〈State = {},
            Pre = {}, post = {}〉#Skip (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (<a href="#set_to_list" title="set_to_list">set_to_list</a>
            B))#a)#p) B
          </p>

          <hr />
          <p><strong>fold_prop1</strong></p>

          <p>
                trace ∈ set p ⟹ x ∈ set trace ⟹ x ∈ foldl (∪) {} (map set p)
          </p>

          <hr />
          <p><strong>normal_prop14</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> p B ⟹ trace
            ∈ set p ⟹ x ∈ set trace ⟹ x ∈ {Fail {},
            <a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B))} ∪ B
          </p>

          <hr />
          <p><strong>basic_monotone1</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> a ⊆
            <a href="#basic" title="basic">basic</a> (x#a)
          </p>

          <hr />
          <p><strong>basic_monotone2</strong></p>

          <p>
                x ∈ set p ⟹ <a href="#basic" title="basic">basic</a> [x] ⊆
            <a href="#basic" title="basic">basic</a> p
          </p>

          <hr />
          <p><strong>basic_decomp1</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> [x] ∪
            <a href="#basic" title="basic">basic</a> xs =
            <a href="#basic" title="basic">basic</a> (x#xs)
          </p>

          <hr />
          <p><strong>basic_decomp2</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> [x] ∪
            <a href="#basic" title="basic">basic</a> xs =
            <a href="#basic" title="basic">basic</a> (xs@[x])
          </p>

          <hr />
          <p><strong>fold_prop3</strong></p>

          <p>
                foldl (∪) (foldl (∪) {} xs) ys = foldl (∪) {} xs ∪ foldl (∪) {}
            ys
          </p>

          <hr />
          <p><strong>basic_decomp</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> a ∪
            <a href="#basic" title="basic">basic</a> b =
            <a href="#basic" title="basic">basic</a> (a@b)
          </p>

          <hr />
          <p><strong>basic_monotone</strong></p>

          <p>
                set a ⊆ set b ⟹ <a href="#basic" title="basic">basic</a> a ⊆
            <a href="#basic" title="basic">basic</a> b
          </p>

          <hr />
          <p><strong>basic_prop</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> (a@b) ⊆ B ⟹
            <a href="#basic" title="basic">basic</a> b ⊆ B
          </p>

          <hr />
          <p><strong>basic_prop5</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> (a@b) ⊆ B ⟹
            <a href="#basic" title="basic">basic</a> a ⊆ B
          </p>

          <hr />
          <p><strong>basic_monotone3</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> [a] ⊆
            <a href="#basic" title="basic">basic</a> [a@b]
          </p>

          <hr />
          <p><strong>basic_monotone4</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> [b] ⊆
            <a href="#basic" title="basic">basic</a> [a@b]
          </p>

          <hr />
          <p><strong>basic_monotone5</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> [b] ∪
            <a href="#basic" title="basic">basic</a> [a] =
            <a href="#basic" title="basic">basic</a> [a@b]
          </p>

          <hr />
          <p><strong>civilized_empty2</strong></p>

          <p>
                finite B ⟹
            <a href="#civilized_n" title="civilized_n">civilized_n</a> (<a
              href="#Choice"
              title="Choice"
              >⋃</a
            >
            [ ]) B 0
          </p>

          <hr />
          <p><strong>civilized_empty3</strong></p>

          <p>
                finite B ⟹
            <a href="#civilized_n" title="civilized_n">civilized_n</a> (<a
              href="#Fail"
              title="Fail"
              >Fail</a
            >
            {}) B 0
          </p>

          <hr />
          <p><strong>civilized_empty4</strong></p>

          <p>
                finite B ⟹
            <a href="#civilized_n" title="civilized_n">civilized_n</a> (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            {}) B 0
          </p>

          <hr />
          <p><strong>normal_civilized</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> p B ⟹
            <a href="#civilized" title="civilized">civilized</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            p (<a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B))) B
          </p>

          <hr />
          <p><strong>concat_prop1</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> ([ ]
            <a href="#composition_cnf" title="composition_cnf">;</a> b) c =
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>concat_prop2</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> [ ] c =
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>concat_prop3</strong></p>

          <p>
                xs ≠ [ ] ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> (x#xs) c =
            <a href="#evaluate" title="evaluate">evaluate</a> [x] c
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> xs c
          </p>

          <hr />
          <p><strong>concat_prop4</strong></p>

          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (x#xs) ⊆ c ⟹ xs ≠ [ ] ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> (x#xs) c
            <a href="#equal" title="equal">=</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [x] c
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> xs c
          </p>

          <hr />
          <p><strong>concat_prop4_1</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> (x#xs) c
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [x] c
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> xs c
          </p>

          <hr />
          <p><strong>fail_compose</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> {}
            <a href="#composition" title="composition">;</a> p
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>concat_prop5</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> (a@b) c
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> a c
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> b c
          </p>

          <hr />
          <p><strong>Skip_concat</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            a) <a href="#composition" title="composition">;</a>
            <a href="#Concat" title="Concat">Concat</a> a (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            a) <a href="#equiv" title="equiv">≡</a>
            <a href="#Concat" title="Concat">Concat</a> a (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            a)
          </p>

          <hr />
          <p><strong>concat_prop</strong></p>

          <p>
                a ≠ [ ] ⟹ <a href="#Concat" title="Concat">Concat</a> a (insert
            x (<a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            a)) <a href="#equiv" title="equiv">≡</a>
            <a href="#Concat" title="Concat">Concat</a> a (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            a)
          </p>

          <hr />
          <p><strong>state_prop1</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            xs C) ∪ <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [x] C) = <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            (x#xs) C)
          </p>

          <hr />
          <p><strong>state_prop2</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            xs C) ∪ <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            ys C) = <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            (ys@xs) C)
          </p>

          <hr />
          <p><strong>eval_prop</strong></p>

          <p>
                [ ] ∉ set xs ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> xs C =
            <a href="#evaluate" title="evaluate">evaluate</a> xs D
          </p>

          <hr />
          <p><strong>state_prop3</strong></p>

          <p>
                [ ] ∈ set xs ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xs) ⊆ <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            (xs) (<a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xx#xs)))
          </p>

          <hr />
          <p><strong>state_prop4</strong></p>

          <p>
                [ ] ∉ set xs ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xs) ⊆ <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            (xs) (<a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xx#xs)))
          </p>

          <hr />
          <p><strong>state_prop5</strong></p>

          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xs) ⊆ <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            (xs) (<a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xx#xs)))
          </p>

          <hr />
          <p><strong>state_prop6</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            xs (<a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs)) =
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs
          </p>

          <hr />
          <p><strong>skip_prop2</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_cnf_state"
              title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs) <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (xs) (<a
              href="#complete_cnf_state"
              title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs) <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (xs) (<a
              href="#complete_cnf_state"
              title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs)
          </p>

          <hr />
          <p><strong>concat_prop6</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> ([ ]#xs) (<a
              href="#complete_cnf_state"
              title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs) <a href="#equiv" title="equiv">≡</a>
            <a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_cnf_state"
              title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs) <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> xs (<a
              href="#complete_cnf_state"
              title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs)
          </p>

          <hr />
          <p><strong>non_empty0</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> (<a
              href="#non_empty"
              title="non_empty"
              >non_empty</a
            >
            xs) = <a href="#non_empty" title="non_empty">non_empty</a> xs
          </p>

          <hr />
          <p><strong>non_empty1</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> [ ] = [ ]
          </p>

          <hr />
          <p><strong>non_empty2</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> [[ ]] = [ ]
          </p>

          <hr />
          <p><strong>cnf_choice1</strong></p>

          <p>
                [ ] <a href="#choice_cnf" title="choice_cnf">∪</a> p =
            <a href="#non_empty" title="non_empty">non_empty</a> p
          </p>

          <hr />
          <p><strong>cnf_choice1</strong></p>

          <p>    [ ] <a href="#choice_cnf" title="choice_cnf">∪</a> p = p</p>

          <hr />
          <p><strong>non_empty3</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> ([ ]#xs) =
            <a href="#non_empty" title="non_empty">non_empty</a> xs
          </p>

          <hr />
          <p><strong>non_empty4</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> (a@b) =
            <a href="#non_empty" title="non_empty">non_empty</a> a @
            <a href="#non_empty" title="non_empty">non_empty</a> b
          </p>

          <hr />
          <p><strong>cnf_choice2</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> (x#xs) =
            [x] <a href="#choice_cnf" title="choice_cnf">∪</a> xs
          </p>

          <hr />
          <p><strong>cnf_choice2</strong></p>

          <p>
                (x#xs) = [x] <a href="#choice_cnf" title="choice_cnf">∪</a> xs
          </p>

          <hr />
          <p><strong>cnf_choice3</strong></p>

          <p>
                ys <a href="#choice_cnf" title="choice_cnf">∪</a> (x#xs) =
            (ys@[x]) <a href="#choice_cnf" title="choice_cnf">∪</a> xs
          </p>

          <hr />
          <p><strong>non_empty5</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> ((xx # x) #
            b) = (xx#x) # (<a href="#non_empty" title="non_empty">non_empty</a>
            b)
          </p>

          <hr />
          <p><strong>non_empty6</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> ((xx # x) #
            b) = [xx#x] <a href="#choice_cnf" title="choice_cnf">∪</a> (<a
              href="#non_empty"
              title="non_empty"
              >non_empty</a
            >
            b)
          </p>

          <hr />
          <p><strong>non_empty6</strong></p>

          <p>
                ((xx # x) # b) = [xx#x]
            <a href="#choice_cnf" title="choice_cnf">∪</a> b
          </p>

          <hr />
          <p><strong>non_empty7</strong></p>

          <p>
                ((x#xs)@(y#ys)) = (x#xs)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (y#ys)
          </p>

          <hr />
          <p><strong>non_empty7</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a>
            ((x#xs)@(y#ys)) = (x#xs)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (y#ys)
          </p>

          <hr />
          <p><strong>non_empty8</strong></p>

          <p>
                a <a href="#choice_cnf" title="choice_cnf">∪</a> b ≠ [[ ]] ⟹ a
            <a href="#choice_cnf" title="choice_cnf">∪</a> b = (<a
              href="#non_empty"
              title="non_empty"
              >non_empty</a
            >
            a) <a href="#choice_cnf" title="choice_cnf">∪</a> (<a
              href="#non_empty"
              title="non_empty"
              >non_empty</a
            >
            b)
          </p>

          <hr />
          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> (<a
              href="#non_empty"
              title="non_empty"
              >non_empty</a
            >
            a) = <a href="#evaluate" title="evaluate">evaluate</a> a
          </p>

          <hr />
          <p><strong>cnf_choice_4</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> (a
            <a href="#choice_cnf" title="choice_cnf">∪</a> b) =
            <a href="#evaluate" title="evaluate">evaluate</a> (<a
              href="#non_empty"
              title="non_empty"
              >non_empty</a
            >
            a <a href="#choice_cnf" title="choice_cnf">∪</a>
            <a href="#non_empty" title="non_empty">non_empty</a> b)
          </p>

          <hr />
          <p><strong>state_prop7</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [y] (<a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            y)) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            y
          </p>

          <hr />
          <p><strong>skip_prop</strong></p>

          <p>
                <a href="#S" title="S">S</a> x ⊆ C ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> x ⟹x
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> C
            <a href="#equiv" title="equiv">≡</a> x
          </p>

          <hr />
          <p><strong>concat_prop8</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            y ⊆ C ⟹ <a href="#evaluate" title="evaluate">evaluate</a> [[ ]] C
            <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [y] C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ([[ ]]
            <a href="#composition_cnf" title="composition_cnf">;</a> [y]) C
          </p>

          <hr />
          <p><strong>concat_prop9</strong></p>

          <p>
                x ≠ [ ] ⟹ y ≠ [ ] ⟹ [x]
            <a href="#composition_cnf" title="composition_cnf">;</a> [y] = [x@y]
          </p>

          <hr />
          <p><strong>concat_prop10</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            (x#xs) ⊆ C ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a> (x#xs)
            ⟹ <a href="#evaluate" title="evaluate">evaluate</a> [[x]] C
            <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [xs] C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ([[x]]
            <a href="#composition_cnf" title="composition_cnf">;</a> [xs]) C
          </p>

          <hr />
          <p><strong>feas_prop1</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a> (x
            @ y) ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a> x
          </p>

          <hr />
          <p><strong>feas_prop2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a> (x
            @ y) ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a> y
          </p>

          <hr />
          <p><strong>concat_prop11</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (x@y) ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            (x@y) ⊆ C ⟹ <a href="#evaluate" title="evaluate">evaluate</a> [x] C
            <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [y] C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ([x]
            <a href="#composition_cnf" title="composition_cnf">;</a> [y]) C
          </p>

          <hr />
          <p><strong>concat_prop11_1</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (x@y) ⟹ <a href="#evaluate" title="evaluate">evaluate</a> [x] (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (x@y)) <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [y] (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (x@y)) <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ([x]
            <a href="#composition_cnf" title="composition_cnf">;</a> [y]) (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (x@y))
          </p>

          <hr />
          <p><strong>concat_prop12</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (a#x@y) ⟹ (<a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            (a#x@y)) ⊆ C ⟹ <a href="#evaluate" title="evaluate">evaluate</a> [a
            # x] C <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [y] C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ([a # x]
            <a href="#composition_cnf" title="composition_cnf">;</a> [y]) C
          </p>

          <hr />
          <p><strong>concat_prop12_1</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (a#x@y) ⟹ <a href="#evaluate" title="evaluate">evaluate</a> [a # x]
            (<a href="#complete_state" title="complete_state">complete_state</a>
            (a#x@y)) <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [y] (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (a#x@y)) <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ([a # x]
            <a href="#composition_cnf" title="composition_cnf">;</a> [y]) (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (a#x@y))
          </p>

          <hr />
          <p><strong>choice_non_empty</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> a
            <a href="#choice_cnf" title="choice_cnf">∪</a> b = a
            <a href="#choice_cnf" title="choice_cnf">∪</a> b
          </p>

          <hr />
          <p><strong>choice_non_empty2</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> a
            <a href="#choice_cnf" title="choice_cnf">∪</a>
            <a href="#non_empty" title="non_empty">non_empty</a> b = a
            <a href="#choice_cnf" title="choice_cnf">∪</a> b
          </p>

          <hr />
          <p><strong>non_empty9</strong></p>

          <p>
                x ∈ set (<a href="#non_empty" title="non_empty">non_empty</a>
            xs) ⟹ x ∈ set xs
          </p>

          <hr />
          <p><strong>non_empty10</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> xs = [y] ⟹
            ∃a b. a@y#b = xs
          </p>

          <hr />
          <p><strong>non_empty11</strong></p>

          <p>
                xs = [ ] ⟹ <a href="#evaluate" title="evaluate">evaluate</a> xs
            C = <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>non_empty12</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> xs = [x] ⟹
            <a href="#non_empty" title="non_empty">non_empty</a> xs = xs ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> xs =
            <a href="#evaluate" title="evaluate">evaluate</a> [x]
          </p>

          <hr />
          <p><strong>nonempty_monotonic</strong></p>

          <p>
                size (<a href="#non_empty" title="non_empty">non_empty</a>
            (x#xs)) &gt; size (<a href="#non_empty" title="non_empty"
              >non_empty</a
            >
            xs)
          </p>

          <hr />
          <p><strong>non_empty_reduces_size</strong></p>

          <p>
                size (<a href="#non_empty" title="non_empty">non_empty</a> xs)
            &lt; size xs
          </p>

          <hr />
          <p><strong>non_empty_13</strong></p>

          <p>
                size (x#xs) = size (<a href="#non_empty" title="non_empty"
              >non_empty</a
            >
            (x#xs)) ⟹ x ≠ [ ]
          </p>

          <hr />
          <p><strong>non_empty_14</strong></p>

          <p>
                size b = size (<a href="#non_empty" title="non_empty"
              >non_empty</a
            >
            b) ⟹ b = (<a href="#non_empty" title="non_empty">non_empty</a> b)
          </p>

          <hr />
          <p><strong>eval_prop3</strong></p>

          <p>
                size b = 1 ⟹ size (<a href="#non_empty" title="non_empty"
              >non_empty</a
            >
            b) = 1 ⟹ <a href="#evaluate" title="evaluate">evaluate</a> b =
            <a href="#evaluate" title="evaluate">evaluate</a> (<a
              href="#non_empty"
              title="non_empty"
              >non_empty</a
            >
            b)
          </p>

          <hr />
          <p><strong>comp_cnf3</strong></p>

          <p>
                x ≠ [ ] ⟹ y ≠ [ ] ⟹
            <a href="#Concat" title="Concat">Concat</a> x (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (x@y)) <a href="#composition" title="composition">;</a>
            <a href="#Concat" title="Concat">Concat</a> y (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (x@y)) = <a href="#Concat" title="Concat">Concat</a> (x @ y) (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (x@y))
          </p>

          <hr />
          <p><strong>comp_prop1</strong></p>

          <p>
                x <a href="#composition" title="composition">;</a> (y
            <a href="#choice" title="choice">∪</a>
            <a href="#Skip" title="Skip">Skip</a> {})
            <a href="#equiv" title="equiv">≡</a> x
            <a href="#composition" title="composition">;</a> y
          </p>

          <hr />
          <p><strong>choice_cnf_thm</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> xs (<a
              href="#complete_cnf_state"
              title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xs@ys)) <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ys (<a
              href="#complete_cnf_state"
              title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xs@ys)) <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (xs
            <a href="#choice_cnf" title="choice_cnf">∪</a> ys) (<a
              href="#complete_cnf_state"
              title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xs@ys))
          </p>

          <hr />
          <p><strong>non_empty14</strong></p>

          <p>
                ∀t ∈ set xs. t ≠ [ ] ⟹
            <a href="#non_empty" title="non_empty">non_empty</a> xs = xs
          </p>

          <hr />
          <p><strong>choic_cnf1</strong></p>

          <p>
                (x#xs)
            <a href="#composition_cnf" title="composition_cnf">;</a> ys = ([x]
            <a href="#composition_cnf" title="composition_cnf">;</a> ys)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (xs
            <a href="#composition_cnf" title="composition_cnf">;</a> ys)
          </p>

          <hr />
          <p><strong>comp_distrib_r</strong></p>

          <p>
                (b <a href="#choice_cnf" title="choice_cnf">∪</a> c)
            <a href="#composition_cnf" title="composition_cnf">;</a> a = (b
            <a href="#composition_cnf" title="composition_cnf">;</a> a)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (c
            <a href="#composition_cnf" title="composition_cnf">;</a> a)
          </p>

          <hr />
          <p><strong>choice_cnf_commute</strong></p>

          <p>
                a <a href="#choice_cnf" title="choice_cnf">∪</a> (b
            <a href="#choice_cnf" title="choice_cnf">∪</a> c) = (a
            <a href="#choice_cnf" title="choice_cnf">∪</a> b)
            <a href="#choice_cnf" title="choice_cnf">∪</a> c
          </p>

          <hr />
          <p><strong>equal_sym</strong></p>

          <p>
                <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> a b =
            <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> b a
          </p>

          <hr />
          <p><strong>equal_empty</strong></p>

          <p>
                <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> a [ ] ⟹ a =
            [ ]
          </p>

          <hr />
          <p><strong>eval_prop1</strong></p>

          <p>
                ys≠[ ] ⟹ <a href="#evaluate" title="evaluate">evaluate</a> ys C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [y] C =
            <a href="#evaluate" title="evaluate">evaluate</a> (ys @ [y]) C
          </p>

          <hr />
          <p><strong>evaluate_switch</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> (y#ys) C =
            <a href="#evaluate" title="evaluate">evaluate</a> (ys@[y]) C
          </p>

          <hr />
          <p><strong>evaluate_split</strong></p>

          <p>
                xs≠[ ] ⟹ ys ≠ [ ] ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> (xs@ys) C =
            <a href="#evaluate" title="evaluate">evaluate</a> xs C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ys C
          </p>

          <hr />
          <p><strong>evaluate_switch2</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> (yss@yse) C =
            <a href="#evaluate" title="evaluate">evaluate</a> (yse@yss) C
          </p>

          <hr />
          <p><strong>eval_perm</strong></p>

          <p>
                a#ys’ ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ys) ⟹ <a href="#evaluate" title="evaluate">evaluate</a> (a#ys’) C =
            <a href="#evaluate" title="evaluate">evaluate</a> ys C
          </p>

          <hr />
          <p><strong>perm_eval</strong></p>

          <p>
                xs ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ys) ⟹ <a href="#evaluate" title="evaluate">evaluate</a> xs C =
            <a href="#evaluate" title="evaluate">evaluate</a> ys C
          </p>

          <hr />
          <p><strong>perm_prop</strong></p>

          <p>
                [t. t ← xs, ¬ p t] @ [t. t ← xs, p t] ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xs)
          </p>

          <hr />
          <p><strong>size_prop</strong></p>

          <p>    size ([t. t ← xs, ¬ p t] @ [t. t ← xs, p t]) = size xs</p>

          <hr />
          <p><strong>evaluate_split1</strong></p>

          <p>
                size (xs@ys) ≠ 1 ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> xs C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ys C =
            <a href="#evaluate" title="evaluate">evaluate</a> (xs@ys) C
          </p>

          <hr />
          <p><strong>evaluate_split2</strong></p>

          <p>
                size xs ≠1 ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> xs C =
            <a href="#evaluate" title="evaluate">evaluate</a> [t. t ← xs, t =x]
            C <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [t. t ← xs, t≠x] C
          </p>

          <hr />
          <p><strong>size_prop1</strong></p>

          <p>    size [t. t←a, t=x] + size [t. t←a, t≠x] = size a</p>

          <hr />
          <p><strong>evaluate_prop</strong></p>

          <p>
                size xs = 1 ⟹ ∀t ∈ set xs. t=x ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> xs =
            <a href="#evaluate" title="evaluate">evaluate</a> [x]
          </p>

          <hr />
          <p><strong>evaluate_prop2</strong></p>

          <p>
                size xs &gt; 1 ⟹ ∀t ∈ set xs. t=x ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> xs C =
            <a href="#evaluate" title="evaluate">evaluate</a> [x] C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [x] C
          </p>

          <hr />
          <p><strong>equal_eval</strong></p>

          <p>
                <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> a b ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> a C =
            <a href="#evaluate" title="evaluate">evaluate</a> b C
          </p>

          <hr />
          <p><strong>eval_simp</strong></p>

          <p>
                ∀C. <a href="#evaluate" title="evaluate">evaluate</a> a C =
            <a href="#evaluate" title="evaluate">evaluate</a> b C ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> a =
            <a href="#evaluate" title="evaluate">evaluate</a> b
          </p>

          <hr />
          <p><strong>equal_eval2</strong></p>

          <p>
                <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> a b ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> a =
            <a href="#evaluate" title="evaluate">evaluate</a> b
          </p>

          <hr />
          <p><strong>eq_reflexive</strong></p>

          <p>    <a href="#equal" title="equal">equal</a> xs xs</p>

          <hr />
          <p><strong>comp_prop</strong></p>

          <p>
                tr ∈ set (xs
            <a href="#composition_cnf" title="composition_cnf">;</a> ys) ⟹ ∃x y.
            x ∈ set xs ∧ y ∈ set ys ∧ x@y = tr
          </p>

          <hr />
          <p><strong>comp_prop2</strong></p>

          <p>
                x ∈ set xs ⟹ y ∈ set ys ⟹ x@y ∈ set (xs
            <a href="#composition_cnf" title="composition_cnf">;</a> ys)
          </p>

          <hr />
          <p><strong>choice_prop</strong></p>

          <p>
                tr ∈ set (xs <a href="#choice_cnf" title="choice_cnf">∪</a> ys)
            ⟹ (tr ∈ set xs ∨ tr ∈ set ys)
          </p>

          <hr />
          <p><strong>same_traces_size_equal</strong></p>

          <p>
                ∀tr ∈ set xs. tr ∈ set ys ⟹ ∀tr ∈ set ys. tr ∈ set xs ⟹ size xs
            = size ys ⟹ <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> xs
            ys
          </p>

          <hr />
          <p><strong>same_traces_size_equal2</strong></p>

          <p>
                size xs = size ys ⟹
            <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> xs ys ⟹ ∀tr ∈
            set xs. tr ∈ set ys
          </p>

          <hr />
          <p><strong>same_traces_size_equal3</strong></p>

          <p>
                size xs = size ys ⟹
            <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> xs ys ⟹ ∀tr ∈
            set ys. tr ∈ set xs
          </p>

          <hr />
          <p><strong>comp_prop3</strong></p>

          <p>
                ∃q w. q ∈ set a ∧ w ∈ set b ∧ tr = q @ w ∧ q ≠ [ ] ∧ w ≠ [ ] ⟹
            tr ∈ set (a
            <a href="#composition_cnf" title="composition_cnf">;</a> b)
          </p>

          <hr />
          <p><strong>choice_prop2</strong></p>

          <p>
                ∃q. (q ∈ set a ∨ q ∈ set b) ∧ tr = q ∧ q ≠ [ ] ⟹ tr ∈ set (a
            <a href="#choice_cnf" title="choice_cnf">∪</a> b)
          </p>

          <hr />
          <p>
                size (a <a href="#choice_cnf" title="choice_cnf">∪</a> b) = size
            (a) + size (b)
          </p>

          <hr />
          <p><strong>comp_size</strong></p>

          <p>
                x ≠ [ ] ⟹ length (((xx # x) # xs)
            <a href="#composition_cnf" title="composition_cnf">;</a> b) = length
            ((x # xs)
            <a href="#composition_cnf" title="composition_cnf">;</a> b)
          </p>

          <hr />
          <p><strong>comp_size2</strong></p>

          <p>
                size ([[a]]
            <a href="#composition_cnf" title="composition_cnf">;</a> b) = size b
          </p>

          <hr />
          <p><strong>comp_size3</strong></p>

          <p>
                size (a
            <a href="#composition_cnf" title="composition_cnf">;</a> b) = size a
            * size b
          </p>

          <hr />
          <p><strong>feas_prop</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a> xs
            ⟹ <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#Concat"
              title="Concat"
              >Concat</a
            >
            xs C)
          </p>

          <hr />
          <p><strong>feas_prop3</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [ ] C)
          </p>

          <hr />
          <p><strong>feas_prop4</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [[ ]] C)
          </p>

          <hr />
          <p><strong>feas_prop5</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> x ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [[x]] C)
          </p>

          <hr />
          <p><strong>eval_prop4</strong></p>

          <p>
                xs ≠ [ ] ⟹ <a href="#evaluate" title="evaluate">evaluate</a> [x
            # xs] C = <a href="#evaluate" title="evaluate">evaluate</a> [[x]] C
            <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [xs] C
          </p>

          <hr />
          <p><strong>feas_prop6</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a> xs
            ⟹ <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [xs] C)
          </p>

          <hr />
          <p><strong>feas_prop7</strong></p>

          <p>
                ∀bb ∈ set b.
            <a href="#all_feasible" title="all_feasible">all_feasible</a> bb ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            b C)
          </p>

          <hr />
          <p><strong>cnf_state_prop</strong></p>

          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (x#b) ⊆ C ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            b ⊆ C
          </p>

          <hr />
          <p><strong>cnf_state_prop2</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            xs ⊆ C ⟹ <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [xs] C) ⊆ C
          </p>

          <hr />
          <p><strong>cnf_state_prop1</strong></p>

          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs ⊆ C ⟹ <a href="#S" title="S">S</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            xs C) ⊆ C
          </p>

          <hr />
          <p><strong>skip_left_neutral</strong></p>

          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            b ⊆ C ⟹ <a href="#Skip" title="Skip">Skip</a> C
            <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> b C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> b C
          </p>

          <hr />
          <p><strong>skip_right_neutral</strong></p>

          <p>
                ∀bb ∈ set b.
            <a href="#all_feasible" title="all_feasible">all_feasible</a> bb ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            b ⊆ C ⟹ <a href="#evaluate" title="evaluate">evaluate</a> b C
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> b C
          </p>

          <hr />
          <p><strong>feas_prop8</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a> x
            ⟹ <a href="#all_feasible" title="all_feasible">all_feasible</a> b1 ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a> (x @
            b1)
          </p>

          <hr />
          <p><strong>state_prop</strong></p>

          <p>
                y ∈set ys ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            (ys) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            (y#ys)
          </p>

          <hr />
          <p><strong>state_prop8</strong></p>

          <p>
                set xs ⊆ set ys ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            xs ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            ys
          </p>

          <hr />
          <p><strong>state_prop9</strong></p>

          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xs # [ys]) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            (xs @ ys)
          </p>

          <hr />
          <p><strong>compose_equiv</strong></p>

          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (x#b) ⊆ C ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a> x ⟹
            ∀bb ∈ set b.
            <a href="#all_feasible" title="all_feasible">all_feasible</a> bb ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> [x] C
            <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> b C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ([x]
            <a href="#composition_cnf" title="composition_cnf">;</a> b) C
          </p>

          <hr />
          <p><strong>state_prop10</strong></p>

          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (a) ⊆
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (a @ b)
          </p>

          <hr />
          <p><strong>state_prop11</strong></p>

          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (b) ⊆
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (a @ b)
          </p>

          <hr />
          <p><strong>state_prop12</strong></p>

          <p>
                set xs ⊆ set ys ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs ⊆
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            ys
          </p>

          <hr />
          <p><strong>eval_choice</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> xs C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ys C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (xs
            <a href="#choice_cnf" title="choice_cnf">∪</a> ys) C
          </p>

          <hr />
          <p><strong>comp_choice</strong></p>

          <p>
                ([x] <a href="#composition_cnf" title="composition_cnf">;</a> b)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (a’
            <a href="#composition_cnf" title="composition_cnf">;</a> b) = (x#a’)
            <a href="#composition_cnf" title="composition_cnf">;</a> b
          </p>

          <hr />
          <p><strong>normal_prop15</strong></p>

          <p>
                set a = set b ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> a B =
            <a href="#normal_of" title="normal_of">normal_of</a> b B
          </p>

          <hr />
          <p><strong>normal_prop16</strong></p>

          <p>
                set a ⊆ set b ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> b B →
            <a href="#normal_of" title="normal_of">normal_of</a> a B
          </p>

          <hr />
          <p><strong>non_empty_is_smaller</strong></p>

          <p>
                set (<a href="#non_empty" title="non_empty">non_empty</a> xs) ⊆
            set xs
          </p>

          <hr />
          <p><strong>normal_prop17</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> a B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> (<a
              href="#non_empty"
              title="non_empty"
              >non_empty</a
            >
            a) B
          </p>

          <hr />
          <p><strong>normal_prop17_5</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> xs B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> [x] B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> (x#xs) B
          </p>

          <hr />
          <p><strong>normal_prop18</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> a B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> b B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> (a
            <a href="#choice_cnf" title="choice_cnf">∪</a> b) B
          </p>

          <hr />
          <p><strong>basic_prop6</strong></p>

          <p>
                <a href="#basic" title="basic">basic</a> (map ((@) x) bs) ⊆
            <a href="#basic" title="basic">basic</a> [x] ∪
            <a href="#basic" title="basic">basic</a> bs
          </p>

          <hr />
          <p><strong>normal_prop19</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> [x] B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> b B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> [x@ys. ys ← b]
            B
          </p>

          <hr />
          <p><strong>normal_prop20</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> a B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> b B ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> (a
            <a href="#composition_cnf" title="composition_cnf">;</a> b) B
          </p>

          <hr />
          <p><strong>state_prop13</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> [x] B ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            [x] ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B)
          </p>

          <hr />
          <p><strong>state_prop14</strong></p>

          <p>
                <a href="#normal_of" title="normal_of">normal_of</a> xs B ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B)
          </p>

          <hr />
          <p><strong>feas_prop9</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B) ⟹
            <a href="#normal_of" title="normal_of">normal_of</a> xs B ⟹ ∀tr ∈
            set xs.
            <a href="#all_feasible" title="all_feasible">all_feasible</a> tr
          </p>

          <hr />
          <p><strong>comp_prop4</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a> x
            ⟹ <a href="#all_feasible" title="all_feasible">all_feasible</a> y ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            x ⊆ C ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            y ⊆ C ⟹ <a href="#evaluate" title="evaluate">evaluate</a> ([x]
            <a href="#composition_cnf" title="composition_cnf">;</a> [y]) C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [x] C
            <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [y] C
          </p>

          <hr />
          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (x#ys) ⊆ C ⟹ ∀tr∈set (x#ys).
            <a href="#all_feasible" title="all_feasible">all_feasible</a> tr ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> ([x]
            <a href="#composition_cnf" title="composition_cnf">;</a> ys) C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ([x]) C
            <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (ys) C
          </p>

          <hr />
          <p><strong>civilized_thm1</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B) ⟹
            <a href="#S" title="S">S</a> p ⊆ C ⟹
            <a href="#civilized_n" title="civilized_n">civilized_n</a> p B n ⟹
            ∃(y::’a CNF). <a href="#evaluate" title="evaluate">evaluate</a> y C
            <a href="#equiv" title="equiv">≡</a> p ∧
            <a href="#normal_of" title="normal_of">normal_of</a> y B
          </p>

          <hr />
          <p><strong>set_to_list_prop</strong></p>

          <p>
                finite F ⟹ y ∉ F ⟹ count_list (<a
              href="#set_to_list"
              title="set_to_list"
              >set_to_list</a
            >
            F) y = 0
          </p>

          <hr />
          <p><strong>set_to_list_prop2</strong></p>

          <p>
                finite F ⟹ count_list (<a
              href="#set_to_list"
              title="set_to_list"
              >set_to_list</a
            >
            (F - {y})) y = 0
          </p>

          <hr />
          <p><strong>set_to_list_prop3</strong></p>

          <p>
                count_list (<a href="#set_to_list" title="set_to_list"
              >set_to_list</a
            >
            {y}) y = 1
          </p>

          <hr />
          <p><strong>set_to_list_prop4</strong></p>

          <p>
                count_list (<a href="#set_to_list" title="set_to_list"
              >set_to_list</a
            >
            {}) y = 0
          </p>

          <hr />
          <p><strong>set_to_list_prop5</strong></p>

          <p>
                finite F ⟹ y ∉ F ⟹
            <a href="#set_to_list" title="set_to_list">set_to_list</a> (insert y
            F) ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (y # <a href="#set_to_list" title="set_to_list">set_to_list</a> F))
          </p>

          <hr />
          <p>
                finite F ⟹ count_list (<a
              href="#set_to_list"
              title="set_to_list"
              >set_to_list</a
            >
            (insert x F)) x = 1
          </p>

          <hr />
          <p><strong>set_to_list_prop6</strong></p>

          <p>
                finite F ⟹ x ∉ F ⟹ count_list (<a
              href="#set_to_list"
              title="set_to_list"
              >set_to_list</a
            >
            (insert x F)) y = count_list (x#set_to_list F) y
          </p>

          <hr />
          <p><strong>set_to_list_prop7</strong></p>

          <p>
                finite F ⟹ x ∉ F ⟹ x ≠ y ⟹ count_list (<a
              href="#set_to_list"
              title="set_to_list"
              >set_to_list</a
            >
            (insert x F)) y = count_list (<a
              href="#set_to_list"
              title="set_to_list"
              >set_to_list</a
            >
            F) y
          </p>

          <hr />
          <p><strong>set_to_list_prop8</strong></p>

          <p>    x=y ⟹ count_list (yst@x#ynd) y = count_list (yst@ynd) y + 1</p>

          <hr />
          <p><strong>set_to_list_prop9</strong></p>

          <p>    x≠y ⟹ count_list (yst@x#ynd) y = count_list (yst@ynd) y</p>

          <hr />
          <p><strong>set_to_list_prop10</strong></p>

          <p>
                xs ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ys) ⟹ count_list xs = count_list ys
          </p>

          <hr />
          <p><strong>set_to_list_prop11</strong></p>

          <p>
                finite F ⟹ count_list (<a
              href="#set_to_list"
              title="set_to_list"
              >set_to_list</a
            >
            F) x &lt; 1
          </p>

          <hr />
          <p><strong>set_to_list_prop12</strong></p>

          <p>
                finite F ⟹ x ∈ F ⟹ count_list (<a
              href="#set_to_list"
              title="set_to_list"
              >set_to_list</a
            >
            F) x = 1
          </p>

          <hr />
          <p><strong>set_to_list_prop13</strong></p>

          <p>
                count_list xs x = 1 ⟹ count_list (<a
              href="#set_to_list"
              title="set_to_list"
              >set_to_list</a
            >
            (set xs)) x = 1
          </p>

          <hr />
          <p><strong>set_to_list_prop14</strong></p>

          <p>
                finite F ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> (insert
            y F)) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> (F)) ∪
            <a href="#S" title="S">S</a> y
          </p>

          <hr />
          <p><strong>set_to_list_prop15</strong></p>

          <p>
                <a href="#civilized" title="civilized">civilized</a> p B ⟹
            <a href="#S" title="S">S</a> p ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B)
          </p>

          <hr />
          <p><strong>civilized_thm2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B) ⟹
            <a href="#civilized" title="civilized">civilized</a> p B ⟹ ∃(y::’a
            CNF). <a href="#evaluate" title="evaluate">evaluate</a> y (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B))
            <a href="#equiv" title="equiv">≡</a> p ∧
            <a href="#normal_of" title="normal_of">normal_of</a> y B
          </p>

          <hr />
          <p><strong>fail_is_civilized</strong></p>

          <p>
                finite B ⟹
            <a href="#civilized" title="civilized">civilized</a> (Fail{}) B
          </p>

          <hr />
          <p><strong>skip_is_civilized</strong></p>

          <p>
                finite B ⟹
            <a href="#civilized" title="civilized">civilized</a> (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            (<a href="#complete_state" title="complete_state">complete_state</a>
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B))) B
          </p>

          <hr />
          <p><strong>civilized_thm3</strong></p>

          <p>
                ∃(y::’a CNF).
            <a href="#evaluate" title="evaluate">evaluate</a> y (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (<a href="#set_to_list" title="set_to_list">set_to_list</a> B)) = p
            ∧ <a href="#normal_of" title="normal_of">normal_of</a> y B ⟹
            <a href="#civilized" title="civilized">civilized</a> p B
          </p>

          <hr />
          <p><strong>composition_cnf_prop1</strong></p>

          <p>
                [[x]]
            <a href="#composition_cnf" title="composition_cnf">;</a> xs = [x#ys.
            ys ← xs]
          </p>

          <hr />
          <p><strong>composition_cnf_prop2</strong></p>

          <p>
                [y#ys]
            <a href="#composition_cnf" title="composition_cnf">;</a> xs = [(
            y#ys)@t. t ← xs]
          </p>

          <hr />
          <p><strong>non2_prop1</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> x = [ ] ⟹
            <a href="#non_empty2" title="non_empty2">non_empty2</a> (x # xs) =
            <a href="#non_empty2" title="non_empty2">non_empty2</a> xs
          </p>

          <hr />
          <p><strong>non2_prop2</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> x ≠ [ ] ⟹
            <a href="#non_empty2" title="non_empty2">non_empty2</a> (x # xs) =
            <a href="#non_empty" title="non_empty">non_empty</a> x #
            <a href="#non_empty2" title="non_empty2">non_empty2</a> xs
          </p>

          <hr />
          <p><strong>non2_prop3</strong></p>

          <p>
                <a href="#non_empty2" title="non_empty2">non_empty2</a> (xs @
            ys) = <a href="#non_empty2" title="non_empty2">non_empty2</a> xs @
            <a href="#non_empty2" title="non_empty2">non_empty2</a> ys
          </p>

          <hr />
          <p><strong>non2_prop4</strong></p>

          <p>
                size (<a href="#non_empty2" title="non_empty2">non_empty2</a>
            xs) &lt; size xs
          </p>

          <hr />
          <p><strong>non2_prop5</strong></p>

          <p>
                <a href="#non_empty2" title="non_empty2">non_empty2</a> (x#xs) =
            x#xs ⟹ <a href="#non_empty2" title="non_empty2">non_empty2</a> xs =
            xs
          </p>

          <hr />
          <p><strong>non2_prop5_5</strong></p>

          <p>
                <a href="#non_empty2" title="non_empty2">non_empty2</a> [x] =
            [x] ⟹ ∀path∈set x. path ≠ [ ]
          </p>

          <hr />
          <p><strong>non2_prop6</strong></p>

          <p>
                <a href="#non_empty2" title="non_empty2">non_empty2</a> xs = xs
            ⟹ ∀prog ∈ set xs. prog ≠ [ ] ∧ (∀path ∈ set prog. path ≠ [ ])
          </p>

          <hr />
          <p><strong>non_prop1</strong></p>

          <p>
                <a href="#non_empty" title="non_empty">non_empty</a> xs = xs ⟹
            ∀path ∈ set xs. path ≠ [ ]
          </p>

          <hr />
          <p><strong>non2_prop7</strong></p>

          <p>
                <a href="#non_empty2" title="non_empty2">non_empty2</a> xs = xs
            ⟹ x ∈ set xs ⟹
            <a href="#non_empty" title="non_empty">non_empty</a> x = x
          </p>

          <hr />
          <p><strong>non2_idem</strong></p>

          <p>
                <a href="#non_empty2" title="non_empty2">non_empty2</a> xs =
            <a href="#non_empty2" title="non_empty2">non_empty2</a> (<a
              href="#non_empty2"
              title="non_empty2"
              >non_empty2</a
            >
            xs)
          </p>

          <hr />
          <p><strong>inter_head</strong></p>

          <p>
                p ∈ set ((x#xs)
            <a href="#interleave" title="interleave">⫴</a> (y#ys)) ⟹ hd p = x ∨
            hd p = y
          </p>

          <hr />
          <p><strong>count_prop</strong></p>

          <p>    count_list (map ((#) x) xs) (x#p) = count_list xs p</p>

          <hr />
          <p><strong>count_prop2</strong></p>

          <p>    x≠y ⟹ count_list (map ((#) x) xs) (y#p) = 0</p>

          <hr />
          <p><strong>interleave_non_empty</strong></p>

          <p>
                p ∈ set ((x#xs)
            <a href="#interleave" title="interleave">⫴</a> (y#ys)) ⟹ p ≠ [ ]
          </p>

          <hr />
          <p><strong>inter2</strong></p>

          <p>
                count_list (ys
            <a href="#interleave" title="interleave">⫴</a> xs) p = count_list
            (xs <a href="#interleave" title="interleave">⫴</a> ys) p
          </p>

          <hr />
          <p><strong>inter_perm</strong></p>

          <p>
                ys <a href="#interleave" title="interleave">⫴</a> xs ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            (xs <a href="#interleave" title="interleave">⫴</a> ys))
          </p>

          <hr />
          <p><strong>t1</strong></p>

          <p>
                size xs = size ys ⟹ ∀t∈set (zip xs ys). fst t ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            (snd t)) ⟹ concat xs ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            (concat ys))
          </p>

          <hr />
          <p><strong>t15</strong></p>

          <p>
                size xs = size ys ⟹ ∃xs’. xs’ ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xs) ∧ (∀t∈set (zip xs’ ys). fst t ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            (snd t))) ⟹ concat xs ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            (concat ys))
          </p>

          <hr />
          <p><strong>t2</strong></p>

          <p>    size [f x y. x ← xs, y ← ys] = size xs * size ys</p>

          <hr />
          <p><strong>t3</strong></p>

          <p>
                size [path_m
            <a href="#interleave" title="interleave">⫴</a> path_n. path_m ← xs,
            path_n ← ys] = size [path_m
            <a href="#interleave" title="interleave">⫴</a> path_n. path_m ← ys,
            path_n ← xs]
          </p>

          <hr />
          <p><strong>index_prop</strong></p>

          <p>    length xs = a ⟹ (xs@ys)!(a+b) = ys!b</p>

          <hr />
          <p><strong>index_prop2</strong></p>

          <p>    a &lt; length xs ⟹ xs!a = (xs@ys)!a</p>

          <hr />
          <p><strong>index_prop3</strong></p>

          <p>
                size (concat (map (λx. f x y # map (f x) ys) xs)) = size xs *
            size (y#ys)
          </p>

          <hr />
          <p><strong>list_comp_index</strong></p>

          <p>
                x_ind &lt; size xs ⟹ y_ind &lt; size ys ⟹ [f x y. x ← xs, y ←
            ys] ! (x_ind * size ys + y_ind) = f (xs ! x_ind) (ys ! y_ind)
          </p>

          <hr />
          <p><strong>interleave_ind_comp</strong></p>

          <p>
                x_ind&lt;size xs ⟹ y_ind&lt;size ys ⟹ [path_m
            <a href="#interleave" title="interleave">⫴</a> path_n. path_m ← xs,
            path_n ← ys] ! ((x_ind* (size ys))+y_ind) = (xs ! x_ind)
            <a href="#interleave" title="interleave">⫴</a> (ys ! y_ind)
          </p>

          <hr />
          <p>
                x_ind &lt; size xs ⟹ y_ind &lt; size ys ⟹ [path_m
            <a href="#interleave" title="interleave">⫴</a> path_n. path_m ← xs,
            path_n ← ys] ! ((x_ind* (size ys))+y_ind) = [path_m
            <a href="#interleave" title="interleave">⫴</a> path_n. path_m ← ys,
            path_n ← xs] ! ((y_ind* (size xs))+x_ind)
          </p>

          <hr />
          <p><strong>all_elements_have_permutation</strong></p>

          <p>
                x_ind &lt; size xs ⟹ y_ind &lt; size ys ⟹ [path_m
            <a href="#interleave" title="interleave">⫴</a> path_n. path_m ← xs,
            path_n ← ys] ! ((x_ind* (size ys))+y_ind) ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            ([path_m <a href="#interleave" title="interleave">⫴</a> path_n.
            path_m ← ys, path_n ← xs] ! ((y_ind* (size xs))+x_ind)))
          </p>

          <hr />
          <p><strong>perm_prop1</strong></p>

          <p>
                xs ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs’) ⟹ ys ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ys’) ⟹ xs@ys ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (xs’@ys’))
          </p>

          <hr />
          <p><strong>is_perm</strong></p>

          <p>
                size xy = sx * sy ⟹ [xy ! ((x_ind*sy)+y_ind). x_ind ←
            [0..&lt;sx], y_ind ← [0..&lt;sy]] ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xy)
          </p>

          <hr />
          <p><strong>is_perm2</strong></p>

          <p>
                size xy = size xs * size ys ⟹ [xy ! ((x_ind*(size ys))+y_ind).
            x_ind ← [0..&lt;size xs], y_ind ← [0..&lt;size ys]] ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xy)
          </p>

          <hr />
          <p><strong>index_prop4</strong></p>

          <p>
                i &lt; size xs * size ys ⟹ concat (map (λx. map (f x) ys) xs) !
            i = f (xs ! (i div length ys)) (ys ! (i mod length ys))
          </p>

          <hr />
          <p><strong>index_prop5</strong></p>

          <p>
                concat (map (λx. map (f x) ys) xs) = [f (xs ! (i div length ys))
            (ys ! (i mod length ys)). i ← [0..&lt;size xs * size ys]]
          </p>

          <hr />
          <p><strong>perm_prop2</strong></p>

          <p>
                [ ] ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xy) ⟹ xy = [ ]
          </p>

          <hr />
          <p><strong>perm_prop5</strong></p>

          <p>
                concat (map (λy. map (λx. f x y) [x]) (ys)) @ concat (map (λy.
            map (λx. f x y) xs) (ys)) ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            (concat (map (λy. map (λx. f x y) (x # xs)) (ys))))
          </p>

          <hr />
          <p><strong>perm_prop3</strong></p>

          <p>
                [f x y. x ← xs, y ← ys] ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xy) ⟹ [f x y. y ← ys, x ← xs] ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xy)
          </p>

          <hr />
          <p><strong>is_perm4</strong></p>

          <p>
                size xy = sx * sy ⟹ [xy ! ((x_ind*sy)+y_ind). y_ind ←
            [0..&lt;sy], x_ind ← [0..&lt;sx]] ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xy)
          </p>

          <hr />
          <p><strong>perm_exists</strong></p>

          <p>
                xy = [path_m
            <a href="#interleave" title="interleave">⫴</a> path_n. path_m ← xs,
            path_n ← ys] ⟹ yx = [path_m
            <a href="#interleave" title="interleave">⫴</a> path_n. path_m ← ys,
            path_n ← xs] ⟹ ∃xy’. xy’ ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xy) ∧ (∀t∈set (zip xy’ yx). fst t ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            (snd t)))
          </p>

          <hr />
          <p><strong>is_permutation</strong></p>

          <p>
                (xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            ∈ set (<a href="#permutations" title="permutations">permutations</a>
            (ys <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> xs))
          </p>

          <hr />
          <p><strong>t4</strong></p>

          <p>
                size (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) = size
            (ys <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> xs)
          </p>

          <hr />
          <p><strong>inter_prop1</strong></p>

          <p>
                xs ≠ [ ] ⟹
            <a href="#interleave" title="interleave">interleave</a> xs ys ≠ [ ]
          </p>

          <hr />
          <p><strong>perm_is_equal</strong></p>

          <p>
                xs ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ys) ⟹ <a href="#evaluate" title="evaluate">evaluate</a> xs =
            <a href="#evaluate" title="evaluate">evaluate</a> ys
          </p>

          <hr />
          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) =
            <a href="#evaluate" title="evaluate">evaluate</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> xs)
          </p>

          <hr />
          <h2 id="cnf_concurrencythy">CNF_concurrency.thy</h2>

          <p>    (a@b)∥c =(a∥c)@(b∥c)</p>

          <hr />
          <p><strong>fact_eq</strong></p>

          <p>
                <a href="#factorial" title="factorial">factorial</a> n = fact n
          </p>

          <hr />
          <p><strong>factorial_mod_product</strong></p>

          <p>
                <a href="#factorial" title="factorial">factorial</a> (a + b) mod
            (<a href="#factorial" title="factorial">factorial</a> a *
            <a href="#factorial" title="factorial">factorial</a> b) = (0::nat)
          </p>

          <hr />
          <p><strong>factorial_bound</strong></p>

          <p>
                <a href="#factorial" title="factorial">factorial</a> n &gt; 0
          </p>

          <hr />
          <p><strong>simp_div</strong></p>

          <p>
                a mod b = 0 ⟹ c mod b = 0 ⟹ (a::nat) div b + c div b = (a + c)
            div b
          </p>

          <hr />
          <p><strong>exits_mulit</strong></p>

          <p>    ∃t::nat. n*t=m ⟹ m mod n = 0</p>

          <hr />
          <p>
                <a href="#nmb_interleavings_pre" title="nmb_interleavings_pre"
              >nmb_interleavings_pre</a
            >
            (<a href="#nmb_interleavings_pre" title="nmb_interleavings_pre"
              >nmb_interleavings_pre</a
            >
            x y) z =
            <a href="#nmb_interleavings_pre" title="nmb_interleavings_pre"
              >nmb_interleavings_pre</a
            >
            x (<a href="#nmb_interleavings_pre" title="nmb_interleavings_pre"
              >nmb_interleavings_pre</a
            >
            y z)
          </p>

          <hr />
          <p><strong>number_interleav</strong></p>

          <p>
                length (xs <a href="#interleave" title="interleave">⫴</a> ys) =
            <a href="#nmb_interleavings" title="nmb_interleavings"
              >nmb_interleavings</a
            >
            xs ys
          </p>

          <hr />
          <p><strong>monoton_fact</strong></p>

          <p>
                a &lt; b ⟹
            <a href="#factorial" title="factorial">factorial</a> a &lt;
            <a href="#factorial" title="factorial">factorial</a> b
          </p>

          <hr />
          <p><strong>interleave_size</strong></p>

          <p>
                size xs * size ys &lt; size (xs
            <a href="#interleave" title="interleave">⫴</a> ys)
          </p>

          <hr />
          <p><strong>list_comp_size</strong></p>

          <p>
                size [f path_m path_n. path_m ← xs, path_n ← ys] &gt; size xs *
            size ys
          </p>

          <hr />
          <p><strong>interleav_lower_bound</strong></p>

          <p>
                size (xs <a href="#interleave" title="interleave">⫴</a> ys) &gt;
            1
          </p>

          <hr />
          <p><strong>concat_prop</strong></p>

          <p>    ∀x ∈ set xs. size x &gt; 1 ⟹ size (concat xs) &gt; size xs</p>

          <hr />
          <p><strong>conc_size</strong></p>

          <p>
                size xs * size ys &lt; size (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
          </p>

          <hr />
          <p><strong>size_one1</strong></p>

          <p>
                size (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) = 1 ⟹
            size xs = 1
          </p>

          <hr />
          <p><strong>size_one2</strong></p>

          <p>
                size (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) = 1 ⟹
            size ys = 1
          </p>

          <hr />
          <p><strong>sum_1</strong></p>

          <p>
                size (concat xs) = <a href="#sum" title="sum">sum</a> [size x.
            x←xs]
          </p>

          <hr />
          <p><strong>path_decomp</strong></p>

          <p>
                path ∈ set (p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q) ⟹
            ∃path_p path_q. path_p ∈ set p ∧ path_q ∈ set q ∧ path ∈ set (path_p
            <a href="#interleave" title="interleave">⫴</a> path_q)
          </p>

          <hr />
          <p><strong>path_decomp2</strong></p>

          <p>
                path_p ∈ set p ⟹ path_q ∈ set q ⟹ path ∈ set (path_p
            <a href="#interleave" title="interleave">⫴</a> path_q) ⟹ path ∈ set
            (p <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q)
          </p>

          <hr />
          <p><strong>inter_leav1</strong></p>

          <p>
                (p#path) ∈ set ((x#xs)
            <a href="#interleave" title="interleave">⫴</a> (y#ys)) ⟹ ((p=x) ∧
            path ∈ set (xs
            <a href="#interleave" title="interleave">⫴</a> (y#ys))) ∨ ((p=y) ∧
            path ∈ set ((x#xs)
            <a href="#interleave" title="interleave">⫴</a> (ys)))
          </p>

          <hr />
          <p><strong>inter_leav2</strong></p>

          <p>
                ((p=y) ∧ path ∈ set ((x#xs)
            <a href="#interleave" title="interleave">⫴</a> (ys))) ⟹ (p#path) ∈
            set ((x#xs) <a href="#interleave" title="interleave">⫴</a> (y#ys))
          </p>

          <hr />
          <p><strong>inter_leav3</strong></p>

          <p>
                ((p=x) ∧ path ∈ set (xs
            <a href="#interleave" title="interleave">⫴</a> (y#ys))) ⟹ (p#path) ∈
            set ((x#xs) <a href="#interleave" title="interleave">⫴</a> (y#ys))
          </p>

          <hr />
          <p><strong>conc_lem1</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      set (xs
                  <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) =
                  ⋃ {set (path_x
                  <a href="#interleave" title="interleave">⫴</a> path_y)
                </td>
                <td>path_x path_y. path_x ∈ set xs ∧ path_y ∈ set ys}</td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p>
                set ((x#xs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) = set
            ([x]∥ys) ∪ set (xs∥ys)
          </p>

          <hr />
          <p><strong>assoc_1</strong></p>

          <p>
                set (([x]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [y])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [z]) ⊆ set
            ([x] <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([y]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [z]))
          </p>

          <hr />
          <p><strong>assoc_2</strong></p>

          <p>
                set ([x]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([y]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [z])) ⊆ set
            (([x] <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [y])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [z])
          </p>

          <hr />
          <p><strong>assoc_3</strong></p>

          <p>
                set (([x]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [y])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [z]) ⊆ set
            (((x#xs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (y#ys))
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (z#zs))
          </p>

          <hr />
          <p><strong>assoc_4</strong></p>

          <p>
                set ([x]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([y]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [z])) ⊆ set
            ((x#xs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ((y#ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (z#zs)))
          </p>

          <hr />
          <p><strong>assoc_5</strong></p>

          <p>
                set xs = set xs’ ⟹ set ys = set ys’ ⟹ set (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) = set
            (xs’ <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys’)
          </p>

          <hr />
          <p><strong>assoc_6</strong></p>

          <p>
                y ∈ set ys ⟹ x ∈ set xs ⟹ set ((x#xs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (y#ys)) =
            set ((xs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys))
          </p>

          <hr />
          <p><strong>assoc_7</strong></p>

          <p>
                set ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs) ⊆ set
            (xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs))
          </p>

          <hr />
          <p><strong>assoc_8</strong></p>

          <p>
                set (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) ⊆ set
            ((xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)
          </p>

          <hr />
          <p><strong>assoc_9</strong></p>

          <p>
                set (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) = set
            ((xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)
          </p>

          <hr />
          <p><strong>inter_size</strong></p>

          <p>
                size (x <a href="#interleave" title="interleave">⫴</a> y) &gt;
            0” apply (cases “x=[ ]
          </p>

          <hr />
          <p><strong>inter_size2</strong></p>

          <p>
                size (x <a href="#interleave" title="interleave">⫴</a> y) = 1 ⟹
            size x = 0 ∨ size y = 0
          </p>

          <hr />
          <p><strong>inter_size3</strong></p>

          <p>
                size x = 0 ∨ size y = 0 ⟹ size (x
            <a href="#interleave" title="interleave">⫴</a> y) = 1
          </p>

          <hr />
          <p><strong>interleaving_lemma</strong></p>

          <p>
                size ([x]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [y]) =
            <a href="#nmb_interleavings_pre" title="nmb_interleavings_pre"
              >nmb_interleavings_pre</a
            >
            (size x) (size y)
          </p>

          <hr />
          <p><strong>inter_size4</strong></p>

          <p>
                size (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) = 1 ⟹
            size xs = 1 ∨ size ys = 1
          </p>

          <hr />
          <p><strong>conc_prop</strong></p>

          <p>
                xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [[
            ]] = xs
          </p>

          <hr />
          <p><strong>conc_prop2</strong></p>

          <p>
                [[ ]]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> xs = xs
          </p>

          <hr />
          <p><strong>assoc_10</strong></p>

          <p>
                size (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) = 1 ⟹
            size ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs) = 1
          </p>

          <hr />
          <p><strong>assoc_11</strong></p>

          <p>
                size ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs) = 1 ⟹
            size (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) = 1
          </p>

          <hr />
          <p><strong>assoc_12</strong></p>

          <p>
                size (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) = 1 ≡
            size ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs) = 1
          </p>

          <hr />
          <p><strong>assoc_cnf1</strong></p>

          <p>
                <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs) (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs))
          </p>

          <hr />
          <p><strong>assoc_cnf</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs) =
            <a href="#evaluate" title="evaluate">evaluate</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs))
          </p>

          <hr />
          <p><strong>cnf_prop</strong></p>

          <p>
                xs ≠ [ ] ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> [x#xs] C = x
            <a href="#composition" title="composition">;</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [xs] C)
          </p>

          <hr />
          <p><strong>cnf_prop2</strong></p>

          <p>
                xs ≠ [ ] ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> [xs@[x]] C = (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [xs] C) <a href="#composition" title="composition">;</a> x
          </p>

          <hr />
          <p><strong>restrict_cnf1</strong></p>

          <p>
                D ⊆ C ⟹ <a href="#evaluate" title="evaluate">evaluate</a> ([x]
            <a href="#restriction_cnf" title="restriction_cnf">/</a> C) D = (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [x] D) <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>restr_distrib</strong></p>

          <p>
                a <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#choice" title="choice">∪</a> b
            <a href="#restrict_p" title="restrict_p">/</a> C = (a
            <a href="#choice" title="choice">∪</a> b)
            <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>restrict_cnf</strong></p>

          <p>
                D ⊆ C ⟹ <a href="#evaluate" title="evaluate">evaluate</a> (xs
            <a href="#restriction_cnf" title="restriction_cnf">/</a> C) D = (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            xs D) <a href="#restrict_p" title="restrict_p">/</a> C
          </p>

          <hr />
          <p><strong>corestrict_cnf1</strong></p>

          <p>
                D ⊆ C ⟹ <a href="#evaluate" title="evaluate">evaluate</a> ([x]
            <a href="#corestriction_cnf" title="corestriction_cnf">∖</a> C) D =
            (<a href="#evaluate" title="evaluate">evaluate</a> [x] D)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>corestrict_cnf</strong></p>

          <p>
                D ⊆ C ⟹ <a href="#evaluate" title="evaluate">evaluate</a> (xs
            <a href="#corestriction_cnf" title="corestriction_cnf">∖</a> C) D=
            (<a href="#evaluate" title="evaluate">evaluate</a> xs D)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>conc_prop1</strong></p>

          <p>
                set (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) ⊆ set
            (xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (y#ys))
          </p>

          <hr />
          <p><strong>conc_prop3</strong></p>

          <p>
                set (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) ⊆ set
            (xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#choice_cnf" title="choice_cnf">∪</a> zs))
          </p>

          <hr />
          <p><strong>conc_prop4</strong></p>

          <p>
                set (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#choice_cnf" title="choice_cnf">∪</a> zs)) = set (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (zs
            <a href="#choice_cnf" title="choice_cnf">∪</a> ys))
          </p>

          <hr />
          <p><strong>conc_choice1_1</strong></p>

          <p>
                set (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#choice_cnf" title="choice_cnf">∪</a> zs)) = set ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs))
          </p>

          <hr />
          <p><strong>choice_size1</strong></p>

          <p>
                size (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#choice_cnf" title="choice_cnf">∪</a> zs)) = 1 ⟹ size ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) = 1
          </p>

          <hr />
          <p><strong>choice_size2</strong></p>

          <p>
                size ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) = 1 ⟹
            size (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#choice_cnf" title="choice_cnf">∪</a> zs)) = 1
          </p>

          <hr />
          <p><strong>Conc_choice1_1</strong></p>

          <p>
                <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#choice_cnf" title="choice_cnf">∪</a> zs))
          </p>

          <hr />
          <p><strong>Conc_choice1_</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) =
            <a href="#evaluate" title="evaluate">evaluate</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (ys
            <a href="#choice_cnf" title="choice_cnf">∪</a> zs))
          </p>

          <hr />
          <p><strong>conc_prop5</strong></p>

          <p>
                set (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) ⊆ set
            ((x#xs) <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
          </p>

          <hr />
          <p><strong>conc_prop6</strong></p>

          <p>
                set (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) ⊆ set
            ((xs <a href="#choice_cnf" title="choice_cnf">∪</a> zs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
          </p>

          <hr />
          <p><strong>conc_prop7</strong></p>

          <p>
                set ((zs <a href="#choice_cnf" title="choice_cnf">∪</a> xs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) = set
            ((xs <a href="#choice_cnf" title="choice_cnf">∪</a> zs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys)
          </p>

          <hr />
          <p><strong>conc_choice2_1</strong></p>

          <p>
                set ((xs <a href="#choice_cnf" title="choice_cnf">∪</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs) = set
            ((xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs))
          </p>

          <hr />
          <p><strong>choice_size3</strong></p>

          <p>
                size ((xs <a href="#choice_cnf" title="choice_cnf">∪</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs) = 1 ⟹
            size ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) = 1
          </p>

          <hr />
          <p><strong>choice_size4</strong></p>

          <p>
                size ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) = 1 ⟹
            size ((xs <a href="#choice_cnf" title="choice_cnf">∪</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs) = 1
          </p>

          <hr />
          <p><strong>Conc_choice2_1</strong></p>

          <p>
                <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) ((xs
            <a href="#choice_cnf" title="choice_cnf">∪</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)
          </p>

          <hr />
          <p><strong>Conc_choice2_</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> ((xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)
            <a href="#choice_cnf" title="choice_cnf">∪</a> (ys
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)) =
            <a href="#evaluate" title="evaluate">evaluate</a> ((xs
            <a href="#choice_cnf" title="choice_cnf">∪</a> ys)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> zs)
          </p>

          <hr />
          <p><strong>eval_specialize</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> ys C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (y # ys) C
          </p>

          <hr />
          <p><strong>eval_specialize2</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> [y] C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (y # ys) C
          </p>

          <hr />
          <p><strong>eval_specialize3</strong></p>

          <p>
                set xs ⊆ set [y] ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> xs C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [y] C
          </p>

          <hr />
          <p><strong>eval_specialize4</strong></p>

          <p>
                set [x] ⊆ set ys ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> [x] C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ys C
          </p>

          <hr />
          <p><strong>eval_specialize5</strong></p>

          <p>
                size xs &gt; 1 ⟹
            <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> xs zs ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> xs C =
            <a href="#evaluate" title="evaluate">evaluate</a> [ ] C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> zs C
          </p>

          <hr />
          <p><strong>eval_specialize6</strong></p>

          <p>
                size (ys @ zs) &gt; 1 ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> ys C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> zs C =
            <a href="#evaluate" title="evaluate">evaluate</a> (ys
            <a href="#choice_cnf" title="choice_cnf">∪</a> zs) C
          </p>

          <hr />
          <p><strong>eval_specialize7</strong></p>

          <p>
                size xs ≠ 1 ⟹
            <a href="#equal_cnf" title="equal_cnf">equal_cnf</a> xs (ys
            <a href="#choice_cnf" title="choice_cnf">∪</a> zs) ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> xs C =
            <a href="#evaluate" title="evaluate">evaluate</a> ys C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> zs C
          </p>

          <hr />
          <p><strong>eval_specialize8</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> [x. x ← xs, f
            x] C <a href="#specialize" title="specialize">⊆</a>
            <a href="#evaluate" title="evaluate">evaluate</a> xs C
          </p>

          <hr />
          <p><strong>eval_specialize9</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> [x. x ←
            (x#xx#xs), f x] C <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [x. x ← x#xx#xs, ¬
            f x] C = (<a href="#evaluate" title="evaluate">evaluate</a> [x] C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [xx] C)
            <a href="#choice" title="choice">∪</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [x. x ← (xs), f x] C <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [x. x ← xs, ¬ f x]
            C)
          </p>

          <hr />
          <p><strong>eval_specialize10</strong></p>

          <p>
                (<a href="#evaluate" title="evaluate">evaluate</a> [x] C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [xx] C)
            <a href="#choice" title="choice">∪</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            [x. x ← (xs), f x] C <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [x. x ← xs, ¬ f x]
            C) = (<a href="#evaluate" title="evaluate">evaluate</a> [x] C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [xx] C)
            <a href="#choice" title="choice">∪</a> (<a
              href="#evaluate"
              title="evaluate"
              >evaluate</a
            >
            xs C)
          </p>

          <hr />
          <p><strong>eval_specialize11</strong></p>

          <p>
                size xs &gt; 1 ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> [x. x ← xs, f x] C
            <a href="#choice" title="choice">∪</a>
            <a href="#evaluate" title="evaluate">evaluate</a> [x. x ← xs, ¬ f x]
            C = <a href="#evaluate" title="evaluate">evaluate</a> xs C
          </p>

          <hr />
          <p><strong>eval_specialize12</strong></p>

          <p>
                set xs ⊆ set ys ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> xs C⊆
            <a href="#evaluate" title="evaluate">evaluate</a> ys C
          </p>

          <hr />
          <p><strong>subset1</strong></p>

          <p>
                set (p
            <a href="#composition_cnf" title="composition_cnf">;</a> xs) ⊆ set
            (p <a href="#composition_cnf" title="composition_cnf">;</a> (x#xs))
          </p>

          <hr />
          <p><strong>subset2</strong></p>

          <p>
                set (xs
            <a href="#composition_cnf" title="composition_cnf">;</a> p) ⊆ set
            ((x#xs) <a href="#composition_cnf" title="composition_cnf">;</a> p)
          </p>

          <hr />
          <p><strong>subset3</strong></p>

          <p>
                set (p <a href="#choice_cnf" title="choice_cnf">∪</a> xs) ⊆ set
            (p <a href="#choice_cnf" title="choice_cnf">∪</a> (x#xs))
          </p>

          <hr />
          <p><strong>subset4</strong></p>

          <p>
                set (xs <a href="#choice_cnf" title="choice_cnf">∪</a> p) ⊆ set
            ((x#xs) <a href="#choice_cnf" title="choice_cnf">∪</a> p)
          </p>

          <hr />
          <p><strong>subset5</strong></p>

          <p>
                set q ⊆ set q’ ⟹ set (p
            <a href="#composition_cnf" title="composition_cnf">;</a> q) ⊆ set (p
            <a href="#composition_cnf" title="composition_cnf">;</a> q’)
          </p>

          <hr />
          <p><strong>subset6</strong></p>

          <p>
                set q ⊆ set q’ ⟹ set (q
            <a href="#composition_cnf" title="composition_cnf">;</a> p) ⊆ set
            (q’ <a href="#composition_cnf" title="composition_cnf">;</a> p)
          </p>

          <hr />
          <p><strong>subset7</strong></p>

          <p>
                set q ⊆ set q’ ⟹ set (p
            <a href="#choice_cnf" title="choice_cnf">∪</a> q) ⊆ set (p
            <a href="#choice_cnf" title="choice_cnf">∪</a> q’)
          </p>

          <hr />
          <p><strong>subset8</strong></p>

          <p>
                set q ⊆ set q’ ⟹ set (q
            <a href="#choice_cnf" title="choice_cnf">∪</a> p) ⊆ set (q’
            <a href="#choice_cnf" title="choice_cnf">∪</a> p)
          </p>

          <hr />
          <p><strong>subset9</strong></p>

          <p>
                set q ⊆ set q’ ⟹ set (p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q) ⊆ set (p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q’)
          </p>

          <hr />
          <p><strong>subset10</strong></p>

          <p>
                set q ⊆ set q’ ⟹ set (q
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> p) ⊆ set
            (q’ <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> p)
          </p>

          <hr />
          <p><strong>interleav_prop</strong></p>

          <p>
                ps @ rs ∈ set (ps
            <a href="#interleave" title="interleave">⫴</a> rs)
          </p>

          <hr />
          <p><strong>prop5</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      set (map (λxs. xs @ [p]) (ps
                  <a href="#interleave" title="interleave">⫴</a> (qs @ [q]))) =
                  {tr @ [p]
                </td>
                <td>
                  tr. tr ∈ set (ps
                  <a href="#interleave" title="interleave">⫴</a> (qs @ [q]))}
                </td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>prop6</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      set (map (λxs. xs @ [q]) ((ps @ [p])
                  <a href="#interleave" title="interleave">⫴</a> qs )) = {tr @
                  [q]
                </td>
                <td>
                  tr. tr ∈ set ((ps @ [p])
                  <a href="#interleave" title="interleave">⫴</a> qs)}
                </td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>prop3_1</strong></p>

          <p>
                [x] <a href="#interleave" title="interleave">⫴</a> ys =
            <a href="#insert_all" title="insert_all">insert_all</a> x ys
          </p>

          <hr />
          <p><strong>prop3_2</strong></p>

          <p>
                ys <a href="#interleave" title="interleave">⫴</a> [x] = rev (<a
              href="#insert_all"
              title="insert_all"
              >insert_all</a
            >
            x ys)
          </p>

          <hr />
          <p><strong>prop3_3</strong></p>

          <p>
                set ([x] <a href="#interleave" title="interleave">⫴</a> (y#ys))
            = {x#y#ys} ∪ {y#x#ys} ∪ ((#) y) ` set ([x]
            <a href="#interleave" title="interleave">⫴</a> ys)
          </p>

          <hr />
          <p><strong>prop3_4</strong></p>

          <p>
                set ([x]
            <a href="#interleave" title="interleave">⫴</a> (ys@[y])) =
            {ys@[x,y]} ∪ {ys@[y,x]} ∪ (λtr. tr@[y]) ` set ([x]
            <a href="#interleave" title="interleave">⫴</a> ys)
          </p>

          <hr />
          <p><strong>prop3_5</strong></p>

          <p>
                set ([x] <a href="#interleave" title="interleave">⫴</a> rev
            (y#ys)) = {(rev ys)@[x,y]} ∪ {(rev ys)@[y,x]} ∪ (λtr. tr@[y]) ` set
            ([x] <a href="#interleave" title="interleave">⫴</a> (rev ys))
          </p>

          <hr />
          <p><strong>prop3_6</strong></p>

          <table>
            <tbody>
              <tr>
                <td>    {rev tr</td>
                <td>
                  tr. tr ∈ set ([x]
                  <a href="#interleave" title="interleave">⫴</a> (ys))} = set
                  ([x] <a href="#interleave" title="interleave">⫴</a> rev ys)
                </td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>prop3_7</strong></p>

          <p>
                rev ` set ([x]
            <a href="#interleave" title="interleave">⫴</a> ys) = set ([x]
            <a href="#interleave" title="interleave">⫴</a> rev ys)
          </p>

          <hr />
          <p><strong>prop3_8</strong></p>

          <p>
                (λtr. tr @ [y]) ` set ([x]
            <a href="#interleave" title="interleave">⫴</a> ys) ⊆ set ([x]
            <a href="#interleave" title="interleave">⫴</a> (ys @ [y]))
          </p>

          <hr />
          <p><strong>prop3_9</strong></p>

          <p>
                tr ∈ set ([x] <a href="#interleave" title="interleave">⫴</a> rev
            ys) ⟹ tr @ [y] ∈ set ([x]
            <a href="#interleave" title="interleave">⫴</a> (rev ys @ [y]))
          </p>

          <hr />
          <p><strong>prop3_10</strong></p>

          <p>
                (map (λzs. zs@[y]) (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x ys)) @ [ys@[y,x]] =
            <a href="#insert_all" title="insert_all">insert_all</a> x (ys@[y])
          </p>

          <hr />
          <p><strong>prop3_10_1</strong></p>

          <p>
                map (λtr. tr @ [y]) ([x]
            <a href="#interleave" title="interleave">⫴</a> ys) @ [ys@[y,x]] =
            <a href="#insert_all" title="insert_all">insert_all</a> x (ys@[y])
          </p>

          <hr />
          <p><strong>prop3_11</strong></p>

          <p>
                xa ∈ set ([x]
            <a href="#interleave" title="interleave">⫴</a> (rev ys @ [y])) ⟹ xa
            ∉ (λtr. tr @ [y]) ` set ([x]
            <a href="#interleave" title="interleave">⫴</a> rev ys) ⟹ xa = rev ys
            @ [y, x]
          </p>

          <hr />
          <p><strong>prop3_12</strong></p>

          <p>
                x≠y ⟹ set (map ((#) y) ((x#xs)
            <a href="#interleave" title="interleave">⫴</a> ys)) ∩ set (map ((#)
            x) (xs <a href="#interleave" title="interleave">⫴</a> (y#ys))) = {}
          </p>

          <hr />
          <p><strong>prop3_13</strong></p>

          <p>
                x≠y ⟹ set (map ((#) x) (xs
            <a href="#interleave" title="interleave">⫴</a> (y#ys))) = set
            ((x#xs) <a href="#interleave" title="interleave">⫴</a> (y#ys)) - set
            (map ((#) y) ((x#xs)
            <a href="#interleave" title="interleave">⫴</a> ys))
          </p>

          <hr />
          <p><strong>prop3_14</strong></p>

          <p>
                (x#xs) <a href="#interleave" title="interleave">⫴</a> (x#ys) =
            map ((#) x) ((xs
            <a href="#interleave" title="interleave">⫴</a> (x#ys)) @ ((x#xs)
            <a href="#interleave" title="interleave">⫴</a> ys))
          </p>

          <hr />
          <p><strong>prop3_15</strong></p>

          <p>
                set [(xs @ [x, y])] ∪ (λtr. tr @ [x]) ` set ((xs
            <a href="#interleave" title="interleave">⫴</a> [y])) = set (((xs @
            [x]) <a href="#interleave" title="interleave">⫴</a> [y]))
          </p>

          <hr />
          <p><strong>prop3_16</strong></p>

          <p>
                set (map (λtr. tr@[y]) (rev (x#xs)
            <a href="#interleave" title="interleave">⫴</a> rev ys)) ∪ set (map
            (λtr. tr@[x]) (rev xs
            <a href="#interleave" title="interleave">⫴</a> rev (y#ys))) = set
            (rev (x # xs) <a href="#interleave" title="interleave">⫴</a> rev (y
            # ys))
          </p>

          <hr />
          <p><strong>prop3</strong></p>

          <p>
                set (map rev (xs
            <a href="#interleave" title="interleave">⫴</a> ys)) = set (rev xs
            <a href="#interleave" title="interleave">⫴</a> rev ys)
          </p>

          <hr />
          <p><strong>prop4</strong></p>

          <table>
            <tbody>
              <tr>
                <td>
                      set ((ps @ [p])
                  <a href="#interleave" title="interleave">⫴</a> (qs @ [q])) =
                  {tr @ [p]
                </td>
                <td>
                  tr. tr ∈ set (ps
                  <a href="#interleave" title="interleave">⫴</a> (qs @ [q]))} ∪
                  {tr @ [q]
                </td>
                <td>
                  tr. tr ∈ set ((ps @ [p])
                  <a href="#interleave" title="interleave">⫴</a> qs)}
                </td>
              </tr>
            </tbody>
          </table>

          <hr />
          <p><strong>prop7</strong></p>

          <p>
                set ((ps@[p])
            <a href="#interleave" title="interleave">⫴</a> (qs@[q])) = set (map
            (λxs. xs@[p]) (ps
            <a href="#interleave" title="interleave">⫴</a> (qs@[q])) @ map (λxs.
            xs@[q]) ((ps@[p])
            <a href="#interleave" title="interleave">⫴</a> qs))
          </p>

          <hr />
          <p><strong>prop8</strong></p>

          <p>    xs ∈ set ys ⟹ xs@[x] ∈ set (map (λt. t@[x]) ys)</p>

          <hr />
          <p><strong>prop9</strong></p>

          <p>
                xs ∈ set (p <a href="#interleave" title="interleave">⫴</a> q) ⟹
            xs @ r ∈ set (p <a href="#interleave" title="interleave">⫴</a> (q @
            r))
          </p>

          <hr />
          <p><strong>prop9_1</strong></p>

          <p>
                xs ∈ set ((p <a href="#interleave" title="interleave">⫴</a> r))
            ⟹ q @ xs ∈ set (p <a href="#interleave" title="interleave">⫴</a> (q
            @ r))
          </p>

          <hr />
          <p><strong>prop10</strong></p>

          <p>
                set ([p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [q]
            <a href="#composition_cnf" title="composition_cnf">;</a> [r]) ⊆ set
            ([p] <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> [r]))
          </p>

          <hr />
          <p><strong>prop10_1</strong></p>

          <p>
                set ([p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [r]
            <a href="#composition_cnf" title="composition_cnf">;</a> [q]) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> [q])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [r])
          </p>

          <hr />
          <p><strong>prop10_2</strong></p>

          <p>
                set ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> [p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [r]) ⊆ set
            ([p] <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> [r]))
          </p>

          <hr />
          <p><strong>prop10_3</strong></p>

          <p>
                set ([p]
            <a href="#composition_cnf" title="composition_cnf">;</a> [q]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [r]) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> [q])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [r])
          </p>

          <hr />
          <p><strong>inter1</strong></p>

          <p>
                set ((ps <a href="#interleave" title="interleave">⫴</a> qs)
            <a href="#composition_cnf" title="composition_cnf">;</a> (rs
            <a href="#interleave" title="interleave">⫴</a> vs)) ⊆ set ((ps @ rs)
            <a href="#interleave" title="interleave">⫴</a> (qs @ vs))
          </p>

          <hr />
          <p><strong>prop10_3_1</strong></p>

          <p>
                set ([p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [q]
            <a href="#composition_cnf" title="composition_cnf">;</a> [r]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [v]) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> [r])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> [v]))
          </p>

          <hr />
          <p><strong>prop10_4</strong></p>

          <p>
                set ([p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [q]
            <a href="#composition_cnf" title="composition_cnf">;</a> [r]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> vs) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> [r])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> vs))
          </p>

          <hr />
          <p><strong>prop11</strong></p>

          <p>
                set ([p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> qs
            <a href="#composition_cnf" title="composition_cnf">;</a> [r]) ⊆ set
            ([p] <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (qs
            <a href="#composition_cnf" title="composition_cnf">;</a> [r]))
          </p>

          <hr />
          <p><strong>prop12</strong></p>

          <p>
                set (([p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> rs)
            <a href="#composition_cnf" title="composition_cnf">;</a> [q]) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> [q])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> rs)
          </p>

          <hr />
          <p><strong>prop13</strong></p>

          <p>
                set ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> [p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> rs) ⊆ set
            ([p] <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> rs))
          </p>

          <hr />
          <p><strong>prop14</strong></p>

          <p>
                set ([p]
            <a href="#composition_cnf" title="composition_cnf">;</a> qs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [r]) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> qs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [r])
          </p>

          <hr />
          <p><strong>prop15</strong></p>

          <p>
                set ([p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([q])
            <a href="#composition_cnf" title="composition_cnf">;</a> rs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> s) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> rs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> s))
          </p>

          <hr />
          <p><strong>subset12</strong></p>

          <p>
                set (ps
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q
            <a href="#composition_cnf" title="composition_cnf">;</a> [r]) ⊆ set
            (ps <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (q
            <a href="#composition_cnf" title="composition_cnf">;</a> [r]))
          </p>

          <hr />
          <p><strong>subset13</strong></p>

          <p>
                set ((ps
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r)
            <a href="#composition_cnf" title="composition_cnf">;</a> [q]) ⊆ set
            ((ps <a href="#composition_cnf" title="composition_cnf">;</a> [q])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r)
          </p>

          <hr />
          <p><strong>subset14</strong></p>

          <p>
                set ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> ps
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r) ⊆ set
            (ps <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> r))
          </p>

          <hr />
          <p><strong>subset15</strong></p>

          <p>
                set ([p]
            <a href="#composition_cnf" title="composition_cnf">;</a> q
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> rs) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> q)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> rs)
          </p>

          <hr />
          <p><strong>subset16</strong></p>

          <p>
                set ([p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> qs
            <a href="#composition_cnf" title="composition_cnf">;</a> r
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> s) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> r)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (qs
            <a href="#composition_cnf" title="composition_cnf">;</a> s))
          </p>

          <hr />
          <p><strong>Conc_composeright_1</strong></p>

          <p>
                set ((p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q)
            <a href="#composition_cnf" title="composition_cnf">;</a> rs) ⊆ set
            (p <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (q
            <a href="#composition_cnf" title="composition_cnf">;</a> rs))
          </p>

          <hr />
          <p><strong>Conc_composeright1_1</strong></p>

          <p>
                set ((p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r)
            <a href="#composition_cnf" title="composition_cnf">;</a> qs) ⊆ set
            ((p <a href="#composition_cnf" title="composition_cnf">;</a> qs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r)
          </p>

          <hr />
          <p><strong>Conc_composeleft1_1</strong></p>

          <p>
                set (qs
            <a href="#composition_cnf" title="composition_cnf">;</a> (p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r)) ⊆ set
            (p <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (qs
            <a href="#composition_cnf" title="composition_cnf">;</a> r))
          </p>

          <hr />
          <p><strong>Conc_composeright_2</strong></p>

          <p>
                set (ps
            <a href="#composition_cnf" title="composition_cnf">;</a> (q
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r)) ⊆ set
            ((ps <a href="#composition_cnf" title="composition_cnf">;</a> q)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r)
          </p>

          <hr />
          <p><strong>Conc_composeleft</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> ((p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q)
            <a href="#composition_cnf" title="composition_cnf">;</a> r) C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (q
            <a href="#composition_cnf" title="composition_cnf">;</a> r)) C
          </p>

          <hr />
          <p><strong>Conc_composeleftright</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> (q
            <a href="#composition_cnf" title="composition_cnf">;</a> (p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r)) C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (q
            <a href="#composition_cnf" title="composition_cnf">;</a> r)) C
          </p>

          <hr />
          <p><strong>Conc_composeright</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> (p
            <a href="#composition_cnf" title="composition_cnf">;</a> (q
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r)) C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ((p
            <a href="#composition_cnf" title="composition_cnf">;</a> q)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r) C
          </p>

          <hr />
          <p><strong>Conc_composerightleft</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> ((p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r)
            <a href="#composition_cnf" title="composition_cnf">;</a> q) C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ((p
            <a href="#composition_cnf" title="composition_cnf">;</a> q)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> r) C
          </p>

          <hr />
          <p><strong>Conc_composegeneral</strong></p>

          <p>
                set (([p]
            <a href="#composition_cnf" title="composition_cnf">;</a> [q])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([u]
            <a href="#composition_cnf" title="composition_cnf">;</a> [v])) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> [u])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> [v]))
          </p>

          <hr />
          <p><strong>Conc_composegeneral</strong></p>

          <p>
                set (([p]
            <a href="#composition_cnf" title="composition_cnf">;</a> [u])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([q]
            <a href="#composition_cnf" title="composition_cnf">;</a> [v])) ⊆ set
            (([p] <a href="#composition_cnf" title="composition_cnf">;</a> [q])
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ([u]
            <a href="#composition_cnf" title="composition_cnf">;</a> [v]))
          </p>

          <hr />
          <p><strong>Conc_composegeneral</strong></p>

          <p>
                set ((p
            <a href="#composition_cnf" title="composition_cnf">;</a> q)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (u
            <a href="#composition_cnf" title="composition_cnf">;</a> v)) ⊆ set
            ((p <a href="#composition_cnf" title="composition_cnf">;</a> u)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (q
            <a href="#composition_cnf" title="composition_cnf">;</a> v))
          </p>

          <hr />
          <p><strong>Conc_composegeneral_1</strong></p>

          <p>
                set ((ps
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q)
            <a href="#composition_cnf" title="composition_cnf">;</a> (r
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> s)) ⊆ set
            ((ps <a href="#composition_cnf" title="composition_cnf">;</a> r)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (q
            <a href="#composition_cnf" title="composition_cnf">;</a> s))
          </p>

          <hr />
          <p><strong>Conc_composegeneral</strong></p>

          <p>
                <a href="#evaluate" title="evaluate">evaluate</a> ((p
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q)
            <a href="#composition_cnf" title="composition_cnf">;</a> (r
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> s)) C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ((p
            <a href="#composition_cnf" title="composition_cnf">;</a> r)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> (q
            <a href="#composition_cnf" title="composition_cnf">;</a> s)) C
          </p>

          <hr />
          <p>    foldl (+) (b::nat) xs = b + foldl (+) 0 xs</p>

          <hr />
          <p><strong>cnf_prop1</strong></p>

          <p>
                <a href="#cnf_concurrency2" title="cnf_concurrency2"
              >cnf_concurrency2</a
            >
            [[x]] [[y]] C =
            <a href="#evaluate" title="evaluate">evaluate</a> ([x]
            <a href="#interleave" title="interleave">⫴</a> [y]) C
          </p>

          <hr />
          <p>
                <a href="#is_rounded" title="is_rounded">is_rounded</a> a ⟹ (a
            <a href="#composition" title="composition">;</a> b)
            <a href="#choice" title="choice">∪</a> (a
            <a href="#composition" title="composition">;</a> c) = a
            <a href="#composition" title="composition">;</a> (b
            <a href="#choice" title="choice">∪</a> c)
          </p>

          <hr />
          <p><strong>cnf2_prop</strong></p>

          <p>
                <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a>
            ([y]#ys) ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            ([y]#ys) ⊆ C ⟹ <a href="#Choice" title="Choice">⋃</a> (map ((λxs.
            <a href="#Concat" title="Concat">Concat</a> xs C) ∘ (#) y) (ys))
            <a href="#equiv" title="equiv">≡</a> y
            <a href="#composition" title="composition">;</a>
            <a href="#Choice" title="Choice">⋃</a> (map (λxs.
            <a href="#Concat" title="Concat">Concat</a> xs C) (ys))
          </p>

          <hr />
          <p><strong>cnf2_prop2</strong></p>

          <p>
                <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a> xs
            ⟹ <a href="#is_feasible" title="is_feasible">is_feasible</a> x ⟹
            <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a> (map
            ((#) x) (xs))
          </p>

          <hr />
          <p><strong>cnf2_prop3</strong></p>

          <p>
                <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a> xs
            ⟹ <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a> ys ⟹
            <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a>
            (xs@ys)
          </p>

          <hr />
          <p><strong>cnf2_prop4</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (xs@ys) ⟹
            <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a> (xs
            <a href="#interleave" title="interleave">⫴</a> ys)
          </p>

          <hr />
          <p><strong>cnf2_prop5</strong></p>

          <p>
                xs ≠ [ ] ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (map ((#) x) xs) = <a href="#S" title="S">S</a> x ∪
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs
          </p>

          <hr />
          <p><strong>cnf2_prop6</strong></p>

          <p>
                <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            xs ∪
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            ys =
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xs@ys)
          </p>

          <hr />
          <p><strong>cnf2_prop7</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            xs ∪
            <a href="#complete_state" title="complete_state">complete_state</a>
            ys =
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xs <a href="#interleave" title="interleave">⫴</a> ys)
          </p>

          <hr />
          <p><strong>cnf2_prop8</strong></p>

          <p>
                <a href="#S" title="S">S</a> y ⊆ C ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> y ⟹
            <a href="#Choice" title="Choice">⋃</a> (map ((λxs.
            <a href="#Concat" title="Concat">Concat</a> xs C) ∘ (#) y) ys)
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> (map (λxs. y
            <a href="#composition" title="composition">;</a>
            <a href="#Concat" title="Concat">Concat</a> xs C) ys)
          </p>

          <hr />
          <p><strong>cnf2_prop9</strong></p>

          <p>
                <a href="#Choice" title="Choice">⋃</a> (map (λxs. y
            <a href="#composition" title="composition">;</a>
            <a href="#Concat" title="Concat">Concat</a> xs C) xs)
            <a href="#equiv" title="equiv">≡</a> y
            <a href="#composition" title="composition">;</a>
            <a href="#Choice" title="Choice">⋃</a> (map (λxs.
            <a href="#Concat" title="Concat">Concat</a> xs C) xs)
          </p>

          <hr />
          <p><strong>cnf2_prop10</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> y ⟹
            <a href="#S" title="S">S</a> y ⊆ C ⟹ y
            <a href="#composition" title="composition">;</a>
            <a href="#Choice" title="Choice">⋃</a> (map (λxs.
            <a href="#Concat" title="Concat">Concat</a> xs C) ([x]
            <a href="#interleave" title="interleave">⫴</a> ys))
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> (map ((λxs.
            <a href="#Concat" title="Concat">Concat</a> xs C) ∘ (#) y) ([x]
            <a href="#interleave" title="interleave">⫴</a> ys))
          </p>

          <hr />
          <p><strong>cnf2_prop11</strong></p>

          <p>
                size xs = size ys ⟹ ∀z ∈ set (zip xs ys). fst z
            <a href="#equiv" title="equiv">≡</a> snd z ⟹
            <a href="#Choice" title="Choice">⋃</a> xs
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> ys
          </p>

          <hr />
          <p><strong>cnf2_prop12</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> x ⟹
            <a href="#S" title="S">S</a> x ⊆ C ⟹
            <a href="#evaluate" title="evaluate">evaluate</a> (map ((#) x) xs) C
            <a href="#equiv" title="equiv">≡</a> x
            <a href="#composition" title="composition">;</a>
            <a href="#evaluate" title="evaluate">evaluate</a> xs C
          </p>

          <hr />
          <p><strong>cnf_prop5</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (xs@ys) ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            (xs@ys) ⊆ C ⟹
            <a href="#cnf_concurrency2" title="cnf_concurrency2"
              >cnf_concurrency2</a
            >
            [xs] [ys] C <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (xs
            <a href="#interleave" title="interleave">⫴</a> ys) C
          </p>

          <hr />
          <p><strong>cnf_prop3</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (x#ys) ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            (x#ys) ⊆ C ⟹
            <a href="#cnf_concurrency2" title="cnf_concurrency2"
              >cnf_concurrency2</a
            >
            [[x]] [ys] C <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ([x]
            <a href="#interleave" title="interleave">⫴</a> ys) C
          </p>

          <hr />
          <p><strong>cnf2_prop13</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (x#xs@[y]) ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            (x#xs@[y]) ⊆ C ⟹ x <a href="#composition" title="composition">;</a>
            <a href="#cnf_concurrency2" title="cnf_concurrency2"
              >cnf_concurrency2</a
            >
            [xs] [[y]] C <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (map ((#) x) (xs
            <a href="#interleave" title="interleave">⫴</a> [y])) C
          </p>

          <hr />
          <p><strong>cnf2_prop14</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (xs@ys) ⟹
            <a href="#complete_state" title="complete_state">complete_state</a>
            (xs@ys) ⊆ C ⟹
            <a href="#cnf_concurrency2" title="cnf_concurrency2"
              >cnf_concurrency2</a
            >
            [xs] [ys] C <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> ([xs]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> [ys]) C
          </p>

          <hr />
          <p><strong>cnf2_prop15</strong></p>

          <p>
                <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a>
            (x#ys) ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (x#ys) ⊆ C ⟹
            <a href="#cnf_concurrency2" title="cnf_concurrency2"
              >cnf_concurrency2</a
            >
            [x] ys C <a href="#equiv" title="equiv">≡</a> evaluate(concat (map
            ((<a href="#interleave" title="interleave">⫴</a>) x) ys)) C
          </p>

          <hr />
          <p><strong>cnf2_prop16</strong></p>

          <p>
                <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a>
            (xs @ ys) ⟹
            <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a> ys
          </p>

          <hr />
          <p><strong>cnf2_prop17</strong></p>

          <p>
                <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a>
            (xs @ ys) ⟹
            <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a> xs
          </p>

          <hr />
          <p>
                <a href="#cnf_feasible" title="cnf_feasible">cnf_feasible</a>
            (xs @ ys) ⟹
            <a href="#complete_cnf_state" title="complete_cnf_state"
              >complete_cnf_state</a
            >
            (xs @ ys) ⊆ C ⟹
            <a href="#cnf_concurrency2" title="cnf_concurrency2"
              >cnf_concurrency2</a
            >
            xs ys C <a href="#equiv" title="equiv">≡</a>
            <a href="#evaluate" title="evaluate">evaluate</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> ys) C
          </p>

          <hr />
          <h2 id="complex_operation_interactionsthy">
            Complex_operation_interactions.thy
          </h2>

          <p><strong>cond_distrib2_1</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p),
            (C<sub>2</sub>, q)] <a href="#restrict_p" title="restrict_p">/</a> D
            <a href="#equal" title="equal">=</a>
            <a href="#GC" title="GC">GC</a> [((D ∩ C<sub>1</sub>), p), ((D ∩
            C<sub>2</sub>), q)]
          </p>

          <hr />
          <p><strong>Cond_distrib2_2</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p),
            (C<sub>2</sub>, q)] <a href="#restrict_p" title="restrict_p">/</a> D
            <a href="#equiv" title="equiv">≡</a>
            <a href="#GC" title="GC">GC</a> [((D ∩ C<sub>1</sub>), p), ((D ∩
            C<sub>2</sub>), q)]
          </p>

          <hr />
          <p><strong>restriction_ite</strong></p>

          <p>
                (<a href="#ITE" title="ITE">ITE</a> C a b)
            <a href="#restrict_p" title="restrict_p">/</a> D = (<a
              href="#ITE"
              title="ITE"
              >ITE</a
            >
            C (a/D) (b/D))
          </p>

          <hr />
          <p><strong>restriction_ite</strong></p>

          <p>
                (<a href="#ITE" title="ITE">ITE</a> C a b)
            <a href="#restrict_p" title="restrict_p">/</a> D
            <a href="#equal" title="equal">=</a> (<a href="#ITE" title="ITE"
              >ITE</a
            >
            C (a/D) (b/D))
          </p>

          <hr />
          <p><strong>restriction_ite</strong></p>

          <p>
                (<a href="#ITE" title="ITE">ITE</a> C a b)
            <a href="#restrict_p" title="restrict_p">/</a> D
            <a href="#equiv" title="equiv">≡</a> (<a href="#ITE" title="ITE"
              >ITE</a
            >
            C (a/D) (b/D))
          </p>

          <hr />
          <p><strong>restriction_fixed_repetition_1</strong></p>

          <p>
                0&lt;n ⟹ (p<sup>n + 1</sup>)
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#equiv" title="equiv">≡</a> (p
            <a href="#restrict_p" title="restrict_p">/</a> C)
            <a href="#composition" title="composition">;</a> (p<sup>n</sup>)
          </p>

          <hr />
          <p><strong>restriction_fixed_repetition_2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            (p<sup>n</sup>) <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#equiv" title="equiv">≡</a> (<a href="#Skip" title="Skip"
              >Skip</a
            >
            (<a href="#S" title="S">S</a> p)
            <a href="#restrict_p" title="restrict_p">/</a> C)
            <a href="#composition" title="composition">;</a> (p<sup>n</sup>)
          </p>

          <hr />
          <p><strong>restriction_fixed_repetition_3</strong></p>

          <p>
                (p<sup>n</sup>) <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#equiv" title="equiv">≡</a> (<a href="#Skip" title="Skip"
              >Skip</a
            >
            C) <a href="#composition" title="composition">;</a> (p<sup>n</sup>)
          </p>

          <hr />
          <p>
                <a href="#loop" title="loop">loop</a> p s f
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Skip" title="Skip">Skip</a> C
            <a href="#composition" title="composition">;</a>
            <a href="#loop" title="loop">loop</a> p s f
          </p>

          <hr />
          <p><strong>cond_distrib1_gc_1</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p<sub>1</sub>),
            (C<sub>2</sub>, (p<sub>2</sub>
            <a href="#choice" title="choice">∪</a> p<sub>3</sub>))]
            <a href="#equal" title="equal">=</a> (<a href="#GC" title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p<sub>1</sub>), (C<sub>2</sub>, p<sub>2</sub>)])
            <a href="#choice" title="choice">∪</a> (<a href="#GC" title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p<sub>1</sub>), (C<sub>2</sub>, p<sub>3</sub>)])
          </p>

          <hr />
          <p><strong>cond_distrib1_gc_2</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p<sub>1</sub>),
            (C<sub>2</sub>, (p<sub>2</sub>
            <a href="#choice" title="choice">∪</a> p<sub>3</sub>))]
            <a href="#equiv" title="equiv">≡</a> (<a href="#GC" title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p<sub>1</sub>), (C<sub>2</sub>, p<sub>2</sub>)])
            <a href="#choice" title="choice">∪</a> (<a href="#GC" title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p<sub>1</sub>), (C<sub>2</sub>, p<sub>3</sub>)])
          </p>

          <hr />
          <p><strong>cond_distrib1_gc_3</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>3</sub>)),
            (C<sub>2</sub>, p<sub>2</sub>)]
            <a href="#equal" title="equal">=</a>
            <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p<sub>1</sub>), (
            C<sub>2</sub>, p<sub>2</sub>)]
            <a href="#choice" title="choice">∪</a>
            <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p<sub>3</sub>), (
            C<sub>2</sub>, p<sub>2</sub>)]
          </p>

          <hr />
          <p><strong>cond_distrib1_gc_4</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>3</sub>)), (
            C<sub>2</sub>, p<sub>2</sub>)] <a href="#equiv" title="equiv">≡</a>
            <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p<sub>1</sub>), (
            C<sub>2</sub>, p<sub>2</sub>)]
            <a href="#choice" title="choice">∪</a>
            <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p<sub>3</sub>), (
            C<sub>2</sub>, p<sub>2</sub>)]
          </p>

          <hr />
          <p><strong>cond_distrib1_ite_1</strong></p>

          <p>
                (<a href="#ITE" title="ITE">ITE</a> C p<sub>1</sub> (p<sub
              >2</sub
            >
            <a href="#choice" title="choice">∪</a> p<sub>3</sub>))
            <a href="#equal" title="equal">=</a> (<a href="#ITE" title="ITE"
              >ITE</a
            >
            C p<sub>1</sub> p<sub>2</sub>)
            <a href="#choice" title="choice">∪</a> (<a href="#ITE" title="ITE"
              >ITE</a
            >
            C p<sub>1</sub> p<sub>3</sub>)
          </p>

          <hr />
          <p><strong>cond_distrib1_ite_2</strong></p>

          <p>
                (<a href="#ITE" title="ITE">ITE</a> C p<sub>1</sub> (p<sub
              >2</sub
            >
            <a href="#choice" title="choice">∪</a> p<sub>3</sub>))
            <a href="#equiv" title="equiv">≡</a> (<a href="#ITE" title="ITE"
              >ITE</a
            >
            C p<sub>1</sub> p<sub>2</sub>)
            <a href="#choice" title="choice">∪</a> (<a href="#ITE" title="ITE"
              >ITE</a
            >
            C p<sub>1</sub> p<sub>3</sub>)
          </p>

          <hr />
          <p><strong>cond_distrib1_ite_3</strong></p>

          <p>
                (<a href="#ITE" title="ITE">ITE</a> C (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>) p<sub>3</sub>)
            <a href="#equal" title="equal">=</a> (<a href="#ITE" title="ITE"
              >ITE</a
            >
            C p<sub>1</sub> p<sub>3</sub>)
            <a href="#choice" title="choice">∪</a> (<a href="#ITE" title="ITE"
              >ITE</a
            >
            C p<sub>2</sub> p<sub>3</sub>)
          </p>

          <hr />
          <p><strong>cond_distrib1_ite_4</strong></p>

          <p>
                (<a href="#ITE" title="ITE">ITE</a> C (p<sub>1</sub>
            <a href="#choice" title="choice">∪</a> p<sub>2</sub>) p<sub>3</sub>)
            <a href="#equiv" title="equiv">≡</a> (<a href="#ITE" title="ITE"
              >ITE</a
            >
            C p<sub>1</sub> p<sub>3</sub>)
            <a href="#choice" title="choice">∪</a> (<a href="#ITE" title="ITE"
              >ITE</a
            >
            C p<sub>2</sub> p<sub>3</sub>)
          </p>

          <hr />
          <p><strong>guard_ifthenelse</strong></p>

          <p>
                <a href="#ITE" title="ITE">ITE</a> C p<sub>1</sub> p<sub>2</sub>
            = <a href="#GC" title="GC">GC</a> [(C, p<sub>1</sub>), ((-C),
            p<sub>2</sub>)]
          </p>

          <hr />
          <p><strong>until_def_lemma</strong></p>

          <p>
                <a href="#until_loop" title="until_loop">until_loop</a> a C b n
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> (<a
              href="#loop"
              title="loop"
              >loop</a
            >
            (b/(-C)) 0 n)∖C
          </p>

          <hr />
          <h2 id="fixed_repetitionthy">Fixed_repetition.thy</h2>

          <p><strong>state_space_is_same</strong></p>

          <p>
                <a href="#S" title="S">S</a> p = <a href="#S" title="S">S</a> (p
            <a href="#fixed_repetition" title="fixed_repetition"
              ><sup>«/sup&gt;/a&gt; n)</sup></a
            >
          </p>

          <hr />
          <p><strong>state_space_is_same2</strong></p>

          <p>    State (p<sup>n</sup>) = <a href="#S" title="S">S</a> p</p>

          <hr />
          <p><strong>fixed_pre_decreases</strong></p>

          <p>    Pre (p<sup>n + 1</sup>) ⊆ Pre (p<sup>n</sup>)</p>

          <hr />
          <p><strong>fixed_rep_one_1</strong></p>

          <p>
                p<sup>1</sup> <a href="#equiv" title="equiv">≡</a> p
            <a href="#restrict_p" title="restrict_p">/</a> (Pre p)
          </p>

          <hr />
          <p><strong>fixed_rep_one_2</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            p<sup>1</sup> <a href="#equiv" title="equiv">≡</a> p
          </p>

          <hr />
          <p><strong>fixed_rep_one_3</strong></p>

          <p>
                x <a href="#composition" title="composition">;</a> p<sup>1</sup>
            <a href="#equiv" title="equiv">≡</a> x
            <a href="#composition" title="composition">;</a> p
          </p>

          <hr />
          <p><strong>fixed_rep_two_1</strong></p>

          <p>
                p<sup>2</sup> <a href="#equiv" title="equiv">≡</a> p
            <a href="#composition" title="composition">;</a> p
          </p>

          <hr />
          <p><strong>fixed_rep_decomp_front</strong></p>

          <p>
                0&lt;i ⟹ p<sup>i + 1</sup>
            <a href="#equiv" title="equiv">≡</a> p
            <a href="#composition" title="composition">;</a> p<sup>i</sup>
          </p>

          <hr />
          <p><strong>fixed_rep_decomp_back</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            p<sup>i + 1</sup> <a href="#equiv" title="equiv">≡</a> p<sup>i</sup>
            <a href="#composition" title="composition">;</a> p
          </p>

          <hr />
          <p><strong>fixed_rep_feasibility</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a>
            (p<sup>n</sup>)
          </p>

          <hr />
          <p><strong>fixed_rep_prop_2</strong></p>

          <p>
                p<sup>i + 1</sup> <a href="#equiv" title="equiv">≡</a> p<sup
              >i</sup
            >
            <a href="#composition" title="composition">;</a> p
          </p>

          <hr />
          <p><strong>range_decreases_fixed_repetition</strong></p>

          <p>
                0 &lt; n ⟹ <a href="#Range_p" title="Range_p">Range_p</a> (x
            <a href="#fixed_repetition" title="fixed_repetition"
              ><sup
                >«/sup&gt;/a&gt; n) ⊆
                <a href="#Range_p" title="Range_p">Range_p</a> x</sup
              ></a
            >
          </p>

          <hr />
          <p><strong>range_decreases_fixed_repetition_2</strong></p>

          <p>
                0 &lt; n ⟹ <a href="#Range_p" title="Range_p">Range_p</a> (x
            <a href="#fixed_repetition" title="fixed_repetition"
              ><sup
                >«/sup&gt;/a&gt; n + 1) ⊆
                <a href="#Range_p" title="Range_p">Range_p</a> (x
                <a href="#fixed_repetition" title="fixed_repetition"
                  ><sup>«/sup&gt;/a&gt; n)</sup></a
                ></sup
              ></a
            >
          </p>

          <hr />
          <p><strong>fixed_prop</strong></p>

          <p>
                x<sup>1</sup> = <a href="#Skip" title="Skip">Skip</a> (Pre x)
            <a href="#composition" title="composition">;</a> x
          </p>

          <hr />
          <p><strong>skip_choice</strong></p>

          <p>
                <a href="#Skip" title="Skip">Skip</a> (Pre x)
            <a href="#composition" title="composition">;</a> x
            <a href="#choice" title="choice">∪</a>
            <a href="#Skip" title="Skip">Skip</a> (Pre y)
            <a href="#composition" title="composition">;</a> y =
            <a href="#Skip" title="Skip">Skip</a> (Pre x ∪ Pre y)
            <a href="#composition" title="composition">;</a> (x
            <a href="#choice" title="choice">∪</a> y)
          </p>

          <hr />
          <p><strong>comp_prop</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> a ∩ Pre d = {} ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> c ∩ Pre b = {} ⟹ a
            <a href="#composition" title="composition">;</a> b
            <a href="#choice" title="choice">∪</a> c
            <a href="#composition" title="composition">;</a> d = (a
            <a href="#choice" title="choice">∪</a> c)
            <a href="#composition" title="composition">;</a> (b
            <a href="#choice" title="choice">∪</a> d)
          </p>

          <hr />
          <p><strong>arbitrary_repetition_simplification</strong></p>

          <p>
                0&lt;n ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a> [x,y]
            ⟹ <a href="#Range_p" title="Range_p">Range_p</a> x ∩ Pre y = {} ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> y ∩ Pre x = {} ⟹
            x<sup>n</sup> <a href="#choice" title="choice">∪</a> y<sup>n</sup> =
            (x <a href="#choice" title="choice">∪</a> y)<sup>n</sup>
          </p>

          <hr />
          <p><strong>arbitrary_repetition_simplification2</strong></p>

          <p>
                0&lt;n ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a> [x,y]
            ⟹ <a href="#Range_p" title="Range_p">Range_p</a> x ∩ Pre y = {} ⟹
            <a href="#Range_p" title="Range_p">Range_p</a> y ∩ Pre x = {} ⟹
            x<sup>n</sup> <a href="#choice" title="choice">∪</a> y<sup>n</sup>
            <a href="#equiv" title="equiv">≡</a> (x
            <a href="#choice" title="choice">∪</a> y)<sup>n</sup>
          </p>

          <hr />
          <p><strong>equality_is_maintained_by_fixed_repetition</strong></p>

          <p>
                p<sub>1</sub> <a href="#equal" title="equal">=</a> p<sub>2</sub>
            ⟹ p<sub>1</sub><sup>n</sup>
            <a href="#equal" title="equal">=</a> p<sub>2</sub><sup>n</sup>
          </p>

          <hr />
          <p><strong>equiv_is_maintained_by_fixed_repetition</strong></p>

          <p>
                0&lt;n ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹ p<sub>1</sub>
            <a href="#equiv" title="equiv">≡</a> p<sub>2</sub> ⟹ p<sub>1</sub
            ><sup>n</sup> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub
            ><sup>n</sup>
          </p>

          <hr />
          <p><strong>skip_compose_r_of_fixed_rep_1</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            p<sup>n</sup> <a href="#equiv" title="equiv">≡</a> p<sup>n</sup>
            <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p)
          </p>

          <hr />
          <p><strong>skip_compose_l_of_fixed_rep_1</strong></p>

          <p>
                p<sup>n</sup> <a href="#equiv" title="equiv">≡</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#composition" title="composition">;</a> p<sup>n</sup>
          </p>

          <hr />
          <p><strong>fail_stays_fail_fixed</strong></p>

          <p>
                p<sup>n</sup> <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ⟹ p<sup>n</sup> + 1
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>repetition_fail</strong></p>

          <p>
                i&lt;j ⟹ p<sup>i</sup> <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ⟹ p<sup>j</sup>
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>fix_rep_prop1</strong></p>

          <p>
                0&lt;i ⟹ p<sup>i</sup> =
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            p) <a href="#restrict_p" title="restrict_p">/</a> (Pre p)
            <a href="#composition" title="composition">;</a>
            <a href="#Concat" title="Concat">Concat</a> [p . t ← [1 .. int i]]
            (<a href="#S" title="S">S</a> p)
          </p>

          <hr />
          <p><strong>fix_rep_prop2</strong></p>

          <p>
                p<sup>i</sup> = <a href="#Concat" title="Concat">Concat</a> ((<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            (<a href="#S" title="S">S</a> p)
            <a href="#restrict_p" title="restrict_p">/</a> (Pre p))#[p . t ← [1
            .. int i]]) (<a href="#S" title="S">S</a> p)
          </p>

          <hr />
          <h2 id="guarded_conditionalthy">Guarded_conditional.thy</h2>

          <p><strong>gc_S</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a href="#GC" title="GC">GC</a>
            ((C,p)#xs)) = <a href="#S" title="S">S</a> p ∪
            <a href="#S" title="S">S</a> (<a href="#GC" title="GC">GC</a> xs)
          </p>

          <hr />
          <p><strong>gc_S_1</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a href="#GC" title="GC">GC</a>
            (xs)) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            ([snd t. t ← (xs)])
          </p>

          <hr />
          <p><strong>cond_helper_1</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> (x#xs) =
            <a href="#GC" title="GC">GC</a> (xs @ [x])
          </p>

          <hr />
          <p><strong>cond_helper_2</strong></p>

          <p>
                xs≠[ ] ⟹ <a href="#GC" title="GC">GC</a> (x#xs) =
            <a href="#GC" title="GC">GC</a> [x]
            <a href="#choice" title="choice">∪</a>
            <a href="#GC" title="GC">GC</a> xs
          </p>

          <hr />
          <p><strong>cond_helper_3</strong></p>

          <p>
                a ≠[ ] ⟹ b≠ [ ] ⟹ <a href="#GC" title="GC">GC</a> (a@b) =
            <a href="#GC" title="GC">GC</a> a
            <a href="#choice" title="choice">∪</a>
            <a href="#GC" title="GC">GC</a> b
          </p>

          <hr />
          <p><strong>cond_commute</strong></p>

          <p>
                xs ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ys) ⟹ <a href="#GC" title="GC">GC</a> xs =
            <a href="#GC" title="GC">GC</a> ys
          </p>

          <hr />
          <p><strong>cond_sub1</strong></p>

          <p>
                D<sub>1</sub> ⊆ C<sub>1</sub> ⟹ D<sub>2</sub> ⊆ C<sub>2</sub> ⟹
            (<a href="#GC" title="GC">GC</a> [(D<sub>1</sub>, p),
            (D<sub>2</sub>, q)])
            <a href="#specialize" title="specialize">⊆</a> (<a
              href="#GC"
              title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p), (C<sub>2</sub>, q)])
          </p>

          <hr />
          <p><strong>property_on_gc_3</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>] ⟹
            <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p<sub>1</sub>),
            (C<sub>2</sub>, p<sub>2</sub>)]
            <a href="#refines" title="refines">⊑</a> p<sub>1</sub>
            <a href="#restrict_p" title="restrict_p">/</a> C<sub>1</sub>
          </p>

          <hr />
          <p><strong>property_on_gc_3_1</strong></p>

          <p>
                <a href="#weakens" title="weakens">weakens</a> (<a
              href="#GC"
              title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p<sub>1</sub>), (C<sub>2</sub>, p<sub>2</sub>)])
            (p<sub>1</sub>
            <a href="#restrict_p" title="restrict_p">/</a> C<sub>1</sub>)
          </p>

          <hr />
          <p><strong>property_on_gc_3_2</strong></p>

          <p>
                <a href="#strengthens" title="strengthens">strengthens</a>
            (p<sub>1</sub>
            <a href="#restrict_p" title="restrict_p">/</a> C<sub>1</sub>) (<a
              href="#GC"
              title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p<sub>1</sub>), (C<sub>2</sub>, p<sub>2</sub>)])
          </p>

          <hr />
          <p><strong>cond_sub4</strong></p>

          <p>
                (p<sub>1</sub>
            <a href="#restrict_p" title="restrict_p">/</a> C<sub>1</sub>)
            <a href="#specialize" title="specialize">⊆</a> (<a
              href="#GC"
              title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p<sub>1</sub>), (C<sub>2</sub>, p<sub>2</sub>)])
          </p>

          <hr />
          <p><strong>refinement_safety_gc_1</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p, q] ⟹ D<sub>1</sub> ⊆ C<sub>1</sub> ⟹ D<sub>2</sub> ⊆ C<sub
              >2</sub
            >
            ⟹ <a href="#GC" title="GC">GC</a> [(D<sub>1</sub>, p),
            (D<sub>2</sub>, q)] <a href="#refines" title="refines">⊑</a>
            <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p), (C<sub>2</sub>,
            q)]
          </p>

          <hr />
          <p><strong>refinement_safety_gc_2</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p, q] ⟹ D<sub>1</sub> ⊆ C<sub>1</sub> ⟹ D<sub>2</sub> ⊆ C<sub
              >2</sub
            >
            ⟹ <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p),
            (C<sub>2</sub>, q)] <a href="#refines" title="refines">⊑</a>
            <a href="#GC" title="GC">GC</a> [(D<sub>1</sub>, p), (D<sub>2</sub>,
            q)]
          </p>

          <hr />
          <p><strong>refinement_safety_gc_weakens</strong></p>

          <p>
                D<sub>1</sub> ⊆ C<sub>1</sub> ⟹ D<sub>2</sub> ⊆ C<sub>2</sub> ⟹
            <a href="#weakens" title="weakens">weakens</a> (<a
              href="#GC"
              title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p), (C<sub>2</sub>, q)]) (<a href="#GC" title="GC"
              >GC</a
            >
            [(D<sub>1</sub>, p), (D<sub>2</sub>, q)])
          </p>

          <hr />
          <p><strong>refinement_safety_gc_strengthens</strong></p>

          <p>
                D<sub>1</sub> ⊆ C<sub>1</sub> ⟹ D<sub>2</sub> ⊆ C<sub>2</sub> ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> (<a
              href="#GC"
              title="GC"
              >GC</a
            >
            [(D<sub>1</sub>, p), (D<sub>2</sub>, q)]) (<a href="#GC" title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p), (C<sub>2</sub>, q)])
          </p>

          <hr />
          <p><strong>cond_refine1</strong></p>

          <p>
                D<sub>1</sub> ⊆ C<sub>1</sub> ⟹ D<sub>2</sub> ⊆ C<sub>2</sub> ⟹
            (<a href="#GC" title="GC">GC</a> [(D<sub>1</sub>, p),
            (D<sub>2</sub>, q)]) <a href="#refines" title="refines">⊑</a> (<a
              href="#GC"
              title="GC"
              >GC</a
            >
            [(C<sub>1</sub>, p), (C<sub>2</sub>, q)])
          </p>

          <hr />
          <p><strong>cond_refine2</strong></p>

          <p>
                q<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >1</sub
            >
            ⟹ q<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ <a href="#GC" title="GC">GC</a> [(C, q<sub>1</sub>), (C,
            q<sub>2</sub>)] <a href="#refines" title="refines">⊑</a>
            <a href="#GC" title="GC">GC</a> [(C, p<sub>1</sub>), (C,
            p<sub>2</sub>)]
          </p>

          <hr />
          <p><strong>refinement_safety_gc_3</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>, q<sub>1</sub>, q<sub>2</sub>] ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> q<sub
              >1</sub
            >
            p<sub>2</sub> ⟹
            <a href="#strengthens" title="strengthens">strengthens</a> q<sub
              >2</sub
            >
            p<sub>1</sub> ⟹ q<sub>1</sub>
            <a href="#refines" title="refines">⊑</a> p<sub>1</sub> ⟹ q<sub
              >2</sub
            >
            <a href="#refines" title="refines">⊑</a> p<sub>2</sub> ⟹
            <a href="#GC" title="GC">GC</a> [(C, q<sub>1</sub>), (C,
            q<sub>2</sub>)] <a href="#refines" title="refines">⊑</a>
            <a href="#GC" title="GC">GC</a> [(C, p<sub>1</sub>), (C,
            p<sub>2</sub>)]
          </p>

          <hr />
          <p><strong>refinement_safety_gc_4</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [p<sub>1</sub>, p<sub>2</sub>, q<sub>1</sub>, q<sub>2</sub>] ⟹
            <a href="#independent" title="independent">independent</a> q<sub
              >1</sub
            >
            p<sub>2</sub> ⟹
            <a href="#independent" title="independent">independent</a> q<sub
              >2</sub
            >
            p<sub>1</sub> ⟹ q<sub>1</sub>
            <a href="#refines" title="refines">⊑</a> p<sub>1</sub> ⟹ q<sub
              >2</sub
            >
            <a href="#refines" title="refines">⊑</a> p<sub>2</sub> ⟹
            <a href="#GC" title="GC">GC</a> [(C, q<sub>1</sub>), (C,
            q<sub>2</sub>)] <a href="#refines" title="refines">⊑</a>
            <a href="#GC" title="GC">GC</a> [(C, p<sub>1</sub>), (C,
            p<sub>2</sub>)]
          </p>

          <hr />
          <p><strong>cond_refine4</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> [(C<sub>1</sub>, p<sub>1</sub>),
            (C<sub>2</sub>, p<sub>2</sub>)]
            <a href="#refines" title="refines">⊑</a> p<sub>1</sub>
            <a href="#restrict_p" title="restrict_p">/</a> C<sub>1</sub>
          </p>

          <hr />
          <p><strong>cond_sub2</strong></p>

          <p>
                q<sub>1</sub>
            <a href="#specialize" title="specialize">⊆</a> p<sub>1</sub> ⟹ q<sub
              >2</sub
            >
            <a href="#specialize" title="specialize">⊆</a> p<sub>2</sub> ⟹
            <a href="#GC" title="GC">GC</a> [(C, q<sub>1</sub>), (C,
            q<sub>2</sub>)] <a href="#specialize" title="specialize">⊆</a>
            <a href="#GC" title="GC">GC</a> [(C, p<sub>1</sub>), (C,
            p<sub>2</sub>)]
          </p>

          <hr />
          <p><strong>cond_distrib</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> xs
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#GC" title="GC">GC</a> [(fst t ∩ C, snd t) . t ← xs]
          </p>

          <hr />
          <p><strong>GC_prop_22</strong></p>

          <p>
                a <a href="#choice" title="choice">∪</a>
            <a href="#GC" title="GC">GC</a> (x#xs) = a
            <a href="#choice" title="choice">∪</a> (<a href="#GC" title="GC"
              >GC</a
            >
            [x] <a href="#choice" title="choice">∪</a>
            <a href="#GC" title="GC">GC</a> xs)
          </p>

          <hr />
          <p><strong>gc_prop1</strong></p>

          <p>
                <a href="#S" title="S">S</a> (snd x) ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            (map snd xs) ⟹ fst x = <a href="#FALSE" title="FALSE">FALSE</a> ⟹ 1
            &lt; length xs ⟹ <a href="#GC" title="GC">GC</a> (x # xs) =
            <a href="#GC" title="GC">GC</a> xs
          </p>

          <hr />
          <p><strong>gc_prop2</strong></p>

          <p>
                <a href="#S" title="S">S</a> (snd x) ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            (map snd (a@b)) ⟹ fst x = <a href="#FALSE" title="FALSE">FALSE</a> ⟹
            size (a@b) &gt; 1 ⟹ <a href="#GC" title="GC">GC</a> (a@x#b) =
            GC(a@b)
          </p>

          <hr />
          <p><strong>if_false2</strong></p>

          <p>
                fst x = <a href="#FALSE" title="FALSE">FALSE</a> ⟹
            <a href="#GC" title="GC">GC</a> (a@x#b)
            <a href="#equiv" title="equiv">≡</a> GC(a@b)
          </p>

          <hr />
          <p><strong>gc_prop4</strong></p>

          <p>
                <a href="#S" title="S">S</a> (snd x) ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            (map snd (a@b)) ⟹ fst x = <a href="#FALSE" title="FALSE">FALSE</a> ⟹
            size (a@b) = 0 ⟹ <a href="#GC" title="GC">GC</a> (a@x#b) = GC(a@b)
          </p>

          <hr />
          <p><strong>fail_choice</strong></p>

          <p>
                <a href="#S" title="S">S</a> q ⊆ <a href="#S" title="S">S</a> p
            ⟹ q <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ⟹ q
            <a href="#choice" title="choice">∪</a> p =
            <a href="#Fail" title="Fail">Fail</a> {}
            <a href="#choice" title="choice">∪</a> p
          </p>

          <hr />
          <p><strong>gc_prop5</strong></p>

          <p>
                <a href="#S" title="S">S</a> (snd x) ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            (map snd (a@b)) ⟹ fst x = <a href="#FALSE" title="FALSE">FALSE</a> ⟹
            size (a@b) = 1 ⟹ <a href="#GC" title="GC">GC</a> (a@x#b) =
            <a href="#Fail" title="Fail">Fail</a> {}
            <a href="#choice" title="choice">∪</a> GC(a@b)
          </p>

          <hr />
          <p><strong>cond_one</strong></p>

          <p>    <a href="#GC" title="GC">GC</a> [(C,p)] = p/C</p>

          <hr />
          <p><strong>gc_prop6</strong></p>

          <p>
                x <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#GC" title="GC">GC</a> ((C,x) # xs)
          </p>

          <hr />
          <p><strong>gc_prop7</strong></p>

          <p>
                <a href="#GC" title="GC">GC</a> a
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#GC" title="GC">GC</a> (a@b)
          </p>

          <hr />
          <p><strong>cond_sub3</strong></p>

          <p>
                (C, x) ∈ set (xs) ⟹ x/C
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#GC" title="GC">GC</a> xs
          </p>

          <hr />
          <h2 id="if_then_elsethy">If_then_else.thy</h2>

          <p><strong>ite_S</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a href="#ITE" title="ITE">ITE</a>
            C q<sub>1</sub> q<sub>2</sub>) = <a href="#S" title="S">S</a> q<sub
              >1</sub
            >
            ∪ <a href="#S" title="S">S</a> q<sub>2</sub>
          </p>

          <hr />
          <p><strong>cond_swap</strong></p>

          <p>
                <a href="#ITE" title="ITE">ITE</a> C p<sub>1</sub> p<sub>2</sub>
            = <a href="#ITE" title="ITE">ITE</a> (-C) p<sub>2</sub> p<sub
              >1</sub
            >
          </p>

          <hr />
          <p><strong>property_on_ite_2</strong></p>

          <p>
                Pre (p <a href="#restrict_p" title="restrict_p">/</a> C) = Pre
            (<a href="#ITE" title="ITE">ITE</a> C p (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            (<a href="#S" title="S">S</a> p)))
          </p>

          <hr />
          <p><strong>cond_refine3</strong></p>

          <p>
                q<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >1</sub
            >
            ⟹ q<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ <a href="#ITE" title="ITE">ITE</a> C q<sub>1</sub> q<sub>2</sub>
            <a href="#refines" title="refines">⊑</a>
            <a href="#ITE" title="ITE">ITE</a> C p<sub>1</sub> p<sub>2</sub>
          </p>

          <hr />
          <p><strong>cond_refine4</strong></p>

          <p>
                q<sub>1</sub>
            <a href="#specialize" title="specialize">⊆</a> p<sub>1</sub> ⟹ q<sub
              >2</sub
            >
            <a href="#specialize" title="specialize">⊆</a> p<sub>2</sub> ⟹
            <a href="#ITE" title="ITE">ITE</a> C q<sub>1</sub> q<sub>2</sub>
            <a href="#specialize" title="specialize">⊆</a>
            <a href="#ITE" title="ITE">ITE</a> C p<sub>1</sub> p<sub>2</sub>
          </p>

          <hr />
          <h2 id="non_atomic_concurrencythy">Non_atomic_concurrency.thy</h2>

          <p><strong>non_atomic_prop1</strong></p>

          <p>
                [ ] <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x =
            x
          </p>

          <hr />
          <p><strong>non_atomic_prop2</strong></p>

          <p>
                ((a # xs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
            <a href="#choice" title="choice">∪</a>
            <a href="#Concat" title="Concat">Concat</a> (x#a#xs)
          </p>

          <hr />
          <p><strong>compose_distrib</strong></p>

          <p>
                (b <a href="#choice" title="choice">∪</a> (a
            <a href="#composition" title="composition">;</a> c
            <a href="#choice" title="choice">∪</a> a
            <a href="#composition" title="composition">;</a> d)) = (b
            <a href="#choice" title="choice">∪</a> a
            <a href="#composition" title="composition">;</a> (c
            <a href="#choice" title="choice">∪</a> d))
          </p>

          <hr />
          <p><strong>concur_two</strong></p>

          <p>
                [a]∥b = a <a href="#composition" title="composition">;</a> b
            <a href="#choice" title="choice">∪</a> b
            <a href="#composition" title="composition">;</a> a
          </p>

          <hr />
          <p><strong>concur_commute</strong></p>

          <p>    [a]∥b = ([b]∥a)</p>

          <hr />
          <p><strong>compose_distrib2</strong></p>

          <p>
                ∀x ∈ set xs. x ≠ [ ] ⟹ xs ≠ [ ] ⟹ b
            <a href="#choice" title="choice">∪</a>
            <a href="#Choice" title="Choice">⋃</a> [a
            <a href="#composition" title="composition">;</a> (<a
              href="#Concat"
              title="Concat"
              >Concat</a
            >
            t). t ← xs] = b <a href="#choice" title="choice">∪</a> a ;⋃ [(<a
              href="#Concat"
              title="Concat"
              >Concat</a
            >
            t). t ← xs]
          </p>

          <hr />
          <p><strong>concur_recursive</strong></p>

          <p>
                ((a # xs)
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x) = a
            <a href="#composition" title="composition">;</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
            <a href="#choice" title="choice">∪</a>
            <a href="#Concat" title="Concat">Concat</a> (x#a#xs)
          </p>

          <hr />
          <p><strong>non_atomic_conc_S</strong></p>

          <p>
                <a href="#S" title="S">S</a> (xs∥x) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            (x#xs)
          </p>

          <hr />
          <p><strong>concor_three_1</strong></p>

          <p>
                [p<sub>1</sub>, p<sub>2</sub>]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q = ((q
            <a href="#composition" title="composition">;</a> p<sub>1</sub>)
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
            <a href="#choice" title="choice">∪</a> ((p<sub>1</sub>
            <a href="#composition" title="composition">;</a> q)
            <a href="#composition" title="composition">;</a> p<sub>2</sub>))
            <a href="#choice" title="choice">∪</a> ((p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> q)
          </p>

          <hr />
          <p><strong>concor_three_2</strong></p>

          <p>
                [p<sub>1</sub>, p<sub>2</sub>]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q
            <a href="#equal" title="equal">=</a> ((q
            <a href="#composition" title="composition">;</a> p<sub>1</sub>)
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
            <a href="#choice" title="choice">∪</a> ((p<sub>1</sub>
            <a href="#composition" title="composition">;</a> q)
            <a href="#composition" title="composition">;</a> p<sub>2</sub>))
            <a href="#choice" title="choice">∪</a> ((p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> q)
          </p>

          <hr />
          <p><strong>concor_three_3</strong></p>

          <p>
                [p<sub>1</sub>, p<sub>2</sub>]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q
            <a href="#equiv" title="equiv">≡</a> ((q
            <a href="#composition" title="composition">;</a> p<sub>1</sub>)
            <a href="#composition" title="composition">;</a> p<sub>2</sub>
            <a href="#choice" title="choice">∪</a> ((p<sub>1</sub>
            <a href="#composition" title="composition">;</a> q)
            <a href="#composition" title="composition">;</a> p<sub>2</sub>))
            <a href="#choice" title="choice">∪</a> ((p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
            <a href="#composition" title="composition">;</a> q)
          </p>

          <hr />
          <p><strong>Concat_feasible</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a> xs
            ⟹ <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#Concat"
              title="Concat"
              >Concat</a
            >
            xs)
          </p>

          <hr />
          <p><strong>Choice_feasible</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a> xs
            ⟹ <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#Choice"
              title="Choice"
              >⋃</a
            >
            xs)
          </p>

          <hr />
          <p><strong>all_feasible_prop</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a> xs
            ⟹ x ∈ set xs ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> x
          </p>

          <hr />
          <p><strong>all_feasible_prop_1</strong></p>

          <p>
                ∀x ∈ set xs.
            <a href="#is_feasible" title="is_feasible">is_feasible</a> x ≡
            <a href="#all_feasible" title="all_feasible">all_feasible</a> xs
          </p>

          <hr />
          <p><strong>all_feasible_prop_2</strong></p>

          <p>
                xs ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ys) ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a> ys ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a> xs
          </p>

          <hr />
          <p><strong>non_atomic_conc_feasible_preserving</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            (x#xs) ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
          </p>

          <hr />
          <p><strong>atomic_conc_refinement_safe</strong></p>

          <p>
                q<sub>1</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >1</sub
            >
            ⟹ q<sub>2</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >2</sub
            >
            ⟹ q<sub>3</sub> <a href="#refines" title="refines">⊑</a> p<sub
              >3</sub
            >
            ⟹ ([q<sub>1</sub>, q<sub>2</sub>]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a>
            q<sub>3</sub>)
            <a href="#refines" title="refines">⊑</a> ([p<sub>1</sub>,
            p<sub>2</sub>]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a>
            p<sub>3</sub>)
          </p>

          <hr />
          <p>
                ((ys@[x])@xs)
            <a
              href="#generalized_non_atomic_conc"
              title="generalized_non_atomic_conc"
              >∥<sub>G</sub></a
            >
            q <a href="#equiv" title="equiv">≡</a> (ys@([x]@xs))
            <a
              href="#generalized_non_atomic_conc"
              title="generalized_non_atomic_conc"
              >∥<sub>G</sub></a
            >
            q
          </p>

          <hr />
          <p><strong>atomic_restrict_1</strong></p>

          <p>
                (xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> [Concat t
            <a href="#restrict_p" title="restrict_p">/</a> C. t ←
            <a href="#insert_all" title="insert_all">insert_all</a> x xs]
          </p>

          <hr />
          <p><strong>concur_restrict</strong></p>

          <p>
                (xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
            <a href="#restrict_p" title="restrict_p">/</a> C =
            <a href="#Choice" title="Choice">⋃</a> [Concat t
            <a href="#restrict_p" title="restrict_p">/</a> C. t ←
            <a href="#insert_all" title="insert_all">insert_all</a> x xs]
          </p>

          <hr />
          <p><strong>atomic_corestrict_1</strong></p>

          <p>
                (xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> [Concat t
            <a href="#corestrict_p" title="corestrict_p">∖</a> C. t ←
            <a href="#insert_all" title="insert_all">insert_all</a> x xs]
          </p>

          <hr />
          <p><strong>equiv_list_prop_2</strong></p>

          <p>
                <a href="#equiv_list" title="equiv_list">equiv_list</a> xs ys ⟹
            <a href="#Choice" title="Choice">⋃</a> xs
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> ys
          </p>

          <hr />
          <p><strong>equiv_list_prop_1</strong></p>

          <p>
                ∀a ∈ set xs. a ≠ [ ] ⟹
            <a href="#equiv_list" title="equiv_list">equiv_list</a> [Concat t
            <a href="#restrict_p" title="restrict_p">/</a> C. t ← xs] [Concat
            (hd t <a href="#restrict_p" title="restrict_p">/</a> C # tl t). t ←
            xs]
          </p>

          <hr />
          <p><strong>equiv_list_prop_3</strong></p>

          <p>
                ∀a ∈ set xs. a ≠ [ ] ⟹
            <a href="#equiv_list" title="equiv_list">equiv_list</a> [Concat t
            <a href="#corestrict_p" title="corestrict_p">∖</a> C. t ← xs]
            [Concat (butlast t @ [(last t)∖ C]). t ← xs]
          </p>

          <hr />
          <p><strong>concur_restrict</strong></p>

          <p>
                (xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
            <a href="#restrict_p" title="restrict_p">/</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> [Concat (hd t/C#tl t). t ←
            <a href="#insert_all" title="insert_all">insert_all</a> x xs]
          </p>

          <hr />
          <p><strong>concur_corestrict</strong></p>

          <p>
                (xs <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> [Concat (butlast t @ [(last
            t)∖ C]). t ←
            <a href="#insert_all" title="insert_all">insert_all</a> x xs]
          </p>

          <hr />
          <p><strong>concur_specialize1</strong></p>

          <p>
                p <a href="#composition" title="composition">;</a> q
            <a href="#specialize" title="specialize">⊆</a> ([p]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> q)
          </p>

          <hr />
          <p><strong>non_atomic_specialize</strong></p>

          <p>
                ys ∈ set (<a href="#insert_all" title="insert_all"
              >insert_all</a
            >
            x xs) ⟹ (<a href="#Concat" title="Concat">Concat</a> ys)
            <a href="#specialize" title="specialize">⊆</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
          </p>

          <hr />
          <p><strong>commute_compose</strong></p>

          <p>
                <a href="#commute_programs3" title="commute_programs3"
              >commute_programs3</a
            >
            a b ⟹ [a] <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> b
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> b
          </p>

          <hr />
          <p><strong>concur_distrib1</strong></p>

          <p>
                xs∥(b <a href="#choice" title="choice">∪</a> c)
            <a href="#equiv" title="equiv">≡</a> (xs∥b)
            <a href="#choice" title="choice">∪</a> (xs∥c)
          </p>

          <hr />
          <p><strong>concur_choice1</strong></p>

          <p>
                [a∪b]∥(c) = ([a]∥c)
            <a href="#choice" title="choice">∪</a> ([b]∥c)
          </p>

          <hr />
          <p><strong>concur_choice2</strong></p>

          <p>
                xs∥(b <a href="#choice" title="choice">∪</a> c) = (xs∥b)
            <a href="#choice" title="choice">∪</a> (xs∥c)
          </p>

          <hr />
          <p><strong>concur_specialize2</strong></p>

          <p>
                ([Concat xs]
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
            <a href="#specialize" title="specialize">⊆</a> (xs
            <a href="#cnf_concurrency" title="cnf_concurrency">∥</a> x)
          </p>

          <hr />
          <h2 id="permutationsthy">Permutations.thy</h2>

          <p><strong>simp_2</strong></p>

          <p>
                ∀x<sub>1</sub> x<sub>2</sub> x<sub>3</sub>. f (f x<sub>1</sub>
            x<sub>2</sub>) x<sub>3</sub> = f x<sub>1</sub> (f x<sub>2</sub>
            x<sub>3</sub>) ⟹ foldl f (f a x) xs = f a (foldl f x xs)
          </p>

          <hr />
          <p><strong>fold_composition_assoc</strong></p>

          <p>
                foldl (<a href="#composition" title="composition">;</a>) x (as @
            [a]) = (foldl (<a href="#composition" title="composition">;</a>) x
            as) <a href="#composition" title="composition">;</a> a
          </p>

          <hr />
          <p><strong>S_foldl_composition</strong></p>

          <p>
                <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) x as) = ⋃ (<a href="#S" title="S">S</a> ` (set (x # as)))
          </p>

          <hr />
          <p><strong>main_theorem</strong></p>

          <p>
                <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) x (a # as)) = <a href="#S" title="S">S</a> ((foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) x as) <a href="#composition" title="composition">;</a> a)
          </p>

          <hr />
          <p><strong>skip_fold_complete_state</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a href="#Skip" title="Skip"
              >Skip</a
            >
            (<a href="#complete_state" title="complete_state">complete_state</a>
            (x # xs))) ∪ <a href="#S" title="S">S</a> x ∪
            <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) x xs) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            (x # xs) ∪ <a href="#S" title="S">S</a> x ∪
            <a href="#complete_state" title="complete_state">complete_state</a>
            xs
          </p>

          <hr />
          <p><strong>simp_5</strong></p>

          <p>
                <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            xs)) xs) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            xs
          </p>

          <hr />
          <p><strong>simp_4_right</strong></p>

          <p>
                <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            xs)) xs) ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            xs
          </p>

          <hr />
          <p><strong>fold_composition_state_inv</strong></p>

          <p>
                <a href="#S" title="S">S</a> (fold (<a
              href="#composition"
              title="composition"
              >;</a
            >) t b) = <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) b t)
          </p>

          <hr />
          <p>
                <a href="#S" title="S">S</a> (fold (<a
              href="#composition"
              title="composition"
              >;</a
            >) t (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            t))) = <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            t)) t)
          </p>

          <hr />
          <p><strong>permutation_fold_subset_complete_state</strong></p>

          <p>
                t ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            xs) ⟹ <a href="#S" title="S">S</a> (fold (<a
              href="#composition"
              title="composition"
              >;</a
            >) t (<a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            t))) ⊆
            <a href="#complete_state" title="complete_state">complete_state</a>
            xs
          </p>

          <hr />
          <p><strong>state_composition</strong></p>

          <p>
                x ∈ <a href="#S" title="S">S</a> a ⟹ x ∈
            <a href="#S" title="S">S</a> (a
            <a href="#composition" title="composition">;</a> b)
          </p>

          <hr />
          <p><strong>state_composition_1</strong></p>

          <p>
                x ∈ <a href="#S" title="S">S</a> p ⟹ x ∈
            <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) p (xs))
          </p>

          <hr />
          <p><strong>state_composition_2</strong></p>

          <p>
                x ∈ <a href="#S" title="S">S</a> a ⟹ x ∈
            <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) p (a#xs))
          </p>

          <hr />
          <p><strong>state_composition_3</strong></p>

          <p>
                x ∈ <a href="#S" title="S">S</a> a ⟹ x ∈
            <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) p (ys@a#xs))
          </p>

          <hr />
          <p><strong>complete_state_subset</strong></p>

          <p>
                <a href="#complete_state" title="complete_state"
              >complete_state</a
            >
            xs ⊆ <a href="#S" title="S">S</a> (<a href="#Skip" title="Skip"
              >Skip</a
            >
            (<a href="#complete_state" title="complete_state">complete_state</a>
            xs))
          </p>

          <hr />
          <p><strong>foldl_composition_preserves_state</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆
            <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) p xs)
          </p>

          <hr />
          <p><strong>Union_prop_1</strong></p>

          <p>    ⋃ (set (xs@[x])) = x ∪ ⋃ (set xs)</p>

          <hr />
          <p><strong>Union_prop_2</strong></p>

          <p>    ⋃ (xs ∪ {x}) = x ∪ ⋃ xs</p>

          <hr />
          <p><strong>fold_comp_prop1</strong></p>

          <p>
                xs ≠ [ ] ⟹ foldl (<a href="#composition" title="composition"
              >;</a
            >) x xs = foldl (<a href="#composition" title="composition">;</a>)
            (x <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a href="#S" title="S">S</a>
            x)) xs
          </p>

          <hr />
          <p><strong>fold_comp_prop2</strong></p>

          <p>
                xs ≠ [ ] ⟹ foldl (<a href="#composition" title="composition"
              >;</a
            >) x xs = foldl (<a href="#composition" title="composition">;</a>)
            (x <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (x#xs))) xs
          </p>

          <hr />
          <p><strong>fold_comp_prop3</strong></p>

          <p>
                <a href="#S" title="S">S</a> (foldl (<a
              href="#composition"
              title="composition"
              >;</a
            >) x xs) =
            <a href="#complete_state" title="complete_state">complete_state</a>
            (x # xs)
          </p>

          <hr />
          <p><strong>fold_comp_prop4</strong></p>

          <p>
                xs ≠ [ ] ⟹ foldl (<a href="#composition" title="composition"
              >;</a
            >) x xs = foldl (<a href="#composition" title="composition">;</a>)
            (x <a href="#composition" title="composition">;</a>
            <a href="#Skip" title="Skip">Skip</a> (<a
              href="#complete_state"
              title="complete_state"
              >complete_state</a
            >
            (xs))) xs
          </p>

          <hr />
          <p><strong>perm_prop_1</strong></p>

          <p>
                (filter (p) xs) @ (filter (λx. ¬ p x) xs) ∈ set (<a
              href="#permutations"
              title="permutations"
              >permutations</a
            >
            xs)
          </p>

          <hr />
          <p><strong>perm_prop_2</strong></p>

          <p>
                xs ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            ys) ⟹ map p xs ∈ set (<a href="#permutations" title="permutations"
              >permutations</a
            >
            (map p ys))
          </p>

          <hr />
          <h2 id="until_loopthy">Until_loop.thy</h2>

          <p><strong>until_conncetion</strong></p>

          <p>
                <a href="#until_loop" title="until_loop">until_loop</a> a C b n
            = <a href="#until_support" title="until_support">until_support</a> a
            C b 0 n
          </p>

          <hr />
          <p><strong>until_decomposition</strong></p>

          <p>
                <a href="#until_loop" title="until_loop">until_loop</a> a C b (n
            + 1) <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> ((b/(-C))<sup
              >n + 1</sup
            >
            <a href="#choice" title="choice">∪</a> (<a href="#loop" title="loop"
              >loop</a
            >
            (b/(-C)) 0 n)) <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>until_decomposition_2</strong></p>

          <p>
                <a href="#until_loop" title="until_loop">until_loop</a> a C b (n
            + 1) <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> ((b/(-C))<sup
              >n + 1</sup
            >) <a href="#corestrict_p" title="corestrict_p">∖</a> C
            <a href="#choice" title="choice">∪</a>
            <a href="#until_loop" title="until_loop">until_loop</a> a C b n
          </p>

          <hr />
          <p><strong>until_def_lemma_3</strong></p>

          <p>
                <a href="#until_loop" title="until_loop">until_loop</a> a C b n
            <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> ((<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            (<a href="#S" title="S">S</a> (b/(-C)))
            <a href="#restrict_p" title="restrict_p">/</a> (Pre (b/(-C))))
            <a href="#choice" title="choice">∪</a> (<a href="#loop" title="loop"
              >loop</a
            >
            (b/(-C)) 1 n)) <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>loop_choice1</strong></p>

          <p>
                <a href="#until_loop" title="until_loop">until_loop</a> a C b n
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Choice" title="Choice">⋃</a> [a
            <a href="#composition" title="composition">;</a> ((b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))<sup>nat i</sup
            >)∖C. i ← [0..int n]]
          </p>

          <hr />
          <p><strong>loop_choice2</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#until_loop"
              title="until_loop"
              >until_loop</a
            >
            a C b n) = ⋃ (set [Range_p (a
            <a href="#composition" title="composition">;</a> ((b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))<sup>nat i</sup
            >)∖C). i ← [0..int n]])
          </p>

          <hr />
          <p><strong>until_loop_feasible</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [a, b] ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#until_loop"
              title="until_loop"
              >until_loop</a
            >
            a C b n)
          </p>

          <hr />
          <p><strong>equiv_is_maintained_by_until_loop_2</strong></p>

          <p>
                a<sub>1</sub> <a href="#equiv" title="equiv">≡</a> a<sub>2</sub>
            ⟹ b<sub>1</sub> <a href="#equiv" title="equiv">≡</a> b<sub>2</sub> ⟹
            <a href="#S" title="S">S</a> b<sub>1</sub> =
            <a href="#S" title="S">S</a> b<sub>2</sub> ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [b<sub>1</sub>, b<sub>2</sub>] ⟹
            <a href="#until_loop" title="until_loop">until_loop</a> a<sub
              >1</sub
            >
            C b<sub>1</sub> n <a href="#equiv" title="equiv">≡</a>
            <a href="#until_loop" title="until_loop">until_loop</a> a<sub
              >2</sub
            >
            C b<sub>2</sub> n
          </p>

          <hr />
          <p><strong>until_decom</strong></p>

          <p>
                k&lt;n ⟹
            <a href="#until_loop" title="until_loop">until_loop</a> a C b n
            <a href="#equiv" title="equiv">≡</a>
            <a href="#until_loop" title="until_loop">until_loop</a> a C b n
            <a href="#choice" title="choice">∪</a>
            <a href="#until_loop" title="until_loop">until_loop</a> a C b k
          </p>

          <hr />
          <p><strong>range_until_loop_1</strong></p>

          <p>
                m&lt;n ⟹ x ∉ <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#until_loop"
              title="until_loop"
              >until_loop</a
            >
            a C b n) ⟹ x ∉ <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#until_loop"
              title="until_loop"
              >until_loop</a
            >
            a C b m)
          </p>

          <hr />
          <p><strong>range_until_loop_2</strong></p>

          <p>
                m&lt;n ⟹ x ∉ <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#until_loop"
              title="until_loop"
              >until_loop</a
            >
            a C b n) ⟹ x ∉ <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#until_support"
              title="until_support"
              >until_support</a
            >
            a C b s m)
          </p>

          <hr />
          <p><strong>loop_range</strong></p>

          <p>
                <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#until_loop"
              title="until_loop"
              >until_loop</a
            >
            a C b n) ⊆ C
          </p>

          <hr />
          <p><strong>split_front</strong></p>

          <p>
                <a href="#until_loop" title="until_loop">until_loop</a> (x
            <a href="#composition" title="composition">;</a> a) C b n
            <a href="#equiv" title="equiv">≡</a> x
            <a href="#composition" title="composition">;</a>
            <a href="#until_loop" title="until_loop">until_loop</a> a C b n
          </p>

          <hr />
          <p><strong>fail_until</strong></p>

          <p>
                <a href="#until_loop" title="until_loop">until_loop</a> a C b (n
            + 1) <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ⟹
            <a href="#until_loop" title="until_loop">until_loop</a> a C b n
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>fail_until_2</strong></p>

          <p>
                k&lt;n ⟹
            <a href="#until_loop" title="until_loop">until_loop</a> a C b n
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {} ⟹
            <a href="#until_loop" title="until_loop">until_loop</a> a C b k
            <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>loop_prop1</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a href="#loop" title="loop"
              >loop</a
            >
            (b/(-C)) 0 n) = <a href="#S" title="S">S</a> b
          </p>

          <hr />
          <p><strong>loop_prop2</strong></p>

          <p>
                State (<a href="#loop" title="loop">loop</a> (b/(-C)) 0 n) =
            <a href="#S" title="S">S</a> b
          </p>

          <hr />
          <p><strong>loop_prop3</strong></p>

          <p>
                <a href="#S" title="S">S</a> (<a
              href="#until_loop"
              title="until_loop"
              >until_loop</a
            >
            a C b n) = <a href="#S" title="S">S</a> a ∪
            <a href="#S" title="S">S</a> b
          </p>

          <hr />
          <p><strong>loop_prop4</strong></p>

          <p>
                State (<a href="#until_loop" title="until_loop">until_loop</a> a
            C b n) = <a href="#S" title="S">S</a> (<a
              href="#until_loop"
              title="until_loop"
              >until_loop</a
            >
            a C b n)
          </p>

          <hr />
          <p><strong>loop_prop5</strong></p>

          <p>
                State (<a href="#until_loop" title="until_loop">until_loop</a> a
            C b n) = <a href="#S" title="S">S</a> a ∪
            <a href="#S" title="S">S</a> b
          </p>

          <hr />
          <p><strong>loop_prop6</strong></p>

          <p>
                <a href="#until_loop" title="until_loop">until_loop</a> (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            D) <a href="#FALSE" title="FALSE">FALSE</a> (<a
              href="#Skip"
              title="Skip"
              >Skip</a
            >
            D) n = <a href="#Fail" title="Fail">Fail</a> D
          </p>

          <hr />
          <h2 id="until_supportthy">Until_support.thy</h2>

          <p><strong>until_decomp_1</strong></p>

          <p>
                <a href="#until_support" title="until_support">until_support</a>
            a C b 0 n <a href="#equiv" title="equiv">≡</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b 0 0 <a href="#choice" title="choice">∪</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b (0 + 1) n
          </p>

          <hr />
          <p><strong>until_decomp_2</strong></p>

          <p>
                <a href="#until_support" title="until_support">until_support</a>
            a C b 0 (n + 1) <a href="#equiv" title="equiv">≡</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b 0 n <a href="#choice" title="choice">∪</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b (n + 1) (n + 1)
          </p>

          <hr />
          <p><strong>until_decomp_3</strong></p>

          <p>
                s &lt; f ⟹
            <a href="#until_support" title="until_support">until_support</a> a C
            b s f <a href="#equiv" title="equiv">≡</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b s s <a href="#choice" title="choice">∪</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b (s + 1) f
          </p>

          <hr />
          <p><strong>until_decomp_4</strong></p>

          <p>
                s &lt; f ⟹
            <a href="#until_support" title="until_support">until_support</a> a C
            b s (f + 1) <a href="#equiv" title="equiv">≡</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b (f + 1) (f + 1) <a href="#choice" title="choice">∪</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b s f
          </p>

          <hr />
          <p><strong>until_decomp_5</strong></p>

          <p>
                0 &lt; k ⟹ k &lt; n ⟹
            <a href="#until_support" title="until_support">until_support</a> a C
            b 0 n <a href="#equiv" title="equiv">≡</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b 0 k <a href="#choice" title="choice">∪</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b (k + 1) n
          </p>

          <hr />
          <p><strong>until_decomp_6</strong></p>

          <p>
                s &lt; k ⟹ k &lt; f ⟹
            <a href="#until_support" title="until_support">until_support</a> a C
            b s f <a href="#equiv" title="equiv">≡</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b s k <a href="#choice" title="choice">∪</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b (k + 1) f
          </p>

          <hr />
          <p><strong>until_decomp_7</strong></p>

          <p>
                s = f ⟹
            <a href="#until_support" title="until_support">until_support</a> a C
            b s f <a href="#equiv" title="equiv">≡</a> a
            <a href="#composition" title="composition">;</a> ((b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))<sup>f</sup>)
            <a href="#corestrict_p" title="corestrict_p">∖</a> C
          </p>

          <hr />
          <p><strong>until_support_feasible</strong></p>

          <p>
                <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [a, b] ⟹
            <a href="#is_feasible" title="is_feasible">is_feasible</a> (<a
              href="#until_support"
              title="until_support"
              >until_support</a
            >
            a C b s f)
          </p>

          <hr />
          <p><strong>equiv_is_maintained_by_until_support_1</strong></p>

          <p>
                a<sub>1</sub> <a href="#equiv" title="equiv">≡</a> a<sub>2</sub>
            ⟹ b<sub>1</sub> <a href="#equiv" title="equiv">≡</a> b<sub>2</sub> ⟹
            <a href="#S" title="S">S</a> b<sub>1</sub> =
            <a href="#S" title="S">S</a> b<sub>2</sub> ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [b<sub>1</sub>, b<sub>2</sub>] ⟹
            <a href="#until_support" title="until_support">until_support</a>
            a<sub>1</sub> C b<sub>1</sub> s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#until_support" title="until_support">until_support</a>
            a<sub>2</sub> C b<sub>2</sub> s f
          </p>

          <hr />
          <p><strong>equiv_is_maintained_by_until_support_2</strong></p>

          <p>
                a<sub>1</sub> <a href="#equiv" title="equiv">≡</a> a<sub>2</sub>
            ⟹ b<sub>1</sub> <a href="#equiv" title="equiv">≡</a> b<sub>2</sub> ⟹
            0&lt;s ⟹
            <a href="#all_feasible" title="all_feasible">all_feasible</a>
            [b<sub>1</sub>, b<sub>2</sub>] ⟹
            <a href="#until_support" title="until_support">until_support</a>
            a<sub>1</sub> C b<sub>1</sub> s f
            <a href="#equiv" title="equiv">≡</a>
            <a href="#until_support" title="until_support">until_support</a>
            a<sub>2</sub> C b<sub>2</sub> s f
          </p>

          <hr />
          <p><strong>bad_index_is_fail_support</strong></p>

          <p>
                f &lt; s ⟹
            <a href="#until_support" title="until_support">until_support</a> a C
            b s f <a href="#equiv" title="equiv">≡</a>
            <a href="#Fail" title="Fail">Fail</a> {}
          </p>

          <hr />
          <p><strong>bad_index_range_support</strong></p>

          <p>
                f &lt; s ⟹ <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#until_support"
              title="until_support"
              >until_support</a
            >
            a C b s f) = {}
          </p>

          <hr />
          <p><strong>until_support_decomp</strong></p>

          <p>
                s&lt;s’ ⟹ f’&lt;f ⟹
            <a href="#until_support" title="until_support">until_support</a> a C
            b s f <a href="#equiv" title="equiv">≡</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b s f <a href="#choice" title="choice">∪</a>
            <a href="#until_support" title="until_support">until_support</a> a C
            b s’ f’
          </p>

          <hr />
          <h2 id="contractthy">Contract.thy</h2>

          <p><strong>consequence_rule</strong></p>

          <p>
                post<sub>1</sub> ⊆ post<sub>2</sub> ⟹ Pre<sub>2</sub> ⊆ Pre<sub
              >1</sub
            >
            ⟹
            <a href="#is_correct" title="is_correct">is_correct</a>
            〈a_specification=〈State=Pre<sub>1</sub> ∪ Field post<sub>2</sub>,
            Pre=Pre<sub>1</sub>, post=post<sub>1</sub>〉, a_implementation=b〉 ⟹
            <a href="#is_correct" title="is_correct">is_correct</a>
            〈a_specification=〈State=Pre<sub>1</sub> ∪ Field post<sub>2</sub>,
            Pre=Pre<sub>2</sub>, post=post<sub>2</sub>〉, a_implementation=b〉
          </p>

          <hr />
          <p><strong>post_charac_old</strong></p>

          <p>
                <a href="#is_correct" title="is_correct">is_correct</a>
            〈a_specification=s, a_implementation=b〉 ⟹ b
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            (Pre s) ⊆ post s
          </p>

          <hr />
          <p><strong>pre_charac_old</strong></p>

          <p>
                <a href="#is_correct" title="is_correct">is_correct</a>
            〈a_specification=s, a_implementation=b〉 ⟹ Pre s ⊆ b
            <a href="#weakest_precondition" title="weakest_precondition">wp</a>
            (post s)
          </p>

          <hr />
          <p><strong>correct_program_1</strong></p>

          <p>
                <a href="#is_correct" title="is_correct">is_correct</a>
            〈a_specification=s, a_implementation=b〉 ⟹ Pre s ⊆ Pre b - Domain
            (post b - post s)
          </p>

          <hr />
          <p><strong>correct_program_2</strong></p>

          <p>
                <a href="#S" title="S">S</a> s = <a href="#S" title="S">S</a> b
            ⟹ <a href="#is_feasible" title="is_feasible">is_feasible</a> b ⟹ Pre
            s ⊆ Pre b - Domain (post b - post s) ⟹
            <a href="#is_correct" title="is_correct">is_correct</a>
            〈a_specification=s, a_implementation=b〉
          </p>

          <hr />
          <p><strong>correct_program</strong></p>

          <p>
                <a href="#S" title="S">S</a> s = <a href="#S" title="S">S</a> b
            ⟹ <a href="#is_feasible" title="is_feasible">is_feasible</a> b ⟹
            <a href="#is_correct" title="is_correct">is_correct</a>
            〈a_specification=s, a_implementation=b〉 = (Pre s ⊆ Pre b - Domain
            (post b - post s))
          </p>

          <hr />
          <p><strong>fail_false</strong></p>

          <p>
                b
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            <a href="#FALSE" title="FALSE">FALSE</a> =
            <a href="#FALSE" title="FALSE">FALSE</a>
          </p>

          <hr />
          <p><strong>false_fail</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> b ⟹ b
            <a href="#weakest_precondition" title="weakest_precondition">wp</a>
            <a href="#FALSE" title="FALSE">FALSE</a> =
            <a href="#FALSE" title="FALSE">FALSE</a>
          </p>

          <hr />
          <p>
                b
            <a href="#weakest_precondition" title="weakest_precondition">wp</a>
            <a href="#FALSE" title="FALSE">FALSE</a> = Pre b - Domain (post b)
          </p>

          <hr />
          <p><strong>fail_pre</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> S’
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            Pre’ = {}
          </p>

          <hr />
          <p><strong>sp_prop1</strong></p>

          <p>
                p
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            <a href="#TRUE" title="TRUE">TRUE</a> (<a href="#S" title="S">S</a>
            p) = post p
          </p>

          <hr />
          <p><strong>wp_prop1</strong></p>

          <p>
                p
            <a href="#weakest_precondition" title="weakest_precondition">wp</a>
            TRUE (<a href="#S" title="S">S</a> p) = Pre p
          </p>

          <hr />
          <p>
                <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            pre = {(x,y). x ∈ pre ∧ x ∈ C ∧ y ∈ C}
          </p>

          <hr />
          <p>
                <a href="#Havoc" title="Havoc">Havoc</a> C
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            pre = post (<a href="#Havoc" title="Havoc">Havoc</a> C)
            <a href="#restrict_r" title="restrict_r">/</a> pre
          </p>

          <hr />
          <p><strong>fail_post</strong></p>

          <p>
                <a href="#Fail" title="Fail">Fail</a> S’
            <a href="#weakest_precondition" title="weakest_precondition">wp</a>
            post’ = <a href="#FALSE" title="FALSE">FALSE</a>
          </p>

          <hr />
          <p><strong>sp_distrib</strong></p>

          <p>
                b
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            (p ∪ q) = b
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            p ∪ b
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            q
          </p>

          <hr />
          <p><strong>wp_distrib2</strong></p>

          <p>
                (b
            <a href="#weakest_precondition" title="weakest_precondition">wp</a>
            p) ∪ (b
            <a href="#weakest_precondition" title="weakest_precondition">wp</a>
            q) ⊆ b
            <a href="#weakest_precondition" title="weakest_precondition">wp</a>
            (p ∪ q)
          </p>

          <hr />
          <p><strong>sanity</strong></p>

          <p>
                q <a href="#refines" title="refines">⊑</a> p ⟹
            〈a_specification=s, a_implementation=q〉
            <a href="#refines_c" title="refines_c">⊑</a> 〈a_specification=s,
            a_implementation=p〉
          </p>

          <hr />
          <p><strong>mai_theorem_1</strong></p>

          <p>
                <a href="#is_feasible" title="is_feasible">is_feasible</a> p ⟹
            <a href="#is_correct" title="is_correct">is_correct</a> (<a
              href="#MAI"
              title="MAI"
              >MAI</a
            >
            p)
          </p>

          <hr />
          <p><strong>state_feasible_1</strong></p>

          <p>
                (∀s ∈ Pre p .
            <a href="#is_trivial" title="is_trivial">is_trivial</a> (post p) s ∨
            <a href="#is_relevant" title="is_relevant">is_relevant</a> (post p)
            s) = <a href="#is_feasible" title="is_feasible">is_feasible</a> p
          </p>

          <hr />
          <p>
                (<a href="#Infeas" title="Infeas">Infeas</a> D)
            <a href="#weakest_precondition" title="weakest_precondition">wp</a>
            C = <a href="#TRUE" title="TRUE">TRUE</a> D
          </p>

          <hr />
          <p>
                (<a href="#Infeas" title="Infeas">Infeas</a> D)
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            C = <a href="#FALSE" title="FALSE">FALSE</a>
          </p>

          <hr />
          <p>
                (<a href="#Havoc" title="Havoc">Havoc</a> D)
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            C = (TRUE D) <a href="#restrict_r" title="restrict_r">/</a> C
          </p>

          <hr />
          <p>
                (<a href="#Infeas" title="Infeas">Infeas</a> D)
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            C = <a href="#FALSE" title="FALSE">FALSE</a>
          </p>

          <hr />
          <p><strong>post_charac</strong></p>

          <p>
                <a href="#implements" title="implements">implements</a> a b ⟹ a
            <a href="#strongest_postcondition" title="strongest_postcondition"
              >sp</a
            >
            (Pre b) ⊆ post b
          </p>

          <hr />
          <p><strong>pre_charac</strong></p>

          <p>
                <a href="#implements" title="implements">implements</a> i s ⟹
            Pre s ⊆ i
            <a href="#weakest_precondition" title="weakest_precondition">wp</a>
            (post s)
          </p>

          <hr />
          <h2 id="invariantthy">Invariant.thy</h2>

          <p><strong>invariant_disjoint_from_pre</strong></p>

          <p>
                I ∩ (Pre p) = {} ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I p
          </p>

          <hr />
          <p><strong>false_is_invariant</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a>
            <a href="#FALSE" title="FALSE">FALSE</a> p
          </p>

          <hr />
          <p><strong>equiv_inv</strong></p>

          <p>
                p<sub>1</sub> <a href="#equiv" title="equiv">≡</a> p<sub>2</sub>
            ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>1</sub> =
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>2</sub>
          </p>

          <hr />
          <p><strong>invariant_relation_1</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> J
            p ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> (I
            ∪ J) p
          </p>

          <hr />
          <p><strong>invariant_relation_2</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> J
            p ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> (I
            ∩ J) p
          </p>

          <hr />
          <p><strong>invariant_refinement</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>1</sub> ⟹ p<sub>2</sub>
            <a href="#refines" title="refines">⊑</a> p<sub>1</sub> ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (p<sub>2</sub> <a href="#restrict_p" title="restrict_p">/</a> (Pre
            p<sub>1</sub>))
          </p>

          <hr />
          <p><strong>invariant_prop_specialize</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>1</sub> ⟹ p<sub>2</sub>
            <a href="#specialize" title="specialize">⊆</a> p<sub>1</sub> ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>invariant_prop_2</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (<a href="#Fail" title="Fail">Fail</a> C)
          </p>

          <hr />
          <p><strong>invariant_prop_3</strong></p>

          <p>
                C ⊆ I ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I (<a
              href="#Havoc"
              title="Havoc"
              >Havoc</a
            >
            C)
          </p>

          <hr />
          <p><strong>invariant_prop_4</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (<a href="#Skip" title="Skip">Skip</a> C)
          </p>

          <hr />
          <p><strong>composition_invariant_preserve</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>1</sub> ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>2</sub> ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (p<sub>1</sub>
            <a href="#composition" title="composition">;</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>choice_invariant_preserve</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>1</sub> ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>2</sub> ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (p<sub>1</sub> <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>choice_invariant_preserve_2</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (p<sub>1</sub> <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
            ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>1</sub>
          </p>

          <hr />
          <p><strong>choice_invariant_preserve_3</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (p<sub>1</sub> <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
            ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>2</sub>
          </p>

          <hr />
          <p><strong>choice_invariant_preserve_4</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (p<sub>1</sub> <a href="#choice" title="choice">∪</a> p<sub>2</sub>)
            = (<a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>1</sub> ∧
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p<sub>2</sub>)
          </p>

          <hr />
          <p><strong>restriction_invariant_preserve</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (p <a href="#restrict_p" title="restrict_p">/</a> C)
          </p>

          <hr />
          <p><strong>restriction_invariant_preserve_2</strong></p>

          <p>
                I ⊆ C ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I (p
            <a href="#restrict_p" title="restrict_p">/</a> C) ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I p
          </p>

          <hr />
          <p><strong>corestriction_invariant_preserve</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (p <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>c_is_invariant</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> C
            (p <a href="#corestrict_p" title="corestrict_p">∖</a> C)
          </p>

          <hr />
          <p><strong>guarded_conditional_invariant_preserve</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            q ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (<a href="#GC" title="GC">GC</a> [(C, p), (D, q)])
          </p>

          <hr />
          <p><strong>if_then_else_invariant_preserve</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            q ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (<a href="#ITE" title="ITE">ITE</a> C p q)
          </p>

          <hr />
          <p><strong>fixed_repetition_invariant_preserve</strong></p>

          <p>
                 <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (p<sup>n</sup>)
          </p>

          <hr />
          <p><strong>arbitrary_repetition_invariant_preserve</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            p ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (<a href="#loop" title="loop">loop</a> p s f)
          </p>

          <hr />
          <p><strong>until_support_invariant_preserve</strong></p>

          <p>
                0&lt;s ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I a ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I b ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I (<a
              href="#until_support"
              title="until_support"
              >until_support</a
            >
            a C b s f)
          </p>

          <hr />
          <p><strong>until_loop_invariant_preserve</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            a ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            b ⟹ <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            (<a href="#until_loop" title="until_loop">until_loop</a> a C b n)
          </p>

          <hr />
          <p><strong>inverse_is_not_invariant_preseving</strong></p>

          <p>
                Pre p ⊆ I ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I p ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I (p
            <a href="#inverse" title="inverse"><sup>-</sup><sup>1</sup></a
            >)
          </p>

          <hr />
          <p><strong>true_is_invariant</strong></p>

          <p>
                <a href="#S" title="S">S</a> p ⊆ C ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> (<a
              href="#TRUE"
              title="TRUE"
              >TRUE</a
            >
            C) p
          </p>

          <hr />
          <p><strong>invariant_exp</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            b ⟹ x ∈ Pre b ⟹ (x,y) ∈ post b ⟹ x ∈ I ⟹ y ∈ I
          </p>

          <hr />
          <p><strong>invariant_preserve</strong></p>

          <p>
                <a href="#is_invariant" title="is_invariant">is_invariant</a> I
            b ⟹ <a href="#Range_p" title="Range_p">Range_p</a> a ⊆ I ⟹ x ∈ Pre a
            ⟹ (x,y) ∈ post (a
            <a href="#composition" title="composition">;</a> b) ⟹ y ∈ I
          </p>

          <hr />
          <h2 id="loop_invariantthy">Loop_invariant.thy</h2>

          <p><strong>false_is_loop_invariant</strong></p>

          <p>
                <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            <a href="#FALSE" title="FALSE">FALSE</a> a C b
          </p>

          <hr />
          <p><strong>true_is_loop_invariant</strong></p>

          <p>
                <a href="#S" title="S">S</a> a ∪ <a href="#S" title="S">S</a> b
            ∪ C ⊆ D ⟹
            <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            (<a href="#TRUE" title="TRUE">TRUE</a> D) a C b
          </p>

          <hr />
          <p><strong>loop_invariant_is_invariant_of_loop</strong></p>

          <p>
                0&lt;s ⟹
            <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a C b ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I (<a
              href="#loop"
              title="loop"
              >loop</a
            >
            (b/(-C)) s n)
          </p>

          <hr />
          <p><strong>loop_correct_1</strong></p>

          <p>
                <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a C b ⟹ <a href="#Range_p" title="Range_p">Range_p</a> (a
            <a href="#composition" title="composition">;</a>
            <a href="#loop" title="loop">loop</a> (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C)) n n) ⊆ I
          </p>

          <hr />
          <p><strong>loop_correct_2</strong></p>

          <p>
                <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a C b ⟹ <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#until_support"
              title="until_support"
              >until_support</a
            >
            a C b n n) ⊆ I
          </p>

          <hr />
          <p><strong>loop_correct_3</strong></p>

          <p>
                s&lt;f ⟹
            <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a C b ⟹ <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#until_support"
              title="until_support"
              >until_support</a
            >
            a C b s f) ⊆ I
          </p>

          <hr />
          <p><strong>loop_correct</strong></p>

          <p>
                <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a C b ⟹ <a href="#Range_p" title="Range_p">Range_p</a> (<a
              href="#until_loop"
              title="until_loop"
              >until_loop</a
            >
            a C b n) ⊆ C ∩ I
          </p>

          <hr />
          <p><strong>is_invariant_is_preserved</strong></p>

          <p>
                p <a href="#equiv" title="equiv">≡</a> q ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I p ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I q
          </p>

          <hr />
          <p><strong>is_loop_invariant_is_preserved</strong></p>

          <p>
                a <a href="#equiv" title="equiv">≡</a> a’ ⟹ b
            <a href="#equiv" title="equiv">≡</a> b’ ⟹
            <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a C b ⟹
            <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a’ C b’
          </p>

          <hr />
          <p><strong>loop_inv_is_inv_for_a</strong></p>

          <p>
                <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a C b ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I a
          </p>

          <hr />
          <p><strong>Loop_inv_1</strong></p>

          <p>
                <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a C b ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I (b
            <a href="#restrict_p" title="restrict_p">/</a> (- C))
          </p>

          <hr />
          <p><strong>loop_inv_is_inv_of_loop</strong></p>

          <p>
                <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a C b ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I (<a
              href="#loop"
              title="loop"
              >loop</a
            >
            (b/(-C)) 0 n)
          </p>

          <hr />
          <p><strong>Loop_invinv</strong></p>

          <p>
                <a href="#is_loop_invariant" title="is_loop_invariant"
              >is_loop_invariant</a
            >
            I a C b ⟹
            <a href="#is_invariant" title="is_invariant">is_invariant</a> I (<a
              href="#until_loop"
              title="until_loop"
              >until_loop</a
            >
            a C b n)
          </p>

          <hr />
        </main>
      </div>
    </div>

    <div class="flex-1"></div>
  </body>
</html>
